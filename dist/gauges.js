!function(e){function t(o){if(r[o])return r[o].exports;var i=r[o]={exports:{},id:o,loaded:!1};return e[o].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var r={};return t.m=e,t.c=r,t.p="",t(0)}([function(e,t,r){steelseries=r(4),simplegauges=r(3),WebSocket=r(19),SignalK=r(5)},function(e,t){function r(){d=!1,a.length?s=a.concat(s):c=-1,s.length&&o()}function o(){if(!d){var e=setTimeout(r);d=!0;for(var t=s.length;t;){for(a=s,s=[];++c<t;)a&&a[c].run();c=-1,t=s.length}a=null,d=!1,clearTimeout(e)}}function i(e,t){this.fun=e,this.array=t}function n(){}var a,l=e.exports={},s=[],d=!1,c=-1;l.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];s.push(new i(e,t)),1!==s.length||d||setTimeout(o,0)},i.prototype.run=function(){this.fun.apply(null,this.array)},l.title="browser",l.browser=!0,l.env={},l.argv=[],l.version="",l.versions={},l.on=n,l.addListener=n,l.once=n,l.off=n,l.removeListener=n,l.removeAllListeners=n,l.emit=n,l.binding=function(e){throw new Error("process.binding is not supported")},l.cwd=function(){return"/"},l.chdir=function(e){throw new Error("process.chdir is not supported")},l.umask=function(){return 0}},function(e,t,r){(function(e,o){function i(e,t){this._id=e,this._clearFn=t}var n=r(1).nextTick,a=Function.prototype.apply,l=Array.prototype.slice,s={},d=0;t.setTimeout=function(){return new i(a.call(setTimeout,window,arguments),clearTimeout)},t.setInterval=function(){return new i(a.call(setInterval,window,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(window,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},t.setImmediate="function"==typeof e?e:function(e){var r=d++,o=arguments.length<2?!1:l.call(arguments,1);return s[r]=!0,n(function(){s[r]&&(o?e.apply(null,o):e.call(null),t.clearImmediate(r))}),r},t.clearImmediate="function"==typeof o?o:function(e){delete s[e]}}).call(t,r(2).setImmediate,r(2).clearImmediate)},function(e,t){function r(){this.speed=new steelseries.Radial("speedCanvas",{gaugeType:steelseries.GaugeType.TYPE4,frameDesign:steelseries.FrameDesign.TILTED_BLACK,size:400,titleString:"SOG",unitString:"knots",lcdVisible:!0,maxValue:10,maxMeasuredValue:0,maxMeasuredValueVisible:!0,thresholdVisible:!1,ledVisible:!1,pointerType:steelseries.PointerType.TYPE4}),this.depth=new steelseries.Radial("depthCanvas",{gaugeType:steelseries.GaugeType.TYPE4,frameDesign:steelseries.FrameDesign.TILTED_BLACK,size:400,section:[steelseries.Section(0,4,"rgba(255, 0, 0, 0.3)"),steelseries.Section(4,8,"rgba(220, 220, 0, 0.3)")],titleString:"Depth",unitString:"m",lcdVisible:!0,maxValue:20,maxMeasuredValue:0,maxMeasuredValueVisible:!0,thresholdVisible:!1,ledVisible:!1,pointerType:steelseries.PointerType.TYPE2}),this.compass=new steelseries.Compass("compassCanvas",{frameDesign:steelseries.FrameDesign.TILTED_BLACK,size:400,rotateFace:!0,pointerType:steelseries.PointerType.TYPE5}),this.wind=new steelseries.WindDirection("windCanvas",{frameDesign:steelseries.FrameDesign.TILTED_BLACK,size:400,lcdVisible:!0,degreeScaleHalf:!0,pointSymbolsVisible:!1,pointerType:steelseries.PointerType.TYPE5}),this.eventHandlers={"navigation.speedOverGround":function(e){null!=e&&this.speed.setValue(e)}.bind(this),"navigation.courseOverGroundTrue":function(e){this.compass.setValue(e)}.bind(this),"environment.depth.belowTransducer":function(e){this.depth.setValue(e)}.bind(this),"environment.wind.angleApparent":function(e){this.wind.setValueLatest(e)}.bind(this)},this.dispatch=this.doDispatch.bind(this)}r.prototype={doDispatch:function(e){if(e.context==="vessels."+this.selfId&&e.updates){var t=this;e.updates.forEach(function(e){e.values.forEach(function(e){t.eventHandlers[e.path]&&"function"==typeof t.eventHandlers[e.path]&&t.eventHandlers[e.path](e.value)})})}},setSelfId:function(e){this.selfId=e}},e.exports.GaugeSet=r},function(e,t){/*!
	 * Name          : steelseries.js
	 * Authors       : Gerrit Grunwald, Mark Crossley
	 * Last modified : 29.01.2014
	 * Revision      : 0.14.7
	 *
	 * Copyright (c) 2011, Gerrit Grunwald, Mark Crossley
	 * All rights reserved.
	 *
	 *  Redistribution and use in source and binary forms, with or without modification, are permitted
	 *  provided that the following conditions are met:
	 *
	 *  # Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
	 *  # Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following
	 *    disclaimer in the documentation and/or other materials provided with the distribution.
	 *
	 *   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING,
	 *   BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT
	 *   SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
	 *   DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES, LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
	 *   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE
	 *   OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
	 */
"option strict";var r=function(){function e(e,t){var r="#"===e.charAt(0)?e.substring(1,7):e,o=parseInt(r.substring(0,2),16),i=parseInt(r.substring(2,4),16),n=parseInt(r.substring(4,6),16);return this.color="rgba("+o+","+i+","+n+","+t+")",this}function t(e,t,r,o,i){var n=1/255,a=e.getRed(),l=e.getGreen(),s=e.getBlue(),d=e.getAlpha(),c=t.getRed()-a,u=t.getGreen()-l,h=t.getBlue()-s,f=t.getAlpha()*n-d*n,p=c/r*o,g=u/r*o,v=h/r*o,b=f/r*o;return i=i||!1,i?[(a+p).toFixed(0),(l+g).toFixed(0),(s+v).toFixed(0),d+b]:new ce((a+p).toFixed(0),(l+g).toFixed(0),(s+v).toFixed(0),d+b)}function o(e,t,r){return{start:e,stop:t,color:r}}function i(e,t){var r,o=Math.floor(Math.log10(e)),i=e/Math.pow(10,o);return r=t?1.5>i?1:3>i?2:7>i?5:10:1>=i?1:2>=i?2:5>=i?5:10,r*Math.pow(10,o)}function n(e,t,r,o,i,n){var a=t+o,l=r+i;e.beginPath(),e.moveTo(t+n,r),e.lineTo(a-n,r),e.quadraticCurveTo(a,r,a,r+n),e.lineTo(a,r+i-n),e.quadraticCurveTo(a,l,a-n,l),e.lineTo(t+n,l),e.quadraticCurveTo(t,l,t,l-n),e.lineTo(t,r+n),e.quadraticCurveTo(t,r,t+n,r),e.closePath(),e.stroke()}function a(e,t){var r=_.createElement("canvas");return r.width=e,r.height=t,r}function l(e,t,r){var o=_.createElement("canvas");return o.width=e,o.height=t,r(o.getContext("2d")),o}function s(e){var t,r=l(1,1,function(t){t.fillStyle=e,t.beginPath(),t.rect(0,0,1,1),t.fill()});return t=r.getContext("2d").getImageData(0,0,2,2).data,[t[0],t[1],t[2],t[3]]}function d(e){var t,r,o,i,n,a=s(e),l=new ce(a[0],a[1],a[2],a[3]);return t=p(l,.32),r=p(l,.62),o=g(l,.84),i=g(l,.94),n=g(l,1),new ve(t,r,l,o,i,n)}function c(e,t,r){var o,i,n,a,l,s;if(e/=255,t/=255,r/=255,i=Math.max(e,t,r),o=Math.min(e,t,r),l=(i+o)/2,i===o)n=a=0;else{switch(s=i-o,a=l>.5?s/(2-i-o):s/(i+o),i){case e:n=(t-r)/s+(r>t?6:0);break;case t:n=(r-e)/s+2;break;case r:n=(e-t)/s+4}n/=6}return[n,a,l]}function u(e,t,r){var o,i,n,a=Math.floor(6*e),l=6*e-a,s=r*(1-t),d=r*(1-l*t),c=r*(1-(1-l)*t);switch(a%6){case 0:o=r,i=c,n=s;break;case 1:o=d,i=r,n=s;break;case 2:o=s,i=r,n=c;break;case 3:o=s,i=d,n=r;break;case 4:o=c,i=s,n=r;break;case 5:o=r,i=s,n=d}return[Math.floor(255*o),Math.floor(255*i),Math.floor(255*n)]}function h(e,t,r){var o,i,n,a,l,s;if(e/=255,t/=255,r/=255,i=Math.max(e,t,r),o=Math.min(e,t,r),l=i,s=i-o,a=0===i?0:s/i,i===o)n=0;else{switch(i){case e:n=(t-r)/s+(r>t?6:0);break;case t:n=(r-e)/s+2;break;case r:n=(e-t)/s+4}n/=6}return[n,a,l]}function f(e,t){return 0>e?0:e>t?t:e}function p(e,t){var r=Math.floor(e.getRed()*(1-t)),o=Math.floor(e.getGreen()*(1-t)),i=Math.floor(e.getBlue()*(1-t));return r=f(r,255),o=f(o,255),i=f(i,255),new ce(r,o,i,e.getAlpha())}function g(e,t){var r=Math.round(e.getRed()*(1+t)),o=Math.round(e.getGreen()*(1+t)),i=Math.round(e.getBlue()*(1+t));return r=f(r,255),o=f(o,255),i=f(i,255),new ce(r,o,i,e.getAlpha())}function v(e,t,r){var o,i;if(t>=r)throw"Rotary bounds are of negative or zero size";return o=r-t,i=Math.floor((e-t)/o),e-i*o}function b(e,t){return v(t-e,-180,180)}function C(e){var t="string"==typeof e||e instanceof String?_.getElementById(e):e;return t.getContext("2d")}var m=.5*Math.PI,y=2*Math.PI,T=Math.PI,S=Math.PI/180,w=180/Math.PI,_=document,k="LCDMono2Ultra,Arial,Verdana,sans-serif",x="Arial,Verdana,sans-serif",P=function(e,t){t=t||{};var o=void 0===t.gaugeType?r.GaugeType.TYPE4:t.gaugeType,n=void 0===t.size?0:t.size,l=void 0===t.minValue?0:t.minValue,s=void 0===t.maxValue?l+100:t.maxValue,d=void 0===t.niceScale?!0:t.niceScale,c=void 0===t.threshold?(s-l)/2+l:t.threshold,u=void 0===t.thresholdRising?!0:t.thresholdRising,h=void 0===t.section?null:t.section,f=void 0===t.area?null:t.area,p=void 0===t.titleString?"":t.titleString,g=void 0===t.unitString?"":t.unitString,v=void 0===t.frameDesign?r.FrameDesign.METAL:t.frameDesign,b=void 0===t.frameVisible?!0:t.frameVisible,w=void 0===t.backgroundColor?r.BackgroundColor.DARK_GRAY:t.backgroundColor,P=void 0===t.backgroundVisible?!0:t.backgroundVisible,E=void 0===t.pointerType?r.PointerType.TYPE1:t.pointerType,R=void 0===t.pointerColor?r.ColorDef.RED:t.pointerColor,F=void 0===t.knobType?r.KnobType.STANDARD_KNOB:t.knobType,A=void 0===t.knobStyle?r.KnobStyle.SILVER:t.knobStyle,D=void 0===t.lcdColor?r.LcdColor.STANDARD:t.lcdColor,L=void 0===t.lcdVisible?!0:t.lcdVisible,M=void 0===t.lcdDecimals?2:t.lcdDecimals,j=void 0===t.digitalFont?!1:t.digitalFont,I=void 0===t.fractionalScaleDecimals?1:t.fractionalScaleDecimals,V=void 0===t.ledColor?r.LedColor.RED_LED:t.ledColor,O=void 0===t.ledVisible?!0:t.ledVisible,z=void 0===t.userLedColor?r.LedColor.GREEN_LED:t.userLedColor,G=void 0===t.userLedVisible?!1:t.userLedVisible,B=void 0===t.thresholdVisible?!0:t.thresholdVisible,N=void 0===t.minMeasuredValueVisible?!1:t.minMeasuredValueVisible,H=void 0===t.maxMeasuredValueVisible?!1:t.maxMeasuredValueVisible,U=void 0===t.foregroundType?r.ForegroundType.TYPE1:t.foregroundType,Y=void 0===t.foregroundVisible?!0:t.foregroundVisible,W=void 0===t.labelNumberFormat?r.LabelNumberFormat.STANDARD:t.labelNumberFormat,J=void 0===t.playAlarm?!1:t.playAlarm,Q=void 0===t.alarmSound?!1:t.alarmSound,ee=void 0===t.customLayer?null:t.customLayer,le=void 0===t.tickLabelOrientation?o===r.GaugeType.TYPE1?r.TickLabelOrientation.TANGENT:r.TickLabelOrientation.NORMAL:t.tickLabelOrientation,se=void 0===t.trendVisible?!1:t.trendVisible,de=void 0===t.trendColors?[r.LedColor.RED_LED,r.LedColor.GREEN_LED,r.LedColor.CYAN_LED]:t.trendColors,ce=void 0===t.useOdometer?!1:t.useOdometer,ue=void 0===t.odometerParams?{}:t.odometerParams,he=void 0===t.odometerUseValue?!1:t.odometerUseValue,fe=void 0===t.fullScaleDeflectionTime?2.5:t.fullScaleDeflectionTime,ge=C(e);0===n&&(n=Math.min(ge.canvas.width,ge.canvas.height)),ge.canvas.width=n,ge.canvas.height=n;var ve;J&&Q!==!1&&(ve=_.createElement("audio"),ve.setAttribute("src",Q),ve.setAttribute("preload","auto"));var be,Ce,me,ye,Te,Se,we,_e,ke,xe,Pe,Ee,Re,Fe,Ae,De=l,Le=l,Me=this,je=s,Ie=l,Ve=!1,Oe=!1,ze=0,Ge=0,Be=!1,Ne=r.TrendState.OFF,He=.06*n,Ue=.29*n,Ye=.36*n,We=me+(De-l)*Se,Ke=n,qe=n,Je=Ke/2,Xe=qe/2,$e=.093457*n,Qe=.6*Ke,Ze=.4*qe,et=o===r.GaugeType.TYPE3?.6*Ke:Je-$e/2,tt=o===r.GaugeType.TYPE3?.72*qe:.75*qe,rt=Math.floor(Ke/10),ot=rt+"px "+x,it=rt+"px "+k,nt=.13*qe,at=.4*Ke,lt=(Ke-at)/2,st=.57*qe,dt=.61*qe,ct=.006*Ke,ut=!1,ht=l,ft=s,pt=s-l,gt=ft-ht,vt=0,bt=0,Ct=10,mt=10,yt=function(){switch(d?(pt=i(s-l,!1),bt=i(pt/(mt-1),!0),ht=Math.floor(l/bt)*bt,ft=Math.ceil(s/bt)*bt,vt=i(bt/(Ct-1),!0),l=ht,s=ft,gt=s-l):(pt=s-l,ht=l,ft=s,gt=pt,bt=i(pt/(mt-1),!0),vt=i(bt/(Ct-1),!0)),o.type){case"type1":Ce=0,me=T,ye=m,Te=m,Se=Te/gt;break;case"type2":Ce=0,me=T,ye=m,Te=T,Se=Te/gt;break;case"type3":Ce=0,me=m,ye=0,Te=1.5*T,Se=Te/gt;break;case"type4":default:Ce=60*S,me=m+Ce/2,ye=0,Te=y-Ce,Se=Te/gt}We=me+(De-l)*Se},Tt=a(n,n),St=Tt.getContext("2d"),wt=a(n,n),_t=wt.getContext("2d"),kt=a($e,$e),xt=kt.getContext("2d"),Pt=a($e,$e),Et=Pt.getContext("2d"),Rt=Pt,Ft=a($e,$e),At=Ft.getContext("2d"),Dt=a($e,$e),Lt=Dt.getContext("2d"),Mt=Dt,jt=a(Math.ceil(.028037*n),Math.ceil(.028037*n)),It=jt.getContext("2d"),Vt=a(Math.ceil(.028037*n),Math.ceil(.028037*n)),Ot=Vt.getContext("2d"),zt=a(n,n),Gt=zt.getContext("2d"),Bt=a(n,n),Nt=Bt.getContext("2d");ce&&L&&(Fe=a(10,10),Ae=Fe.getContext("2d"));var Ht=function(e,t){e.restore(),e.save(),e.textAlign="right",e.strokeStyle=D.textColor,e.fillStyle=D.textColor,(D===r.LcdColor.STANDARD||D===r.LcdColor.STANDARD_GREEN)&&(e.shadowColor="gray",e.shadowOffsetX=.007*Ke,e.shadowOffsetY=.007*Ke,e.shadowBlur=.007*Ke),j?e.font=it:e.font=ot,e.fillText(t.toFixed(M),lt+at-.05*at,st+.5*nt+.38*rt,.9*at),e.restore()},Ut=function(e){e.save(),"type1"===o.type&&e.drawImage(te(Math.ceil(.037383*qe),r.KnobType.STANDARD_KNOB,A),.523364*Ke,.130841*qe),("type1"===o.type||"type2"===o.type)&&e.drawImage(te(Math.ceil(.037383*qe),r.KnobType.STANDARD_KNOB,A),.130841*Ke,.514018*qe),("type2"===o.type||"type3"===o.type)&&e.drawImage(te(Math.ceil(.037383*qe),r.KnobType.STANDARD_KNOB,A),.831775*Ke,.514018*qe),"type3"===o.type&&e.drawImage(te(Math.ceil(.037383*qe),r.KnobType.STANDARD_KNOB,A),.523364*Ke,.831775*qe),"type4"===o.type&&(e.drawImage(te(Math.ceil(.037383*qe),r.KnobType.STANDARD_KNOB,A),.336448*Ke,.803738*qe),e.drawImage(te(Math.ceil(.037383*qe),r.KnobType.STANDARD_KNOB,A),.626168*Ke,.803738*qe)),e.restore()},Yt=function(){var e=_.createElement("canvas");e.width=Math.ceil(.046728*n),e.height=Math.ceil(.9*e.width);var t=e.getContext("2d");t.save();var r=t.createLinearGradient(0,.1,0,.9*e.height);return r.addColorStop(0,"#520000"),r.addColorStop(.3,"#fc1d00"),r.addColorStop(.59,"#fc1d00"),r.addColorStop(1,"#520000"),t.fillStyle=r,t.beginPath(),t.moveTo(.5*e.width,.1),t.lineTo(.9*e.width,.9*e.height),t.lineTo(.1*e.width,.9*e.height),t.lineTo(.5*e.width,.1),t.closePath(),t.fill(),t.strokeStyle="#FFFFFF",t.stroke(),t.restore(),e},Wt=function(e,t,r,o,i){if(l>t?t=l:t>s&&(t=s),l>r?r=l:r>s&&(r=s),!(t>=r)){e.save(),e.strokeStyle=o,e.fillStyle=o,e.lineWidth=.035*Ke;var n=Te/gt*t-Te/gt*l,a=n+(r-t)/(gt/Te);e.translate(Je,Xe),e.rotate(me),e.beginPath(),i?(e.moveTo(0,0),e.arc(0,0,.365*Ke-e.lineWidth/2,n,a,!1)):e.arc(0,0,.365*Ke,n,a,!1),i?(e.moveTo(0,0),e.fill()):e.stroke(),e.translate(-Je,-Xe),e.restore()}},Kt=function(e,t){var r,i,n=Math.ceil(.04*Ke),a=me,d=Se*vt,c=l,u=Ct-1,h=.38*Ke,f=.35*Ke,p=.355*Ke,g=.36*Ke,v=.3*Ke,b=.1*Ke,C=Ct/2,y=parseFloat(s.toFixed(2));for(w.labelColor.setAlpha(1),e.save(),e.textAlign="center",e.textBaseline="middle",e.font=n+"px"+x,e.strokeStyle=w.labelColor.getRgbaColor(),e.fillStyle=w.labelColor.getRgbaColor(),e.translate(Je,Xe),e.rotate(me),("type1"===o.type||"type2"===o.type)&&(b=.04*Ke),i=l;parseFloat(i.toFixed(2))<=y;i+=vt)if(r=d+m,u++,u!==Ct)0===Ct%2&&u===C?(e.lineWidth=1,e.beginPath(),e.moveTo(h,0),e.lineTo(p,0),e.closePath(),e.stroke()):(e.lineWidth=.5,e.beginPath(),e.moveTo(h,0),e.lineTo(g,0),e.closePath(),e.stroke()),e.rotate(d),a+=d;else{switch(e.lineWidth=1.5,e.beginPath(),e.moveTo(h,0),e.lineTo(f,0),e.closePath(),e.stroke(),e.save(),e.translate(v,0),le.type){case"horizontal":r=-a;break;case"tangent":r=m+T>=a?T:0;break;case"normal":default:r=m}switch(e.rotate(r),t.format){case"fractional":e.fillText(c.toFixed(I),0,0,b);break;case"scientific":e.fillText(c.toPrecision(2),0,0,b);break;case"standard":default:e.fillText(c.toFixed(0),0,0,b)}e.translate(-v,0),e.restore(),c+=bt,u=0,e.rotate(d),a+=d}e.translate(-Je,-Xe),e.restore()},qt=function(e){e=e||{};var t=void 0===e.frame?!1:e.frame,i=void 0===e.background?!1:e.background,a=void 0===e.led?!1:e.led,s=void 0===e.userLed?!1:e.userLed,d=void 0===e.pointer?!1:e.pointer,u=void 0===e.foreground?!1:e.foreground,C=void 0===e.trend?!1:e.trend,y=void 0===e.odo?!1:e.odo;if(ut=!0,yt(),t&&b&&q(St,v,Je,Xe,Ke,qe),i&&P&&(X(_t,w,Je,Xe,Ke,qe),$(_t,ee,Je,Xe,Ke,qe)),a&&(xt.drawImage(re(Math.ceil(.093457*n),1,V),0,0),Et.drawImage(re(Math.ceil(.093457*n),0,V),0,0)),s&&(At.drawImage(re(Math.ceil(.093457*n),1,z),0,0),Lt.drawImage(re(Math.ceil(.093457*n),0,z),0,0)),N&&It.drawImage(ie(Math.ceil(.028037*n),r.ColorDef.BLUE.dark.getRgbaColor(),!0,!0),0,0),H&&Ot.drawImage(ie(Math.ceil(.028037*n),r.ColorDef.RED.medium.getRgbaColor(),!0),0,0),i&&P){if(Ut(_t),null!==h&&0<h.length){var T=h.length;do T--,Wt(_t,h[T].start,h[T].stop,h[T].color,!1);while(T>0)}if(null!==f&&0<f.length){var S=f.length;do S--,Wt(_t,f[S].start,f[S].stop,f[S].color,!0);while(S>0)}Kt(_t,W),ae(_t,Ke,qe,p,g,w,!0,!0)}if(i&&B&&(_t.save(),_t.translate(Je,Xe),_t.rotate(me+(c-l)*Se+m),_t.translate(-Je,-Xe),_t.drawImage(Yt(),.475*Ke,.13*qe),_t.translate(Je,Xe),_t.restore()),i&&L&&(ce&&y?(Re=new r.Odometer("",{_context:Ae,height:.075*n,decimals:ue.decimals,digits:void 0===ue.digits?5:ue.digits,valueForeColor:ue.valueForeColor,valueBackColor:ue.valueBackColor,decimalForeColor:ue.decimalForeColor,decimalBackColor:ue.decimalBackColor,font:ue.font,value:De}),we=(Ke-Fe.width)/2):ce||(_e=oe(at,nt,D),_t.drawImage(_e,lt,st))),d&&K(Gt,Ke,E,R,w.labelColor),u&&Y){var _="type15"===E.type||"type16"===E.type?!1:!0;Z(Nt,U,Ke,qe,_,F,A,o)}C&&se&&(ke=ne(He,r.TrendState.UP,de),xe=ne(He,r.TrendState.STEADY,de),Pe=ne(He,r.TrendState.DOWN,de),Ee=ne(He,r.TrendState.OFF,de))},Jt=function(e){e=e||{};var t=void 0===e.frame?!1:e.frame,r=void 0===e.background?!1:e.background,o=void 0===e.led?!1:e.led,i=void 0===e.userLed?!1:e.userLed,a=void 0===e.pointer?!1:e.pointer,l=void 0===e.foreground?!1:e.foreground;t&&(Tt.width=n,Tt.height=n,St=Tt.getContext("2d")),r&&(wt.width=n,wt.height=n,_t=wt.getContext("2d")),o&&(kt.width=Math.ceil(.093457*n),kt.height=Math.ceil(.093457*n),xt=kt.getContext("2d"),Pt.width=Math.ceil(.093457*n),Pt.height=Math.ceil(.093457*n),Et=Pt.getContext("2d"),Rt=Pt),i&&(Ft.width=Math.ceil(.093457*n),Ft.height=Math.ceil(.093457*n),At=Ft.getContext("2d"),Dt.width=Math.ceil(.093457*n),Dt.height=Math.ceil(.093457*n),Lt=Dt.getContext("2d"),Mt=Dt),a&&(zt.width=n,zt.height=n,Gt=zt.getContext("2d")),l&&(Bt.width=n,Bt.height=n,Nt=Bt.getContext("2d"))},Xt=function(){O&&(Rt=Rt===kt?Pt:kt,Be||(Be=!0,pe(Me.repaint)))},$t=function(){G&&(Mt=Mt===Ft?Dt:Ft,Be||(Be=!0,pe(Me.repaint)))},Qt=function(e){e?ze=setInterval(Xt,1e3):(clearInterval(ze),Rt=Pt)},Zt=function(e){e?Ge=setInterval($t,1e3):(clearInterval(Ge),Mt=Dt)};return this.setValue=function(e){e=parseFloat(e);var t=l>e?l:e>s?s:e;return De!==t&&(De=t,De>Ie&&(Ie=De),je>De&&(je=De),De>=c&&!Ve&&u||c>=De&&!Ve&&!u?(Ve=!0,Qt(Ve),J&&ve.play()):(c>De&&Ve&&u||De>c&&Ve&&!u)&&(Ve=!1,Qt(Ve),J&&ve.pause()),this.repaint()),this},this.getValue=function(){return De},this.setOdoValue=function(e){e=parseFloat(e);var t=0>e?0:e;return Le!==t&&(Le=t,this.repaint()),this},this.getOdoValue=function(){return Le},this.setValueAnimated=function(e,t){e=parseFloat(e);var r,o=l>e?l:e>s?s:e,i=this;return De!==o&&(void 0!==be&&be.isPlaying&&be.stop(),r=fe*Math.abs(o-De)/(s-l),r=Math.max(r,fe/5),be=new Tween({},"",Tween.regularEaseInOut,De,o,r),be.onMotionChanged=function(e){De=e.target._pos,De>=c&&!Ve&&u||c>=De&&!Ve&&!u?(Ve=!0,Qt(Ve),J&&ve.play()):(c>De&&Ve&&u||De>c&&Ve&&!u)&&(Ve=!1,Qt(Ve),J&&ve.pause()),De>Ie&&(Ie=De),je>De&&(je=De),Be||(Be=!0,pe(i.repaint))},t&&"function"==typeof t&&(be.onMotionFinished=t),be.start()),this},this.resetMinMeasuredValue=function(){je=De,this.repaint()},this.resetMaxMeasuredValue=function(){return Ie=De,this.repaint(),this},this.setMinMeasuredValueVisible=function(e){return N=!!e,this.repaint(),this},this.setMaxMeasuredValueVisible=function(e){return H=!!e,this.repaint(),this},this.setMaxMeasuredValue=function(e){e=parseFloat(e);var t=l>e?l:e>s?s:e;return Ie=t,this.repaint(),this},this.setMinMeasuredValue=function(e){e=parseFloat(e);var t=l>e?l:e>s?s:e;return je=t,this.repaint(),this},this.setTitleString=function(e){return p=e,Jt({background:!0}),qt({background:!0}),this.repaint(),this},this.setUnitString=function(e){return g=e,Jt({background:!0}),qt({background:!0}),this.repaint(),this},this.setMinValue=function(e){return l=parseFloat(e),Jt({frame:!0,background:!0}),qt({frame:!0,background:!0}),this.repaint(),this},this.getMinValue=function(){return l},this.setMaxValue=function(e){return s=parseFloat(e),Jt({frame:!0,background:!0}),qt({frame:!0,background:!0}),this.repaint(),this},this.getMaxValue=function(){return s},this.setThreshold=function(e){e=parseFloat(e);var t=l>e?l:e>s?s:e;return c=t,Jt({background:!0}),qt({background:!0}),this.repaint(),this},this.setArea=function(e){return f=e,Jt({background:!0,foreground:!0}),qt({background:!0,foreground:!0}),this.repaint(),this},this.setSection=function(e){return h=e,Jt({background:!0,foreground:!0}),qt({background:!0,foreground:!0}),this.repaint(),this},this.setThresholdVisible=function(e){return B=!!e,this.repaint(),this},this.setThresholdRising=function(e){return u=!!e,Ve=!Ve,Qt(Ve),this.repaint(),this},this.setLcdDecimals=function(e){return M=parseInt(e,10),this.repaint(),this},this.setFrameDesign=function(e){return Jt({frame:!0}),v=e,qt({frame:!0}),this.repaint(),this},this.setBackgroundColor=function(e){return Jt({background:!0,pointer:"type2"===E.type||"type13"===E.type?!0:!1}),w=e,qt({background:!0,pointer:"type2"===E.type||"type13"===E.type?!0:!1}),this.repaint(),this},this.setForegroundType=function(e){return Jt({foreground:!0}),U=e,qt({foreground:!0}),this.repaint(),this},this.setPointerType=function(e){return Jt({pointer:!0,foreground:!0}),E=e,qt({pointer:!0,foreground:!0}),this.repaint(),this},this.setPointerColor=function(e){return Jt({pointer:!0}),R=e,qt({pointer:!0}),this.repaint(),this},this.setLedColor=function(e){return Jt({led:!0}),V=e,qt({led:!0}),this.repaint(),this},this.setUserLedColor=function(e){return Jt({userLed:!0}),z=e,qt({userLed:!0}),this.repaint(),this},this.toggleUserLed=function(){return Mt=Mt===Ft?Dt:Ft,this.repaint(),this},this.setUserLedOnOff=function(e){return Mt=!0===e?Ft:Dt,this.repaint(),this},this.blinkUserLed=function(e){return e?Oe||(Zt(!0),Oe=!0):Oe&&(clearInterval(Ge),Oe=!1),this},this.setLedVisible=function(e){return O=!!e,this.repaint(),this},this.setUserLedVisible=function(e){return G=!!e,this.repaint(),this},this.setLcdColor=function(e){return D=e,Jt({background:!0}),qt({background:!0}),this.repaint(),this},this.setTrend=function(e){return Ne=e,this.repaint(),this},this.setTrendVisible=function(e){return se=!!e,this.repaint(),this},this.setFractionalScaleDecimals=function(e){return I=parseInt(e,10),Jt({background:!0}),qt({background:!0}),this.repaint(),this},this.setLabelNumberFormat=function(e){return W=e,Jt({background:!0}),qt({background:!0}),this.repaint(),this},this.repaint=function(){if(ut||qt({frame:!0,background:!0,led:!0,userLed:!0,pointer:!0,trend:!0,foreground:!0,odo:!0}),ge.clearRect(0,0,n,n),b&&ge.drawImage(Tt,0,0),ge.drawImage(wt,0,0),L&&(ce?(Re.setValue(he?De:Le),ge.drawImage(Fe,we,dt)):Ht(ge,De)),O&&ge.drawImage(Rt,Qe,Ze),G&&ge.drawImage(Mt,et,tt),se)switch(Ne.state){case"up":ge.drawImage(ke,Ue,Ye);break;case"steady":ge.drawImage(xe,Ue,Ye);break;case"down":ge.drawImage(Pe,Ue,Ye);break;case"off":ge.drawImage(Ee,Ue,Ye)}N&&(ge.save(),ge.translate(Je,Xe),ge.rotate(me+m+(je-l)*Se),ge.translate(-Je,-Xe),ge.drawImage(jt,.4865*ge.canvas.width,.105*ge.canvas.height),ge.restore()),H&&(ge.save(),ge.translate(Je,Xe),ge.rotate(me+m+(Ie-l)*Se),ge.translate(-Je,-Xe),ge.drawImage(Vt,.4865*ge.canvas.width,.105*ge.canvas.height),ge.restore()),We=me+m+(De-l)*Se,ge.save(),ge.translate(Je,Xe),ge.rotate(We),ge.translate(-Je,-Xe),ge.shadowColor="rgba(0, 0, 0, 0.8)",ge.shadowOffsetX=ge.shadowOffsetY=ct,ge.shadowBlur=2*ct,ge.drawImage(zt,0,0),ge.restore(),Y&&ge.drawImage(Bt,0,0),Be=!1},this.repaint(),this},E=function(e,t){t=t||{};var o=void 0===t.gaugeType?r.GaugeType.TYPE4:t.gaugeType,n=void 0===t.size?0:t.size,l=void 0===t.minValue?0:t.minValue,s=void 0===t.maxValue?l+100:t.maxValue,c=void 0===t.niceScale?!0:t.niceScale,u=void 0===t.threshold?(s-l)/2+l:t.threshold,h=void 0===t.thresholdRising?!0:t.thresholdRising,f=void 0===t.section?null:t.section,p=void 0===t.useSectionColors?!1:t.useSectionColors,g=void 0===t.titleString?"":t.titleString,v=void 0===t.unitString?"":t.unitString,b=void 0===t.frameDesign?r.FrameDesign.METAL:t.frameDesign,P=void 0===t.frameVisible?!0:t.frameVisible,E=void 0===t.backgroundColor?r.BackgroundColor.DARK_GRAY:t.backgroundColor,R=void 0===t.backgroundVisible?!0:t.backgroundVisible,F=void 0===t.valueColor?r.ColorDef.RED:t.valueColor,A=void 0===t.lcdColor?r.LcdColor.STANDARD:t.lcdColor,D=void 0===t.lcdVisible?!0:t.lcdVisible,L=void 0===t.lcdDecimals?2:t.lcdDecimals,M=void 0===t.digitalFont?!1:t.digitalFont,j=void 0===t.fractionalScaleDecimals?1:t.fractionalScaleDecimals,I=void 0===t.customLayer?null:t.customLayer,V=void 0===t.ledColor?r.LedColor.RED_LED:t.ledColor,O=void 0===t.ledVisible?!0:t.ledVisible,z=void 0===t.userLedColor?r.LedColor.GREEN_LED:t.userLedColor,G=void 0===t.userLedVisible?!1:t.userLedVisible,B=void 0===t.labelNumberFormat?r.LabelNumberFormat.STANDARD:t.labelNumberFormat,N=void 0===t.foregroundType?r.ForegroundType.TYPE1:t.foregroundType,H=void 0===t.foregroundVisible?!0:t.foregroundVisible,U=void 0===t.playAlarm?!1:t.playAlarm,Y=void 0===t.alarmSound?!1:t.alarmSound,W=void 0===t.valueGradient?null:t.valueGradient,K=void 0===t.useValueGradient?!1:t.useValueGradient,J=void 0===t.tickLabelOrientation?o===r.GaugeType.TYPE1?r.TickLabelOrientation.TANGENT:r.TickLabelOrientation.NORMAL:t.tickLabelOrientation,Q=void 0===t.trendVisible?!1:t.trendVisible,ee=void 0===t.trendColors?[r.LedColor.RED_LED,r.LedColor.GREEN_LED,r.LedColor.CYAN_LED]:t.trendColors,te=void 0===t.fullScaleDeflectionTime?2.5:t.fullScaleDeflectionTime,ie=C(e);if(0===n&&(n=Math.min(ie.canvas.width,ie.canvas.height)),ie.canvas.width=n,ie.canvas.height=n,U&&Y!==!1){var le=_.createElement("audio");le.setAttribute("src",Y),le.setAttribute("preload","auto")}var se,de,ce,ue,he,fe,ge,ve,be,Ce=l,me=s-l,ye=!1,Te=0,Se=!1,we=0,_e=this,ke=!1,xe=[],Pe=!1,Ee=!1,Re=n,Fe=n,Ae=Re/2,De=Fe/2,Le=Math.floor(Re/10),Me=Le+"px "+x,je=Le+"px "+k,Ie=.13*Fe,Ve=.4*Re,Oe=(Re-Ve)/2,ze=Fe/2-Ie/2,Ge=.116822*Re,Be=.485981*Re,Ne=Math.ceil(.093457*n),He=.53*Re,Ue=.61*Fe,Ye=o===r.GaugeType.TYPE3?.7*Re:Ae-Ne/2,We=o===r.GaugeType.TYPE3?.61*Fe:.75*Fe,Ke=r.TrendState.OFF,qe=.06*n,Je=.38*n,Xe=.57*n;switch(o.type){case"type1":de=0,ce=T,ue=0,he=m,fe=m,ge=fe*w,ve=fe/me;break;case"type2":de=0,ce=T,ue=0,he=m,fe=T,ge=fe*w,ve=fe/me;break;case"type3":de=0,ce=m,ue=-m,he=0,fe=1.5*T,ge=fe*w,ve=fe/me;break;case"type4":default:de=60*S,ce=m+de/2,ue=-y/6,he=0,fe=y-de,ge=fe*w,ve=fe/me}var $e,Qe,Ze,et,tt,rt,ot=a(n,n),it=ot.getContext("2d"),nt=a(n,n),at=nt.getContext("2d"),lt=a(Math.ceil(.060747*n),Math.ceil(.023364*n)),st=lt.getContext("2d"),dt=a(Ne,Ne),ct=dt.getContext("2d"),ut=a(Ne,Ne),ht=ut.getContext("2d"),ft=ut,pt=a(Ne,Ne),gt=pt.getContext("2d"),vt=a(Ne,Ne),bt=vt.getContext("2d"),Ct=vt,mt=a(n,n),yt=mt.getContext("2d"),Tt=!1,St=l,wt=s,_t=s-l;me=wt-St;var kt=0,xt=0,Pt=10,Et=10,Rt=function(){switch(c?(_t=i(s-l,!1),xt=i(_t/(Et-1),!0),St=Math.floor(l/xt)*xt,wt=Math.ceil(s/xt)*xt,kt=i(xt/(Pt-1),!0),l=St,s=wt,me=s-l):(_t=s-l,St=l,wt=s,me=_t,xt=i(_t/(Et-1),!0),kt=i(xt/(Pt-1),!0)),o.type){case"type1":de=0,ce=T,he=m,fe=m,ve=fe/me;break;case"type2":de=0,ce=T,he=m,fe=T,ve=fe/me;break;case"type3":de=0,ce=m,he=0,fe=1.5*T,ve=fe/me;break;case"type4":default:de=60*S,ce=m+de/2,he=0,fe=y-de,ve=fe/me}be=ce+(Ce-l)*ve},Ft=function(e){e=e||{};var t=void 0===e.frame?!1:e.frame,o=void 0===e.background?!1:e.background,i=void 0===e.led?!1:e.led,n=void 0===e.userLed?!1:e.userLed,a=void 0===e.value?!1:e.value,c=void 0===e.foreground?!1:e.foreground,u=void 0===e.trend?!1:e.trend;if(Tt=!0,Rt(),t&&P&&q(it,b,Ae,De,Re,Fe),o&&R&&(X(at,E,Ae,De,Re,Fe),$(at,I,Ae,De,Re,Fe)),i&&(ct.drawImage(re(Ne,1,V),0,0),ht.drawImage(re(Ne,0,V),0,0),Qe=at.getImageData(He,Ue,Ne,Ne)),n&&(gt.drawImage(re(Math.ceil(Ne),1,z),0,0),bt.drawImage(re(Math.ceil(Ne),0,z),0,0)),o&&Dt(at),o&&R&&(jt(at,B),ae(at,Re,Fe,g,v,E,!0,!0)),o&&D&&($e=oe(Ve,Ie,A),at.drawImage($e,Oe,ze)),Pe=!1,p&&null!==f&&0<f.length){Pe=!0;var h=f.length;xe=[];do h--,xe.push({start:(f[h].start+Math.abs(l))/(s-l)*ge,stop:(f[h].stop+Math.abs(l))/(s-l)*ge,color:d(f[h].color)});while(h>0)}Ee=!1,K&&null!==W&&(Pe=!1,Ee=!0),a&&Lt(st,F),c&&H&&Z(yt,N,Re,Fe,!1),u&&Q&&(Ze=ne(qe,r.TrendState.UP,ee),et=ne(qe,r.TrendState.STEADY,ee),tt=ne(qe,r.TrendState.DOWN,ee),rt=ne(qe,r.TrendState.OFF,ee))},At=function(e){e=e||{};var t=void 0===e.frame?!1:e.frame,r=void 0===e.background?!1:e.background,o=void 0===e.led?!1:e.led,i=void 0===e.userLed?!1:e.userLed,a=void 0===e.value?!1:e.value,l=void 0===e.foreground?!1:e.foreground;t&&(ot.width=n,ot.height=n,it=ot.getContext("2d")),r&&(nt.width=n,nt.height=n,at=nt.getContext("2d")),a&&(lt.width=Math.ceil(.060747*n),lt.height=Math.ceil(.023364*n),st=lt.getContext("2d")),o&&(dt.width=Math.ceil(Ne),dt.height=Math.ceil(Ne),ct=dt.getContext("2d"),ut.width=Math.ceil(Ne),ut.height=Math.ceil(Ne),ht=ut.getContext("2d"),ft=ut),i&&(pt.width=Math.ceil(Ne),pt.height=Math.ceil(Ne),gt=pt.getContext("2d"),vt.width=Math.ceil(Ne),vt.height=Math.ceil(Ne),bt=vt.getContext("2d"),Ct=vt),l&&(mt.width=n,mt.height=n,yt=mt.getContext("2d"))},Dt=function(e){e.save(),e.save(),e.lineWidth=.085*n,e.beginPath(),e.translate(Ae,De),e.rotate(ce-4*S),e.translate(-Ae,-De),e.arc(Ae,De,.35514*Re,0,fe+8*S,!1),e.rotate(-ce);var t=e.createLinearGradient(0,.107476*Fe,0,.897195*Fe);t.addColorStop(0,"#000000"),t.addColorStop(.22,"#333333"),t.addColorStop(.76,"#333333"),t.addColorStop(1,"#cccccc"),e.strokeStyle=t,e.stroke(),e.restore(),e.save(),e.lineWidth=.075*n,e.beginPath(),e.translate(Ae,De),e.rotate(ce-4*S),e.translate(-Ae,-De),e.arc(Ae,De,.35514*Re,0,fe+8*S,!1),e.rotate(-ce);var r=e.createLinearGradient(0,.112149*Fe,0,.892523*Fe);r.addColorStop(0,"#111111"),r.addColorStop(1,"#333333"),e.strokeStyle=r,e.stroke(),e.restore();var o=(.116822*Re+.060747*Re)/2,i=(.485981*Re+.023364*Re)/2,a=e.createRadialGradient(o,i,0,o,i,.030373*Re);a.addColorStop(0,"#3c3c3c"),a.addColorStop(1,"#323232");var l=0;for(l=0;ge>=l;l+=5)e.save(),e.translate(Ae,De),e.rotate(l*S+ue),e.translate(-Ae,-De),e.beginPath(),e.rect(.116822*Re,.485981*Re,.060747*Re,.023364*Re),e.closePath(),e.fillStyle=a,e.fill(),e.restore();e.restore()},Lt=function(e,t){e.save(),e.beginPath(),e.rect(0,0,e.canvas.width,e.canvas.height),e.closePath();var r=e.canvas.width/2,o=e.canvas.height/2,i=ie.createRadialGradient(r,o,0,r,o,e.canvas.width/2);i.addColorStop(0,t.light.getRgbaColor()),i.addColorStop(1,t.dark.getRgbaColor()),e.fillStyle=i,e.fill(),e.restore()},Mt=function(e,t){e.save(),e.textAlign="right",e.strokeStyle=A.textColor,e.fillStyle=A.textColor,(A===r.LcdColor.STANDARD||A===r.LcdColor.STANDARD_GREEN)&&(e.shadowColor="gray",e.shadowOffsetX=.007*Re,e.shadowOffsetY=.007*Re,e.shadowBlur=.007*Re),M?e.font=je:e.font=Me,e.fillText(t.toFixed(L),Oe+Ve-.05*Ve,ze+.5*Ie+.38*Le,.9*Ve),e.restore()},jt=function(e,t){var r,i,n=ce,a=ve*kt,d=Math.ceil(.04*Re),c=l,u=Pt-1,h=.28*Re,f=.1*Re,p=parseFloat(s.toFixed(2));for(E.labelColor.setAlpha(1),e.save(),e.textAlign="center",e.textBaseline="middle",e.font=d+"px "+x,e.strokeStyle=E.labelColor.getRgbaColor(),e.fillStyle=E.labelColor.getRgbaColor(),e.translate(Ae,De),e.rotate(ce),("type1"===o.type||"type2"===o.type)&&(f=.0375*Re),i=l;parseFloat(i.toFixed(2))<=p;i+=kt)if(r=+a+m,u++,u!==Pt)e.rotate(a),n+=a;else{switch(e.save(),e.translate(h,0),J.type){case"horizontal":r=-n;break;case"tangent":r=m+T>=n?T:0;break;case"normal":default:r=m}switch(e.rotate(r),t.format){case"fractional":e.fillText(c.toFixed(j),0,0,f);break;case"scientific":e.fillText(c.toPrecision(2),0,0,f);break;case"standard":default:e.fillText(c.toFixed(0),0,0,f)}e.translate(-h,0),e.restore(),c+=xt,u=0,e.rotate(a),n+=a}e.translate(-Ae,-De),e.restore()},It=function(e){e?Te=setInterval(Ot,1e3):(clearInterval(Te),ft=ut)},Vt=function(e){e?we=setInterval(zt,1e3):(clearInterval(we),Ct=vt)},Ot=function(){O&&(ft=ft===dt?ut:dt,ke||(ke=!0,pe(_e.repaint)))},zt=function(){G&&(Ct=Ct===pt?vt:pt,ke||(ke=!0,pe(_e.repaint)))};return this.setValue=function(e){e=parseFloat(e);var t=l>e?l:e>s?s:e;return Ce!==t&&(Ce=t,Ce>=u&&!ye&&h||u>=Ce&&!ye&&!h?(ye=!0,It(ye),U&&le.play()):(u>Ce&&ye&&h||Ce>u&&ye&&!h)&&(ye=!1,It(ye),U&&le.pause()),this.repaint()),this},this.getValue=function(){return Ce},this.setValueAnimated=function(e,t){e=parseFloat(e);var r,o=l>e?l:e>s?s:e,i=this;return Ce!==o&&(void 0!==se&&se.isPlaying&&se.stop(),r=te*Math.abs(o-Ce)/(s-l),r=Math.max(r,te/5),se=new Tween({},"",Tween.regularEaseInOut,Ce,o,r),se.onMotionChanged=function(e){Ce=e.target._pos,Ce>=u&&!ye&&h||u>=Ce&&!ye&&!h?(ye=!0,It(ye),U&&le.play()):(u>Ce&&ye&&h||Ce>u&&ye&&!h)&&(ye=!1,It(ye),U&&le.pause()),ke||(ke=!0,pe(i.repaint))},t&&"function"==typeof t&&(se.onMotionFinished=t),se.start()),this},this.setFrameDesign=function(e){return At({frame:!0}),b=e,Ft({frame:!0}),this.repaint(),this},this.setBackgroundColor=function(e){return At({background:!0,led:!0}),E=e,Ft({background:!0,led:!0}),this.repaint(),this},this.setForegroundType=function(e){return At({foreground:!0}),N=e,Ft({foreground:!0}),this.repaint(),this},this.setValueColor=function(e){return At({value:!0}),F=e,Ft({value:!0}),this.repaint(),this},this.setLedColor=function(e){return At({led:!0}),V=e,Ft({led:!0}),this.repaint(),this},this.setUserLedColor=function(e){return At({userLed:!0}),z=e,Ft({userLed:!0}),this.repaint(),this},this.toggleUserLed=function(){return Ct=Ct===pt?vt:pt,this.repaint(),this},this.setUserLedOnOff=function(e){return Ct=!0===e?pt:vt,this.repaint(),this},this.blinkUserLed=function(e){return e?Se||(Vt(!0),Se=!0):Se&&(clearInterval(we),Se=!1),this},this.setLedVisible=function(e){return O=!!e,this.repaint(),this},this.setUserLedVisible=function(e){return G=!!e,this.repaint(),this},this.setLcdColor=function(e){return A=e,At({background:!0}),Ft({background:!0}),this.repaint(),this},this.setLcdDecimals=function(e){return L=parseInt(e,10),this.repaint(),this},this.setSection=function(e){return f=e,Ft(),this.repaint(),this},this.setSectionActive=function(e){return p=e,Ft(),this.repaint(),this},this.setGradient=function(e){return W=e,Ft(),this.repaint(),this},this.setGradientActive=function(e){return K=e,Ft(),this.repaint(),this},this.setMinValue=function(e){return l=e,At({background:!0}),Ft({background:!0}),this.repaint(),this},this.getMinValue=function(){return l},this.setMaxValue=function(e){return s=e,At({background:!0}),Ft({background:!0}),this.repaint(),this},this.getMaxValue=function(){return s},this.setThreshold=function(e){e=parseFloat(e);var t=l>e?l:e>s?s:e;return u=t,At({background:!0}),Ft({background:!0}),this.repaint(),this},this.setThresholdRising=function(e){return h=!!e,ye=!ye,It(ye),this.repaint(),this},this.setTitleString=function(e){return g=e,At({background:!0}),Ft({background:!0}),this.repaint(),this},this.setUnitString=function(e){return v=e,At({background:!0}),Ft({background:!0}),this.repaint(),this},this.setTrend=function(e){return Ke=e,this.repaint(),this},this.setTrendVisible=function(e){return Q=!!e,this.repaint(),this},this.setFractionalScaleDecimals=function(e){j=parseInt(e,10),At({background:!0}),Ft({background:!0}),this.repaint()},this.setLabelNumberFormat=function(e){return B=e,At({background:!0}),Ft({background:!0}),this.repaint(),this},this.repaint=function(){var e,t,r,o,i,a,c=(Ce-l)/(s-l)*ge,u=F;for(Tt||Ft({frame:!0,background:!0,led:!0,userLed:!0,value:!0,trend:!0,foreground:!0}),ie.clearRect(0,0,n,n),P&&ie.drawImage(ot,0,0),ie.drawImage(nt,0,0),t=0;c>=t;t+=5){if(e=F,Ee)o=l+t/ge*(s-l),i=W.getEnd()-W.getStart(),a=o/i,a=Math.max(Math.min(a,1),0),e=d(W.getColorAt(a).getRgbaColor());else if(Pe)for(r=0;r<xe.length;r++)if(t>=xe[r].start&&t<xe[r].stop){e=xe[r].color;break}u.medium.getHexColor()!==e.medium.getHexColor()&&(Lt(st,e),u=e),ie.save(),ie.translate(Ae,De),ie.rotate(t*S+ue),ie.translate(-Ae,-De),ie.drawImage(lt,Ge,Be),ie.restore()}if(D&&Mt(ie,Ce),O&&ie.drawImage(ft,He,Ue),G&&ie.drawImage(Ct,Ye,We),Q)switch(Ke.state){case"up":ie.drawImage(Ze,Je,Xe);break;case"steady":ie.drawImage(et,Je,Xe);break;case"down":ie.drawImage(tt,Je,Xe);break;case"off":ie.drawImage(rt,Je,Xe)}H&&ie.drawImage(mt,0,0),ke=!1},this.repaint(),this},R=function(e,t){t=t||{};var o=void 0===t.orientation?r.Orientation.NORTH:t.orientation,n=void 0===t.size?0:t.size,l=void 0===t.minValue?0:t.minValue,s=void 0===t.maxValue?l+100:t.maxValue,d=void 0===t.niceScale?!0:t.niceScale,c=void 0===t.threshold?(s-l)/2+l:t.threshold,u=void 0===t.section?null:t.section,h=void 0===t.area?null:t.area,f=void 0===t.titleString?"":t.titleString,p=void 0===t.unitString?"":t.unitString,g=void 0===t.frameDesign?r.FrameDesign.METAL:t.frameDesign,v=void 0===t.frameVisible?!0:t.frameVisible,b=void 0===t.backgroundColor?r.BackgroundColor.DARK_GRAY:t.backgroundColor,y=void 0===t.backgroundVisible?!0:t.backgroundVisible,S=void 0===t.pointerType?r.PointerType.TYPE1:t.pointerType,w=void 0===t.pointerColor?r.ColorDef.RED:t.pointerColor,k=void 0===t.knobType?r.KnobType.STANDARD_KNOB:t.knobType,P=void 0===t.knobStyle?r.KnobStyle.SILVER:t.knobStyle,E=void 0===t.ledColor?r.LedColor.RED_LED:t.ledColor,R=void 0===t.ledVisible?!0:t.ledVisible,F=void 0===t.thresholdVisible?!0:t.thresholdVisible,A=void 0===t.thresholdRising?!0:t.thresholdRising,D=void 0===t.minMeasuredValueVisible?!1:t.minMeasuredValueVisible,L=void 0===t.maxMeasuredValueVisible?!1:t.maxMeasuredValueVisible,M=void 0===t.foregroundType?r.ForegroundType.TYPE1:t.foregroundType,j=void 0===t.foregroundVisible?!0:t.foregroundVisible,I=void 0===t.labelNumberFormat?r.LabelNumberFormat.STANDARD:t.labelNumberFormat,V=void 0===t.playAlarm?!1:t.playAlarm,O=void 0===t.alarmSound?!1:t.alarmSound,z=void 0===t.fullScaleDeflectionTime?2.5:t.fullScaleDeflectionTime,G=C(e);
if(0===n&&(n=Math.min(G.canvas.width,G.canvas.height)),G.canvas.width=n,G.canvas.height=n,V&&O!==!1){var B=_.createElement("audio");B.setAttribute("src",O),B.setAttribute("preload","auto")}var N,H=r.GaugeType.TYPE5,U=this,Y=l,W=s,J=l,$=n,Q=n,ee=!1,oe=0,ne=!1,ae=l,le=s,se=s-l,de=le-ae,ce=0,ue=0,he=10,fe=10,ge=0,ve=1.25*T,be=1.25*T,Ce=m,me=Ce/de,ye=.006*$,Te=1.17*$/2,Se=!1,we=ve+(Y-l)*me,_e=$/2,ke=.733644*Q,xe=.455*$,Pe=.51*Q,Ee=function(){d?(se=i(s-l,!1),ue=i(se/(fe-1),!0),ae=Math.floor(l/ue)*ue,le=Math.ceil(s/ue)*ue,ce=i(ue/(he-1),!0),l=ae,s=le,de=s-l):(se=s-l,ae=l,le=s,de=se,ce=1,ue=10),ge=0,ve=1.25*T,be=1.25*T,Ce=m,me=Ce/de,we=ve+(Y-l)*me},Re=a(n,n),Fe=Re.getContext("2d"),Ae=a(n,n),De=Ae.getContext("2d"),Le=a(.093457*n,.093457*n),Me=Le.getContext("2d"),je=a(.093457*n,.093457*n),Ie=je.getContext("2d"),Ve=je,Oe=a(Math.ceil(.028037*n),Math.ceil(.028037*n)),ze=Oe.getContext("2d"),Ge=a(Math.ceil(.028037*n),Math.ceil(.028037*n)),Be=Ge.getContext("2d"),Ne=a(n,n),He=Ne.getContext("2d"),Ue=a(n,n),Ye=Ue.getContext("2d"),We=function(e){"type5"===H.type&&(e.save(),"west"===o.type?(e.drawImage(te(Math.ceil(.037383*Q),r.KnobType.STANDARD_KNOB,P),.44*$,.8*Q),e.drawImage(te(Math.ceil(.037383*Q),r.KnobType.STANDARD_KNOB,P),.44*$,.16*Q)):"east"===o.type?(e.drawImage(te(Math.ceil(.037383*Q),r.KnobType.STANDARD_KNOB,P),.52*$,.8*Q),e.drawImage(te(Math.ceil(.037383*Q),r.KnobType.STANDARD_KNOB,P),.52*$,.16*Q)):(e.drawImage(te(Math.ceil(.037383*Q),r.KnobType.STANDARD_KNOB,P),.2*$-.037383*Q,.446666*Q),e.drawImage(te(Math.ceil(.037383*Q),r.KnobType.STANDARD_KNOB,P),.8*$,.446666*Q)),e.restore())},Ke=function(){var e=_.createElement("canvas");e.width=Math.ceil(.046728*n),e.height=Math.ceil(.9*e.width);var t=e.getContext("2d");t.save();var r=t.createLinearGradient(0,.1,0,.9*e.height);return r.addColorStop(0,"#520000"),r.addColorStop(.3,"#fc1d00"),r.addColorStop(.59,"#fc1d00"),r.addColorStop(1,"#520000"),t.fillStyle=r,t.beginPath(),t.moveTo(.5*e.width,.1),t.lineTo(.9*e.width,.9*e.height),t.lineTo(.1*e.width,.9*e.height),t.lineTo(.5*e.width,.1),t.closePath(),t.fill(),t.strokeStyle="#FFFFFF",t.stroke(),t.restore(),e},qe=function(e,t,r,o,i){e.save(),e.strokeStyle=o,e.fillStyle=o,e.lineWidth=.035*$;var n=Ce/de*t-Ce/de*l,a=n+(r-t)/(de/Ce);e.translate(_e,ke),e.rotate(ve),e.beginPath(),i?(e.moveTo(0,0),e.arc(0,0,.365*$-e.lineWidth/2,n,a,!1)):e.arc(0,0,.365*$,n,a,!1),i?(e.moveTo(0,0),e.fill()):e.stroke(),e.translate(-_e,-ke),e.restore()},Je=function(e){var t,r;e.save(),e.textAlign="left",e.textBaseline="middle",e.strokeStyle=b.labelColor.getRgbaColor(),e.fillStyle=b.labelColor.getRgbaColor(),e.font=.046728*$+"px "+x,t=e.measureText(f).width,e.fillText(f,($-t)/2,.4*Q,.3*$),r=e.measureText(p).width,e.fillText(p,($-r)/2,.47*Q,.2*$),e.restore()},Xe=function(e,t){b.labelColor.setAlpha(1),e.save(),r.Orientation.WEST===o&&(e.translate(_e,_e),e.rotate(-m),e.translate(-_e,-_e)),r.Orientation.EAST===o&&(e.translate(_e,_e),e.rotate(m),e.translate(-_e,-_e)),e.textAlign="center",e.textBaseline="middle";var i=Math.ceil(.04*$);e.font=i+"px "+x,e.strokeStyle=b.labelColor.getRgbaColor(),e.fillStyle=b.labelColor.getRgbaColor(),e.translate(_e,ke),e.rotate(ve);var n,a,d=me*ce,c=l,u=he-1,h=.44*$,f=.41*$,p=.415*$,g=.42*$,v=.48*$,C=.04*$,y=he/2,T=parseFloat(s.toFixed(2));for(a=l;parseFloat(a.toFixed(2))<=T;a+=ce)if(n=+d+m,u++,u!==he)0===he%2&&u===y?(e.lineWidth=1,e.beginPath(),e.moveTo(h,0),e.lineTo(p,0),e.closePath(),e.stroke()):(e.lineWidth=.5,e.beginPath(),e.moveTo(h,0),e.lineTo(g,0),e.closePath(),e.stroke()),e.rotate(d);else{switch(e.lineWidth=1.5,e.beginPath(),e.moveTo(h,0),e.lineTo(f,0),e.closePath(),e.stroke(),e.save(),e.translate(v,0),e.rotate(n),t.format){case"fractional":e.fillText(c.toFixed(2),0,0,C);break;case"scientific":e.fillText(c.toPrecision(2),0,0,C);break;case"standard":default:e.fillText(c.toFixed(0),0,0,C)}e.translate(-v,0),e.restore(),c+=ue,u=0,e.rotate(d)}e.translate(-_e,-ke),e.restore()},$e=function(e){e=e||{};var t=void 0===e.frame?!1:e.frame,i=void 0===e.background?!1:e.background,a=void 0===e.led?!1:e.led,s=void 0===e.pointer?!1:e.pointer,d=void 0===e.foreground?!1:e.foreground;if(Se=!0,Ee(),t&&v&&q(Fe,g,_e,n/2,$,Q),i&&y&&X(De,b,_e,n/2,$,Q),a&&(Me.drawImage(re(Math.ceil(.093457*n),1,E),0,0),Ie.drawImage(re(Math.ceil(.093457*n),0,E),0,0)),D&&(ze.drawImage(ie(Math.ceil(.028037*n),r.ColorDef.BLUE.dark.getRgbaColor(),!0,!0),0,0),ze.restore()),L&&(Be.drawImage(ie(Math.ceil(.028037*n),r.ColorDef.RED.medium.getRgbaColor(),!0),0,0),Be.restore()),i&&y){if(We(De),null!==u&&0<u.length){De.save(),r.Orientation.WEST===o?(De.translate(_e,_e),De.rotate(-m),De.translate(-_e,-_e)):r.Orientation.EAST===o&&(De.translate(_e,_e),De.rotate(m),De.translate(-_e,-_e));var f=u.length;do f--,qe(De,u[f].start,u[f].stop,u[f].color,!1);while(f>0);De.restore()}if(null!==h&&0<h.length){r.Orientation.WEST===o&&(De.translate(_e,_e),De.rotate(-m),De.translate(-_e,-_e)),r.Orientation.EAST===o&&(De.translate(_e,_e),De.rotate(m),De.translate(-_e,-_e));var p=h.length;do p--,qe(De,h[p].start,h[p].stop,h[p].color,!0);while(p>0);De.restore()}Xe(De,I),Je(De)}if(F&&(De.save(),r.Orientation.WEST===o&&(De.translate(_e,_e),De.rotate(-m),De.translate(-_e,-_e)),r.Orientation.EAST===o&&(De.translate(_e,_e),De.rotate(m),De.translate(-_e,-_e)),De.translate(_e,ke),De.rotate(ve+(c-l)*me+m),De.translate(-_e,-ke),De.drawImage(Ke(),.475*$,.32*Q),De.restore()),s&&K(He,1.17*$,S,w,b.labelColor),d&&j){var C="type15"===S.type||"type16"===S.type?!1:!0;Z(Ye,M,$,Q,C,k,P,H,o)}},Qe=function(e){e=e||{};var t=void 0===e.frame?!1:e.frame,r=void 0===e.background?!1:e.background,o=void 0===e.led?!1:e.led,i=void 0===e.pointer?!1:e.pointer,a=void 0===e.foreground?!1:e.foreground;t&&(Re.width=n,Re.height=n,Fe=Re.getContext("2d")),r&&(Ae.width=n,Ae.height=n,De=Ae.getContext("2d")),o&&(Le.width=Math.ceil(.093457*n),Le.height=Math.ceil(.093457*n),Me=Le.getContext("2d"),je.width=Math.ceil(.093457*n),je.height=Math.ceil(.093457*n),Ie=je.getContext("2d"),Ve=je),i&&(Ne.width=n,Ne.height=n,He=Ne.getContext("2d")),a&&(Ue.width=n,Ue.height=n,Ye=Ue.getContext("2d"))},Ze=function(e){e?oe=setInterval(et,1e3):(clearInterval(oe),Ve=je)},et=function(){R&&(Ve=Ve===Le?je:Le,ne||(ne=!0,pe(U.repaint)))};return this.setValue=function(e){e=parseFloat(e);var t=l>e?l:e>s?s:e;return Y!==t&&(Y=t,Y>J&&(J=Y),W>Y&&(W=Y),Y>=c&&!ee&&A||c>=Y&&!ee&&!A?(ee=!0,Ze(ee),V&&B.play()):(c>Y&&ee&&A||Y>c&&ee&&!A)&&(ee=!1,Ze(ee),V&&B.pause()),this.repaint()),this},this.getValue=function(){return Y},this.setValueAnimated=function(e,t){e=parseFloat(e);var r,o=l>e?l:e>s?s:e,i=this;return Y!==o&&(void 0!==N&&N.isPlaying&&N.stop(),r=z*Math.abs(o-Y)/(s-l),r=Math.max(r,z/5),N=new Tween({},"",Tween.regularEaseInOut,Y,o,r),N.onMotionChanged=function(e){Y=e.target._pos,Y>=c&&!ee&&A||c>=Y&&!ee&&!A?(ee=!0,Ze(ee),V&&B.play()):(c>Y&&ee&&A||Y>c&&ee&&!A)&&(ee=!1,Ze(ee),V&&B.pause()),Y>J&&(J=Y),W>Y&&(W=Y),ne||(ne=!0,pe(i.repaint))},t&&"function"==typeof t&&(N.onMotionFinished=t),N.start()),this},this.resetMinMeasuredValue=function(){return W=Y,this.repaint(),this},this.resetMaxMeasuredValue=function(){return J=Y,this.repaint(),this},this.setMinMeasuredValueVisible=function(e){return D=!!e,this.repaint(),this},this.setMaxMeasuredValueVisible=function(e){return L=!!e,this.repaint(),this},this.setThresholdVisible=function(e){return F=!!e,this.repaint(),this},this.setThresholdRising=function(e){return A=!!e,ee=!ee,Ze(ee),this.repaint(),this},this.setFrameDesign=function(e){return Qe({frame:!0}),g=e,$e({frame:!0}),this.repaint(),this},this.setBackgroundColor=function(e){return Qe({background:!0,pointer:"type2"===S.type||"type13"===S.type?!0:!1}),b=e,$e({background:!0,pointer:"type2"===S.type||"type13"===S.type?!0:!1}),this.repaint(),this},this.setForegroundType=function(e){return Qe({foreground:!0}),M=e,$e({foreground:!0}),this.repaint(),this},this.setPointerType=function(e){return Qe({pointer:!0,foreground:!0}),S=e,$e({pointer:!0,foreground:!0}),this.repaint(),this},this.setPointerColor=function(e){return Qe({pointer:!0}),w=e,$e({pointer:!0}),this.repaint(),this},this.setLedColor=function(e){return Qe({led:!0}),E=e,$e({led:!0}),this.repaint(),this},this.setLedVisible=function(e){return R=!!e,this.repaint(),this},this.repaint=function(){Se||$e({frame:!0,background:!0,led:!0,pointer:!0,foreground:!0}),G.clearRect(0,0,n,n),G.save(),v&&G.drawImage(Re,0,0),G.drawImage(Ae,0,0),R&&G.drawImage(Ve,xe,Pe),r.Orientation.WEST===o&&(G.translate(_e,_e),G.rotate(-m),G.translate(-_e,-_e)),r.Orientation.EAST===o&&(G.translate(_e,_e),G.rotate(m),G.translate(-_e,-_e)),D&&(G.save(),G.translate(_e,ke),G.rotate(ve+m+(W-l)*me),G.translate(-_e,-ke),G.drawImage(Oe,.4865*G.canvas.width,.27*G.canvas.height),G.restore()),L&&(G.save(),G.translate(_e,ke),G.rotate(ve+m+(J-l)*me),G.translate(-_e,-ke),G.drawImage(Ge,.4865*G.canvas.width,.27*G.canvas.height),G.restore()),we=ve+m+(Y-l)*me,G.save(),G.translate(_e,ke),G.rotate(we),G.shadowColor="rgba(0, 0, 0, 0.8)",G.shadowOffsetX=G.shadowOffsetY=ye,G.shadowBlur=2*ye,G.translate(-Te,-Te),G.drawImage(Ne,0,0),G.restore(),j&&(r.Orientation.WEST===o?(G.translate(_e,_e),G.rotate(m),G.translate(-_e,-_e)):r.Orientation.EAST===o&&(G.translate(_e,_e),G.rotate(-m),G.translate(-_e,-_e)),G.drawImage(Ue,0,0)),G.restore(),ne=!1},this.repaint(),this},F=function(e,t){t=t||{};var o=void 0===t.gaugeType?r.GaugeType.TYPE1:t.gaugeType,n=void 0===t.width?0:t.width,l=void 0===t.height?0:t.height,s=void 0===t.minValue?0:t.minValue,d=void 0===t.maxValue?s+100:t.maxValue,c=void 0===t.niceScale?!0:t.niceScale,u=void 0===t.threshold?(d-s)/2+s:t.threshold,h=void 0===t.titleString?"":t.titleString,f=void 0===t.unitString?"":t.unitString,p=void 0===t.frameDesign?r.FrameDesign.METAL:t.frameDesign,g=void 0===t.frameVisible?!0:t.frameVisible,v=void 0===t.backgroundColor?r.BackgroundColor.DARK_GRAY:t.backgroundColor,b=void 0===t.backgroundVisible?!0:t.backgroundVisible,y=void 0===t.valueColor?r.ColorDef.RED:t.valueColor,T=void 0===t.lcdColor?r.LcdColor.STANDARD:t.lcdColor,S=void 0===t.lcdVisible?!0:t.lcdVisible,w=void 0===t.lcdDecimals?2:t.lcdDecimals,P=void 0===t.digitalFont?!1:t.digitalFont,E=void 0===t.ledColor?r.LedColor.RED_LED:t.ledColor,R=void 0===t.ledVisible?!0:t.ledVisible,F=void 0===t.thresholdVisible?!0:t.thresholdVisible,A=void 0===t.thresholdRising?!0:t.thresholdRising,D=void 0===t.minMeasuredValueVisible?!1:t.minMeasuredValueVisible,L=void 0===t.maxMeasuredValueVisible?!1:t.maxMeasuredValueVisible,M=void 0===t.labelNumberFormat?r.LabelNumberFormat.STANDARD:t.labelNumberFormat,j=void 0===t.foregroundVisible?!0:t.foregroundVisible,I=void 0===t.playAlarm?!1:t.playAlarm,V=void 0===t.alarmSound?!1:t.alarmSound,O=void 0===t.fullScaleDeflectionTime?2.5:t.fullScaleDeflectionTime,z=C(e);0===n&&(n=z.canvas.width),0===l&&(l=z.canvas.height),z.canvas.width=n,z.canvas.height=l;var G=n,B=l;if(I&&V!==!1){var N=_.createElement("audio");N.setAttribute("src",V),N.setAttribute("preload","auto")}var H=this,U=s,Y=d,W=s;"type1"!==o.type&&"type2"!==o.type&&(o=r.GaugeType.TYPE1);var K,q,X,$,Z,te=!1,ne=!1,le=0,se=l>=n,de=Math.round(.05*(se?l:n)),ce=Math.round(.05*(se?n:l));se?(q=G/2-de/2,X=("type1"===o.type?.053:.038)*B,$=Math.floor(B/22)+"px "+x,Z=Math.floor(B/22)+"px "+k):(q=.89*G,X=B/2-de/2,$=Math.floor(B/10)+"px "+x,Z=Math.floor(B/10)+"px "+k);var ue,he=!1,fe=s,ge=d,ve=d-s,be=ge-fe,Ce=0,me=0,ye=10,Te=10,Se=function(){c?(ve=i(d-s,!1),me=i(ve/(Te-1),!0),fe=Math.floor(s/me)*me,ge=Math.ceil(d/me)*me,Ce=i(me/(ye-1),!0),s=fe,d=ge,be=d-s):(ve=d-s,fe=s,ge=d,be=ve,Ce=1,me=10)},we=a(n,l),_e=we.getContext("2d"),ke=a(n,l),xe=ke.getContext("2d"),Pe=a(de,de),Ee=Pe.getContext("2d"),Re=a(de,de),Fe=Re.getContext("2d"),Ae=Re,De=a(ce,ce),Le=De.getContext("2d"),Me=a(ce,ce),je=Me.getContext("2d"),Ie=a(n,l),Ve=Ie.getContext("2d"),Oe=function(e,t,o){e.save(),e.textAlign="right",e.textBaseline="middle",e.strokeStyle=T.textColor,e.fillStyle=T.textColor,(T===r.LcdColor.STANDARD||T===r.LcdColor.STANDARD_GREEN)&&(e.shadowColor="gray",o?(e.shadowOffsetX=.003*B,e.shadowOffsetY=.003*B,e.shadowBlur=.004*B):(e.shadowOffsetX=.007*B,e.shadowOffsetY=.007*B,e.shadowBlur=.009*B));var i,n,a;P?e.font=Z:e.font=$,o?(i=(G-.571428*G)/2+.571428*G-2,n=.88*B+1+(.055*B-2)/2,a=.7*G-2):(i=.695*G+.18*G-2,n=.22*B+1+(.15*B-2)/2,a=.22*B-2),e.fillText(t.toFixed(w),i,n,a),e.restore()},ze=function(e){var t=_.createElement("canvas"),r=t.getContext("2d");t.height=t.width=ce,r.save();var o=r.createLinearGradient(0,.1,0,.9*t.height);return o.addColorStop(0,"#520000"),o.addColorStop(.3,"#fc1d00"),o.addColorStop(.59,"#fc1d00"),o.addColorStop(1,"#520000"),r.fillStyle=o,e?(r.beginPath(),r.moveTo(.1,.5*t.height),r.lineTo(.9*t.width,.1),r.lineTo(.9*t.width,.9*t.height),r.closePath()):(r.beginPath(),r.moveTo(.1,.1),r.lineTo(.9*t.width,.1),r.lineTo(.5*t.width,.9*t.height),r.closePath()),r.fill(),r.strokeStyle="#FFFFFF",r.stroke(),r.restore(),t},Ge=function(e,t,r){v.labelColor.setAlpha(1),e.save(),e.textBaseline="middle";var i=.1*G;e.strokeStyle=v.labelColor.getRgbaColor(),e.fillStyle=v.labelColor.getRgbaColor();var n,a,l,c,u,h,f,p,g,b,C,m,y=s,T=ye-1,S=1;r?(f=.34*G,p=.36*G,g=.33*G,b=.36*G,C=.32*G,m=.36*G,e.textAlign="right",l=0,c=.12864*B,u=0,h="type1"===o.type?.856796*B-.12864*B:.7475*B-.12864*B,S=h/(d-s)):(f=.65*B,p=.63*B,g=.66*B,b=.63*B,C=.67*B,m=.63*B,e.textAlign="center",c=0,"type1"===o.type?(l=.142857*G,u=.871012*G-l):(l=.19857*G,u=.82*G-l),h=0,S=u/(d-s));var w;for(w=s,n=0;d>=w;w+=Ce,n+=Ce)if(a=r?c+h-n*S:l+n*S,T++,T!==ye)0===ye%2&&T===ye/2?(e.lineWidth=1,Be(e,g,b,a,r)):(e.lineWidth=.5,Be(e,f,p,a,r));else{if(e.lineWidth=1.5,Be(e,C,m,a,r),r)switch(t.format){case"fractional":e.fillText(y.toFixed(2),.28*G,a,i);break;case"scientific":e.fillText(y.toPrecision(2),.28*G,a,i);break;case"standard":default:e.fillText(y.toFixed(0),.28*G,a,i)}else switch(t.format){case"fractional":e.fillText(y.toFixed(2),a,.73*B,i);break;case"scientific":e.fillText(y.toPrecision(2),a,.73*B,i);break;case"standard":default:e.fillText(y.toFixed(0),a,.73*B,i)}y+=me,T=0}e.restore()},Be=function(e,t,r,o,i){i?(e.beginPath(),e.moveTo(t,o),e.lineTo(r,o),e.closePath(),e.stroke()):(e.beginPath(),e.moveTo(o,t),e.lineTo(o,r),e.closePath(),e.stroke())},Ne=function(e){e=e||{};var t,i,n,a=void 0===e.frame?!1:e.frame,l=void 0===e.background?!1:e.background,c=void 0===e.led?!1:e.led,C=void 0===e.foreground?!1:e.foreground;he=!0,Se(),a&&g&&J(_e,p,G,B,se),l&&b&&Q(xe,v,G,B,se),l&&"type2"===o.type&&qe(xe),c&&(se?(Ee.drawImage(re(de,1,E),0,0),Fe.drawImage(re(de,0,E),0,0)):(Ee.drawImage(re(de,1,E),0,0),Fe.drawImage(re(de,0,E),0,0))),D&&(se?Le.drawImage(ie(ce,r.ColorDef.BLUE.dark.getRgbaColor(),!1,se),0,0):Le.drawImage(ie(ce,r.ColorDef.BLUE.dark.getRgbaColor(),!1,se),0,0)),L&&(se?je.drawImage(ie(ce,r.ColorDef.RED.medium.getRgbaColor(),!1,se),0,0):je.drawImage(ie(ce,r.ColorDef.RED.medium.getRgbaColor(),!1,se),0,0)),l&&b&&(Ge(xe,M,se),se?ae(xe,G,B,h,f,v,se,null,S,o):ae(xe,G,B,h,f,v,se,null,S,o)),l&&F&&(xe.save(),se?(t="type1"===o.type?.856796:.7475,i=t-.12864,n=B*t-B*i*(u-s)/(d-s),xe.translate(.365*G,n-ce/2)):(t="type1"===o.type?.871012:.82,i=t-("type1"===o.type?.142857:.19857),n=G*i*(u-s)/(d-s),xe.translate(G*("type1"===o.type?.142857:.19857)-ce/2+n,.58*B)),xe.drawImage(ze(se),0,0),xe.restore()),l&&S&&(se?(ue=oe(.571428*G,.055*B,T),xe.drawImage(ue,(G-.571428*G)/2,.88*B)):(ue=oe(.18*G,.15*B,T),xe.drawImage(ue,.695*G,.22*B))),C&&"type2"===o.type&&Ke(Ve),C&&j&&ee(Ve,G,B,se,!1)},He=function(e){e=e||{};var t=void 0===e.frame?!1:e.frame,r=void 0===e.background?!1:e.background,o=void 0===e.led?!1:e.led,i=void 0===e.foreground?!1:e.foreground;t&&(we.width=n,we.height=l,_e=we.getContext("2d")),r&&(ke.width=n,ke.height=l,xe=ke.getContext("2d")),o&&(Pe.width=Math.ceil(.093457*n),Pe.height=Math.ceil(.093457*l),Ee=Pe.getContext("2d"),Re.width=Math.ceil(.093457*n),Re.height=Math.ceil(.093457*l),Fe=Re.getContext("2d"),Ae=Re),i&&(Ie.width=n,Ie.height=l,Ve=Ie.getContext("2d"))},Ue=function(e){e?le=setInterval(Ye,1e3):(clearInterval(le),Ae=Re)},Ye=function(){R&&(Ae=Ae===Pe?Re:Pe,ne||(ne=!0,pe(H.repaint)))},We=function(e,t,i){var n,a,l,c,u,h,f,p,g,b,C,m,T,S,w,_,k,x,P,E,R,F=v.labelColor;if(se?(n=.12864*i,a="type1"===o.type?.856796*i:.7475*i,l=a-n,c=l*(U-s)/(d-s),u=a-c,b=0,C=n,m=0,T=a):("type1"===o.type?(n=.871012*t,a=.142857*t):(n=.82*t,a=.19857*t),l=n-a,c=l*(U-s)/(d-s),u=a,b=n,C=0,m=a,T=0),"type1"===o.type){var A=v===r.BackgroundColor.CARBON||v===r.BackgroundColor.PUNCHED_SHEET||v===r.BackgroundColor.STAINLESS||v===r.BackgroundColor.BRUSHED_STAINLESS||v===r.BackgroundColor.TURNED?.3:0,D=e.createLinearGradient(b,C,m,T);F.setAlpha(.05+A),D.addColorStop(0,F.getRgbaColor()),F.setAlpha(.15+A),D.addColorStop(.48,F.getRgbaColor()),F.setAlpha(.15+A),D.addColorStop(.49,F.getRgbaColor()),F.setAlpha(.05+A),D.addColorStop(1,F.getRgbaColor()),e.fillStyle=D,se?e.fillRect(.435714*t,n,.142857*t,l):e.fillRect(.142857*t,.435714*i,l,.142857*i),se?(S=0,w=n,_=0,k=n+l):(S=.142857*t+l,w=0,_=.142857*t,k=0);var L=e.createLinearGradient(S,w,_,k);F.setAlpha(.3+A),L.addColorStop(0,F.getRgbaColor()),F.setAlpha(.69),L.addColorStop(.48,F.getRgbaColor()),F.setAlpha(.7),L.addColorStop(.49,F.getRgbaColor()),F.setAlpha(.4),L.addColorStop(1,F.getRgbaColor()),e.fillStyle=L,se?(e.fillRect(.435714*t,n,.007142*t,l),e.fillRect(.571428*t,n,.007142*t,l)):(e.fillRect(.142857*t,.435714*i,l,.007142*i),e.fillRect(.142857*t,.571428*i,l,.007142*i))}se?"type1"===o.type?(h=.45*t,f=0,p=.45*t+.114285*t,g=0):(h=t/2-.0486*i/2,f=0,p=h+.053*i,g=0):"type1"===o.type?(h=0,f=.45*i,p=0,g=.45*i+.114285*i):(h=0,f=i/2-.025*t,p=0,g=f+.053*t);var M=e.createLinearGradient(h,f,p,g);M.addColorStop(0,y.medium.getRgbaColor()),M.addColorStop(1,y.light.getRgbaColor()),e.fillStyle=M;var j="type1"===o.type?0:se?.05*i:.05*t;if(se?e.fillRect(h,u,p-h,c+j):e.fillRect(u-j,f,c+j,g-f),"type1"===o.type){se?(x=.45*t,P=0,E=x+.05*t,R=0):(x=0,P=.45*i,E=0,R=P+.05*i);var I=e.createLinearGradient(x,P,E,R);I.addColorStop(0,"rgba(255, 255, 255, 0.7)"),I.addColorStop(.98,"rgba(255, 255, 255, 0.0)"),e.fillStyle=I,se?e.fillRect(x,u,E,c):e.fillRect(u,P,c,R-P)}},Ke=function(e){var t=se?B:G;e.save(),se?e.translate(G/2,0):(e.translate(G/2,B/2),e.rotate(m),e.translate(0,-G/2+.05*G)),e.beginPath(),e.moveTo(-.049*t,.825*t),e.bezierCurveTo(-.049*t,.7975*t,-.0264*t,.775*t,.0013*t,.775*t),e.bezierCurveTo(.0264*t,.775*t,.049*t,.7975*t,.049*t,.825*t),e.bezierCurveTo(.049*t,.85*t,.0264*t,.8725*t,.0013*t,.8725*t),e.bezierCurveTo(-.0264*t,.8725*t,-.049*t,.85*t,-.049*t,.825*t),e.closePath();var r=e.createRadialGradient(0*t,.825*t,0,0*t,.825*t,.049*t);r.addColorStop(0,y.medium.getRgbaColor()),r.addColorStop(.3,y.medium.getRgbaColor()),r.addColorStop(1,y.light.getRgbaColor()),e.fillStyle=r,e.fill(),e.beginPath(),se?(e.moveTo(-.0365*t,.8075*t),e.bezierCurveTo(-.0365*t,.7925*t,-.0214*t,.7875*t,-.0214*t,.7825*t),e.bezierCurveTo(.0189*t,.785*t,.0365*t,.7925*t,.0365*t,.8075*t),e.bezierCurveTo(.0365*t,.8175*t,.0214*t,.815*t,.0013*t,.8125*t),e.bezierCurveTo(-.0189*t,.8125*t,-.0365*t,.8175*t,-.0365*t,.8075*t),r=e.createRadialGradient(0,.8*t,0,0,.8*t,.0377*t)):(e.beginPath(),e.moveTo(-.0214*t,.86*t),e.bezierCurveTo(-.0365*t,.86*t,-.0415*t,.845*t,-.0465*t,.825*t),e.bezierCurveTo(-.0465*t,.805*t,-.0365*t,.7875*t,-.0214*t,.7875*t),e.bezierCurveTo(-.0113*t,.7875*t,-.0163*t,.8025*t,-.0163*t,.8225*t),e.bezierCurveTo(-.0163*t,.8425*t,-.0113*t,.86*t,-.0214*t,.86*t),r=e.createRadialGradient(-.03*t,.8225*t,0,-.03*t,.8225*t,.0377*t)),r.addColorStop(0,"rgba(255, 255, 255, 0.55)"),r.addColorStop(1,"rgba(255, 255, 255, 0.05)"),e.fillStyle=r,e.closePath(),e.fill(),e.beginPath(),e.moveTo(-.0214*t,.115*t),e.bezierCurveTo(-.0214*t,.1075*t,-.0163*t,.1025*t,-.0113*t,.1025*t),e.bezierCurveTo(-.0113*t,.1025*t,-.0113*t,.1025*t,-.0113*t,.1025*t),e.bezierCurveTo(-.0038*t,.1025*t,.0013*t,.1075*t,.0013*t,.115*t),e.bezierCurveTo(.0013*t,.115*t,.0013*t,.76*t,.0013*t,.76*t),e.bezierCurveTo(.0013*t,.7675*t,-.0038*t,.7725*t,-.0113*t,.7725*t),e.bezierCurveTo(-.0113*t,.7725*t,-.0113*t,.7725*t,-.0113*t,.7725*t),e.bezierCurveTo(-.0163*t,.7725*t,-.0214*t,.7675*t,-.0214*t,.76*t),e.bezierCurveTo(-.0214*t,.76*t,-.0214*t,.115*t,-.0214*t,.115*t),e.closePath(),r=e.createLinearGradient(-.0189*t,0,.0013*t,0),r.addColorStop(0,"rgba(255, 255, 255, 0.1)"),r.addColorStop(.34,"rgba(255, 255, 255, 0.5)"),r.addColorStop(1,"rgba(255, 255, 255, 0.1)"),e.fillStyle=r,e.fill(),e.restore()},qe=function(e){var t=se?B:G;e.save(),se?e.translate(G/2,0):(e.translate(G/2,B/2),e.rotate(m),e.translate(0,-G/2+.05*G)),e.beginPath(),e.moveTo(-.0516*t,.825*t),e.bezierCurveTo(-.0516*t,.8525*t,-.0289*t,.875*t,.0013*t,.875*t),e.bezierCurveTo(.0289*t,.875*t,.0516*t,.8525*t,.0516*t,.825*t),e.bezierCurveTo(.0516*t,.8075*t,.044*t,.7925*t,.0314*t,.7825*t),e.bezierCurveTo(.0314*t,.7825*t,.0314*t,.12*t,.0314*t,.12*t),e.bezierCurveTo(.0314*t,.1025*t,.0189*t,.0875*t,.0013*t,.0875*t),e.bezierCurveTo(-.0163*t,.0875*t,-.0289*t,.1025*t,-.0289*t,.12*t),e.bezierCurveTo(-.0289*t,.12*t,-.0289*t,.7825*t,-.0289*t,.7825*t),e.bezierCurveTo(-.0415*t,.79*t,-.0516*t,.805*t,-.0516*t,.825*t),e.closePath();var r=e.createLinearGradient(-.0163*t,0,.0289*t,0);r.addColorStop(0,"rgba(226, 226, 226, 0.5)"),r.addColorStop(.5,"rgba(226, 226, 226, 0.2)"),r.addColorStop(1,"rgba(226, 226, 226, 0.5)"),e.fillStyle=r,e.fill(),e.lineWidth=1,e.strokeStyle="rgba(153, 153, 153, 0.5)",e.stroke(),e.restore()};return this.setValue=function(e){e=parseFloat(e);var t=s>e?s:e>d?d:e;return U!==t&&(U=t,U>W&&(W=U),Y>U&&(Y=U),U>=u&&!te&&A||u>=U&&!te&&!A?(te=!0,Ue(te),I&&N.play()):(u>U&&te&&A||U>u&&te&&!A)&&(te=!1,Ue(te),I&&N.pause()),this.repaint()),this},this.getValue=function(){return U},this.setValueAnimated=function(e,t){var r,o,i=this;return e=parseFloat(e),r=s>e?s:e>d?d:e,U!==r&&(void 0!==K&&K.isPlaying&&K.stop(),o=O*Math.abs(r-U)/(d-s),o=Math.max(o,O/5),K=new Tween({},"",Tween.regularEaseInOut,U,r,o),K.onMotionChanged=function(e){U=e.target._pos,U>W&&(W=U),Y>U&&(Y=U),U>=u&&!te&&A||u>=U&&!te&&!A?(te=!0,Ue(te),I&&N.play()):(u>U&&te&&A||U>u&&te&&!A)&&(te=!1,Ue(te),I&&N.pause()),ne||(ne=!0,pe(i.repaint))},t&&"function"==typeof t&&(K.onMotionFinished=t),K.start()),this},this.resetMinMeasuredValue=function(){return Y=U,this.repaint(),this},this.resetMaxMeasuredValue=function(){return W=U,this.repaint(),this},this.setMinMeasuredValueVisible=function(e){return D=!!e,this.repaint(),this},this.setMaxMeasuredValueVisible=function(e){return L=!!e,this.repaint(),this},this.setThreshold=function(e){e=parseFloat(e);var t=s>e?s:e>d?d:e;return u=t,He({background:!0}),Ne({background:!0}),this.repaint(),this},this.setThresholdVisible=function(e){return F=!!e,this.repaint(),this},this.setThresholdRising=function(e){return A=!!e,te=!te,Ue(te),this.repaint(),this},this.setLcdDecimals=function(e){return w=parseInt(e,10),this.repaint(),this},this.setFrameDesign=function(e){return He({frame:!0}),p=e,Ne({frame:!0}),this.repaint(),this},this.setBackgroundColor=function(e){return He({background:!0}),v=e,Ne({background:!0}),this.repaint(),this},this.setValueColor=function(e){return He({foreground:!0}),y=e,Ne({foreground:!0}),this.repaint(),this},this.setLedColor=function(e){return He({led:!0}),E=e,Ne({led:!0}),this.repaint(),this},this.setLedVisible=function(e){return R=!!e,this.repaint(),this},this.setLcdColor=function(e){return He({background:!0}),T=e,Ne({background:!0}),this.repaint(),this},this.setMaxMeasuredValue=function(e){e=parseFloat(e);var t=s>e?s:e>d?d:e;return W=t,this.repaint(),this},this.setMinMeasuredValue=function(e){e=parseFloat(e);var t=s>e?s:e>d?d:e;return Y=t,this.repaint(),this},this.setTitleString=function(e){return h=e,He({background:!0}),Ne({background:!0}),this.repaint(),this},this.setUnitString=function(e){return f=e,He({background:!0}),Ne({background:!0}),this.repaint(),this},this.setMinValue=function(e){return He({background:!0}),s=parseFloat(e),s>Y&&(Y=s),s>U&&(U=s),Ne({background:!0}),this.repaint(),this},this.getMinValue=function(){return s},this.setMaxValue=function(e){return He({background:!0}),d=parseFloat(e),W>d&&(W=d),U>d&&(U=d),Ne({background:!0}),this.repaint(),this},this.getMaxValue=function(){return d},this.repaint=function(){he||Ne({frame:!0,background:!0,led:!0,foreground:!0}),z.clearRect(0,0,z.canvas.width,z.canvas.height),g&&z.drawImage(we,0,0),z.drawImage(ke,0,0),S&&Oe(z,U,se),R&&z.drawImage(Ae,q,X);var e,t,r,i,n;D&&(se?(t="type1"===o.type?.856796:.7475,r=t-.12864,e=B*t-B*r*(Y-s)/(d-s),i=.34*G-De.width,n=e-De.height/2):(t="type1"===o.type?.871012:.82,r=t-("type1"===o.type?.142857:.19857),e=G*r*(Y-s)/(d-s),i=G*("type1"===o.type?.142857:.19857)-De.height/2+e,n=.65*B),z.drawImage(De,i,n)),L&&(se?(e=B*t-B*r*(W-s)/(d-s),i=.34*G-Me.width,n=e-Me.height/2):(t="type1"===o.type?.871012:.8,r=t-("type1"===o.type?.14857:.19857),e=G*r*(W-s)/(d-s),i=G*("type1"===o.type?.142857:.19857)-Me.height/2+e,n=.65*B),z.drawImage(Me,i,n)),z.save(),We(z,G,B),z.restore(),(j||"type2"===o.type)&&z.drawImage(Ie,0,0),ne=!1},this.repaint(),this},A=function(e,t){t=t||{};var o=void 0===t.width?0:t.width,n=void 0===t.height?0:t.height,l=void 0===t.minValue?0:t.minValue,s=void 0===t.maxValue?l+100:t.maxValue,c=void 0===t.section?null:t.section,u=void 0===t.useSectionColors?!1:t.useSectionColors,h=void 0===t.niceScale?!0:t.niceScale,f=void 0===t.threshold?(s-l)/2+l:t.threshold,p=void 0===t.titleString?"":t.titleString,g=void 0===t.unitString?"":t.unitString,v=void 0===t.frameDesign?r.FrameDesign.METAL:t.frameDesign,b=void 0===t.frameVisible?!0:t.frameVisible,m=void 0===t.backgroundColor?r.BackgroundColor.DARK_GRAY:t.backgroundColor,y=void 0===t.backgroundVisible?!0:t.backgroundVisible,T=void 0===t.valueColor?r.ColorDef.RED:t.valueColor,S=void 0===t.lcdColor?r.LcdColor.STANDARD:t.lcdColor,w=void 0===t.lcdVisible?!0:t.lcdVisible,P=void 0===t.lcdDecimals?2:t.lcdDecimals,E=void 0===t.digitalFont?!1:t.digitalFont,R=void 0===t.ledColor?r.LedColor.RED_LED:t.ledColor,F=void 0===t.ledVisible?!0:t.ledVisible,A=void 0===t.thresholdVisible?!0:t.thresholdVisible,D=void 0===t.thresholdRising?!0:t.thresholdRising,L=void 0===t.minMeasuredValueVisible?!1:t.minMeasuredValueVisible,M=void 0===t.maxMeasuredValueVisible?!1:t.maxMeasuredValueVisible,j=void 0===t.labelNumberFormat?r.LabelNumberFormat.STANDARD:t.labelNumberFormat,I=void 0===t.foregroundVisible?!0:t.foregroundVisible,V=void 0===t.playAlarm?!1:t.playAlarm,O=void 0===t.alarmSound?!1:t.alarmSound,z=void 0===t.valueGradient?null:t.valueGradient,G=void 0===t.useValueGradient?!1:t.useValueGradient,B=void 0===t.fullScaleDeflectionTime?2.5:t.fullScaleDeflectionTime,N=C(e);0===o&&(o=N.canvas.width),0===n&&(n=N.canvas.height),N.canvas.width=o,N.canvas.height=n;var H=o,U=n;if(V&&O!==!1){var Y=_.createElement("audio");Y.setAttribute("src",O),Y.setAttribute("preload","auto")}var W,K,q,X,$,Z=this,te=l,ne=s,le=l,se=!1,de=!1,ce=!1,ue=!1,he=[],fe=0,ge=n>=o,ve=Math.round(.05*(ge?n:o)),be=Math.round(.05*(ge?o:n));ge?(K=H/2-ve/2,q=.053*U,X=Math.floor(U/22)+"px "+x,$=Math.floor(U/22)+"px "+k):(K=.89*H,q=U/1.95-ve/2,X=Math.floor(U/10)+"px "+x,$=Math.floor(U/10)+"px "+k);var Ce,me=!1,ye=l,Te=s,Se=s-l,we=Te-ye,_e=0,ke=0,xe=10,Pe=10,Ee=function(){h?(Se=i(s-l,!1),ke=i(Se/(Pe-1),!0),ye=Math.floor(l/ke)*ke,Te=Math.ceil(s/ke)*ke,_e=i(ke/(xe-1),!0),l=ye,s=Te,we=s-l):(Se=s-l,ye=l,Te=s,we=Se,_e=1,ke=10)},Re=a(o,n),Fe=Re.getContext("2d"),Ae=a(o,n),De=Ae.getContext("2d"),Le=_.createElement("canvas");ge?(Le.width=.121428*H,Le.height=.012135*U):(Le.width=.012135*H,Le.height=.121428*U);var Me=Le.getContext("2d"),je=_.createElement("canvas");ge?(je.width=.121428*H,je.height=.012135*U):(je.width=.012135*H,je.height=.121428*U);var Ie=je.getContext("2d"),Ve=a(ve,ve),Oe=Ve.getContext("2d"),ze=a(ve,ve),Ge=ze.getContext("2d"),Be=ze,Ne=a(be,be),He=Ne.getContext("2d"),Ue=a(be,be),Ye=Ue.getContext("2d"),We=a(o,n),Ke=We.getContext("2d"),qe=function(e,t,o){e.save(),e.textAlign="right",e.textBaseline="middle",e.strokeStyle=S.textColor,e.fillStyle=S.textColor,(S===r.LcdColor.STANDARD||S===r.LcdColor.STANDARD_GREEN)&&(e.shadowColor="gray",o?(e.shadowOffsetX=.007*H,e.shadowOffsetY=.007*H,e.shadowBlur=.009*H):(e.shadowOffsetX=.007*U,e.shadowOffsetY=.007*U,e.shadowBlur=.009*U));var i,n,a;E?e.font=$:e.font=X,o?(i=(H-.571428*H)/2+1+.571428*H-2,n=.88*U+1+(.055*U-2)/2,a=.7*H-2):(i=.695*H+.18*H-2,n=.22*U+1+(.15*U-2)/2,a=.22*U-2),e.fillText(t.toFixed(P),i,n,a),e.restore()},Je=function(e){var t=_.createElement("canvas");t.height=t.width=be;var r=t.getContext("2d");r.save();var o=r.createLinearGradient(0,.1,0,.9*t.height);return o.addColorStop(0,"#520000"),o.addColorStop(.3,"#fc1d00"),o.addColorStop(.59,"#fc1d00"),o.addColorStop(1,"#520000"),r.fillStyle=o,e?(r.beginPath(),r.moveTo(.1,.5*t.height),r.lineTo(.9*t.width,.1),r.lineTo(.9*t.width,.9*t.height),r.closePath()):(r.beginPath(),r.moveTo(.1,.1),r.lineTo(.9*t.width,.1),r.lineTo(.5*t.width,.9*t.height),r.closePath()),r.fill(),r.strokeStyle="#FFFFFF",r.stroke(),r.restore(),t},Xe=function(e,t,r){m.labelColor.setAlpha(1),e.save(),e.textBaseline="middle";var o=.1*H;e.strokeStyle=m.labelColor.getRgbaColor(),e.fillStyle=m.labelColor.getRgbaColor();var i,n,a,d,c,u,h,f,p,g,v,b,C=l,y=xe-1,T=1;r?(h=.34*H,f=.36*H,p=.33*H,g=.36*H,v=.32*H,b=.36*H,e.textAlign="right",a=0,d=.12864*U,c=0,u=.856796*U-.12864*U,T=u/(s-l)):(h=.65*U,f=.63*U,p=.66*U,g=.63*U,v=.67*U,b=.63*U,e.textAlign="center",a=.142857*H,d=0,c=.871012*H-.142857*H,u=0,T=c/(s-l));var S;for(S=l,i=0;s>=S;S+=_e,i+=_e)if(n=r?d+u-i*T:a+i*T,y++,y!==xe)0===xe%2&&y===xe/2?(e.lineWidth=1,$e(e,p,g,n,r)):(e.lineWidth=.5,$e(e,h,f,n,r));else{if(e.lineWidth=1.5,$e(e,v,b,n,r),r)switch(t.format){case"fractional":e.fillText(C.toFixed(2),.28*H,n,o);break;case"scientific":e.fillText(C.toPrecision(2),.28*H,n,o);break;case"standard":default:e.fillText(C.toFixed(0),.28*H,n,o)}else switch(t.format){case"fractional":e.fillText(C.toFixed(2),n,.73*U,o);break;case"scientific":e.fillText(C.toPrecision(2),n,.73*U,o);break;case"standard":default:e.fillText(C.toFixed(0),n,.73*U,o)}C+=ke,y=0}e.restore()},$e=function(e,t,r,o,i){i?(e.beginPath(),e.moveTo(t,o),e.lineTo(r,o),e.closePath(),e.stroke()):(e.beginPath(),e.moveTo(o,t),e.lineTo(o,r),e.closePath(),e.stroke())},Qe=function(e){e=e||{};var t=void 0===e.frame?!1:e.frame,o=void 0===e.background?!1:e.background,i=void 0===e.led?!1:e.led,n=void 0===e.foreground?!1:e.foreground,a=void 0===e.bargraphled?!1:e.bargraphled;if(me=!0,Ee(),t&&b&&J(Fe,v,H,U,ge),o&&y&&Q(De,m,H,U,ge),i&&(ge?(Oe.drawImage(re(ve,1,R),0,0),Ge.drawImage(re(ve,0,R),0,0)):(Oe.drawImage(re(ve,1,R),0,0),Ge.drawImage(re(ve,0,R),0,0))),L&&(ge?He.drawImage(ie(be,r.ColorDef.BLUE.dark.getRgbaColor(),!1,ge),0,0):He.drawImage(ie(be,r.ColorDef.BLUE.dark.getRgbaColor(),!1,ge),0,0)),M&&(ge?Ye.drawImage(ie(be,r.ColorDef.RED.medium.getRgbaColor(),!1,ge),0,0):Ye.drawImage(ie(be,r.ColorDef.RED.medium.getRgbaColor(),!1,ge),0,0)),o&&y){var u;Xe(De,j,ge),A&&(De.save(),ge?(u=.856796*U-.728155*U*(f-l)/(s-l),De.translate(.365*H,u-be/2)):(u=(.856796*H-.12864*H)*(f-l)/(s-l),De.translate(.142857*H-be/2+u,.58*U)),De.drawImage(Je(ge),0,0),De.restore()),ge?ae(De,H,U,p,g,m,ge,null,w):ae(De,H,U,p,g,m,ge,null,w)}if(o&&w&&(ge?(Ce=oe(.571428*H,.055*U,S),De.drawImage(Ce,(H-.571428*H)/2,.88*U)):(Ce=oe(.18*H,.15*U,S),De.drawImage(Ce,.695*H,.22*U))),a&&(ot(Ie),it(Me,T)),ce=!1,null!==c&&0<c.length){ce=!0;var h,C,_,k,x=c.length;ge?(h=.12864*U,C=.856796*U,_=C-h,k=0):(h=.856796*H,C=.12864*H,_=h-C,k=.012135*H/2),he=[];do x--,he.push({start:(c[x].start+Math.abs(l))/(s-l)*_-k,stop:(c[x].stop+Math.abs(l))/(s-l)*_-k,color:d(c[x].color)});while(x>0)}ue=!1,G&&null!==z&&(ce=!1,ue=!0),n&&I&&ee(Ke,H,U,ge,!1)},Ze=function(e){e=e||{};var t=void 0===e.frame?!1:e.frame,r=void 0===e.background?!1:e.background,i=void 0===e.led?!1:e.led,a=void 0===e.bargraphled?!1:e.bargraphled,l=void 0===e.foreground?!1:e.foreground;t&&(Re.width=o,Re.height=n,Fe=Re.getContext("2d")),r&&(Ae.width=o,Ae.height=n,De=Ae.getContext("2d")),a&&(ge?(Le.width=.121428*o,Le.height=.012135*n):(Le.width=.012135*o,Le.height=.121428*n),Me=Le.getContext("2d"),ge?(je.width=.121428*o,je.height=.012135*n):(je.width=.012135*o,je.height=.121428*n),Ie=je.getContext("2d")),i&&(Ve.width=Math.ceil(.093457*o),Ve.height=Math.ceil(.093457*n),
Oe=Ve.getContext("2d"),ze.width=Math.ceil(.093457*o),ze.height=Math.ceil(.093457*n),Ge=ze.getContext("2d"),Be=ze),l&&(We.width=o,We.height=n,Ke=We.getContext("2d"))},et=function(e){e?fe=setInterval(tt,1e3):(clearInterval(fe),Be=ze)},tt=function(){F&&(Be=Be===Ve?ze:Ve,de||(de=!0,pe(Z.repaint)))},rt=function(e,t,o){var i,n,a,c,u,h,f,p,g,v,b,C,y,S,w,_,k=m.labelColor;ge?(i=.12864*o,n=.856796*o,a=n-i,c=a*(te-l)/(s-l),u=i+a-c,h=0,f=i,p=0,g=i+1.014*a):(i=.856796*t,n=.12864*t,a=i-n,c=a*(te-l)/(s-l),u=n,h=.13*t,f=.435714*o,p=h+1.035*a,g=f);var x=m===r.BackgroundColor.CARBON||m===r.BackgroundColor.PUNCHED_SHEET||m===r.BackgroundColor.STAINLESS||m===r.BackgroundColor.BRUSHED_STAINLESS||m===r.BackgroundColor.TURNED?.3:0,P=e.createLinearGradient(h,f,p,g);k.setAlpha(.047058+x),P.addColorStop(0,k.getRgbaColor()),k.setAlpha(.145098+x),P.addColorStop(.48,k.getRgbaColor()),k.setAlpha(.149019+x),P.addColorStop(.49,k.getRgbaColor()),k.setAlpha(.047058+x),P.addColorStop(1,k.getRgbaColor()),e.fillStyle=P,ge?e.fillRect(.435714*t,i,.15*t,1.014*a):e.fillRect(h,f,1.035*a,.152857*o),ge?(v=0,b=i,C=0,y=i+1.014*a):(v=h,b=0,C=p,y=0);var E=e.createLinearGradient(v,b,C,y);k.setAlpha(.298039+x),E.addColorStop(0,k.getRgbaColor()),k.setAlpha(.686274+x),E.addColorStop(.48,k.getRgbaColor()),k.setAlpha(.698039+x),E.addColorStop(.49,k.getRgbaColor()),k.setAlpha(.4+x),E.addColorStop(1,k.getRgbaColor()),e.fillStyle=E,ge?(e.fillRect(.435714*t,i,.007142*t,1.014*a),e.fillRect(.571428*t,i,.007142*t,1.014*a)):(e.fillRect(.13*t,.435714*o,1.035*a,.007142*o),e.fillRect(.13*t,.571428*o,1.035*a,.007142*o));var R,F,A,D,L,M,j,I;ge?(R=.45*t,F=.851941*o,A=.121428*t,D=.012135*o,L=(R+A)/2,M=(F+D)/2):(R=.142857*t,F=.45*o,A=.012135*t,D=.121428*o,L=(R+A)/2,M=(F+D)/2);var V,O,G,B,N=T;if(ge){for(I=a,O=0;I>=O;O+=D+1)e.translate(0,-O),e.drawImage(je,R,F),e.translate(0,O);for(j=(te-l)/(s-l)*a,O=0;j>=O;O+=D+1){if(G=T,ue)S=l+O/a*(s-l),w=z.getEnd()-z.getStart(),_=S/w,_=Math.max(Math.min(_,1),0),G=d(z.getColorAt(_).getRgbaColor());else if(ce)for(B=0;B<he.length;B++)if(O>=he[B].start&&O<he[B].stop){G=he[B].color;break}N.medium.getHexColor()!==G.medium.getHexColor()&&(it(Me,G),N=G),e.translate(0,-O),e.drawImage(Le,R,F),e.translate(0,O)}}else{for(I=a,V=-(A/2);I>=V;V+=A+1)e.translate(V,0),e.drawImage(je,R,F),e.translate(-V,0);for(j=(te-l)/(s-l)*a,V=-(A/2);j>=V;V+=A+1){if(G=T,ue)S=l+V/a*(s-l),w=z.getEnd()-z.getStart(),_=S/w,_=Math.max(Math.min(_,1),0),G=d(z.getColorAt(_).getRgbaColor());else if(ce)for(B=0;B<he.length;B++)if(V>=he[B].start&&V<he[B].stop){G=he[B].color;break}N.medium.getHexColor()!==G.medium.getHexColor()&&(it(Me,G),N=G),e.translate(V,0),e.drawImage(Le,R,F),e.translate(-V,0)}}},ot=function(e){e.save(),e.beginPath(),e.rect(0,0,e.canvas.width,e.canvas.height),e.closePath();var t=e.canvas.width/2,r=e.canvas.height/2,o=N.createRadialGradient(t,r,0,t,r,e.canvas.width/2);o.addColorStop(0,"#3c3c3c"),o.addColorStop(1,"#323232"),e.fillStyle=o,e.fill(),e.restore()},it=function(e,t){e.save(),e.beginPath(),e.rect(0,0,e.canvas.width,e.canvas.height),e.closePath();var r,o=e.canvas.width/2,i=e.canvas.height/2;r=ge?e.canvas.width/2:e.canvas.height/2;var n=N.createRadialGradient(o,i,0,o,i,r);n.addColorStop(0,t.light.getRgbaColor()),n.addColorStop(1,t.dark.getRgbaColor()),e.fillStyle=n,e.fill(),e.restore()};return this.setValue=function(e){e=parseFloat(e);var t=l>e?l:e>s?s:e;return te!==t&&(te=t,te>le&&(le=te),ne>te&&(ne=te),te>=f&&!se&&D||f>=te&&!se&&!D?(se=!0,et(se),V&&Y.play()):(f>te&&se&&D||te>f&&se&&!D)&&(se=!1,et(se),V&&Y.pause()),this.repaint()),this},this.getValue=function(){return te},this.setValueAnimated=function(e,t){var r,o,i=this;return e=parseFloat(e),r=l>e?l:e>s?s:e,te!==r&&(void 0!==W&&W.isPlaying&&W.stop(),o=B*Math.abs(r-te)/(s-l),o=Math.max(o,B/5),W=new Tween({},"",Tween.regularEaseInOut,te,r,o),W.onMotionChanged=function(e){te=e.target._pos,te>=f&&!se&&D||f>=te&&!se&&!D?(se=!0,et(se),V&&Y.play()):(f>te&&se&&D||te>f&&se&&!D)&&(se=!1,et(se),V&&Y.pause()),te>le&&(le=te),ne>te&&(ne=te),de||(de=!0,pe(i.repaint))},t&&"function"==typeof t&&(W.onMotionFinished=t),W.start()),this},this.resetMinMeasuredValue=function(){return ne=te,this.repaint(),this},this.resetMaxMeasuredValue=function(){return le=te,this.repaint(),this},this.setMinMeasuredValueVisible=function(e){return L=!!e,this.repaint(),this},this.setMaxMeasuredValueVisible=function(e){return M=!!e,this.repaint(),this},this.setThresholdVisible=function(e){return A=!!e,this.repaint(),this},this.setThresholdRising=function(e){return D=!!e,se=!se,et(se),this.repaint(),this},this.setLcdDecimals=function(e){return P=parseInt(e,10),this.repaint(),this},this.setFrameDesign=function(e){return Ze({frame:!0}),v=e,Qe({frame:!0}),this.repaint(),this},this.setBackgroundColor=function(e){return Ze({background:!0}),m=e,Qe({background:!0}),this.repaint(),this},this.setValueColor=function(e){return Ze({bargraphled:!0}),T=e,Qe({bargraphled:!0}),this.repaint(),this},this.setLedColor=function(e){return Ze({led:!0}),R=e,Qe({led:!0}),this.repaint(),this},this.setLedVisible=function(e){return F=!!e,this.repaint(),this},this.setLcdColor=function(e){return S=e,Ze({background:!0}),Qe({background:!0}),this.repaint(),this},this.setSection=function(e){return c=e,Qe(),this.repaint(),this},this.setSectionActive=function(e){return u=e,Qe(),this.repaint(),this},this.setGradient=function(e){return z=e,Qe(),this.repaint(),this},this.setGradientActive=function(e){return G=e,Qe(),this.repaint(),this},this.setMaxMeasuredValue=function(e){e=parseFloat(e);var t=l>e?l:e>s?s:e;return le!==t&&(le=t,this.repaint()),this},this.setMinMeasuredValue=function(e){e=parseFloat(e);var t=l>e?l:e>s?s:e;return ne!==t&&(ne=t,this.repaint()),this},this.setTitleString=function(e){return p=e,Ze({background:!0}),Qe({background:!0}),this.repaint(),this},this.setUnitString=function(e){return g=e,Ze({background:!0}),Qe({background:!0}),this.repaint(),this},this.setMinValue=function(e){return l=parseFloat(e),Ze({background:!0,foreground:!0,pointer:!0}),Qe({background:!0,foreground:!0,pointer:!0}),this.repaint(),this},this.getMinValue=function(){return l},this.setMaxValue=function(e){return s=parseFloat(e),Ze({background:!0,foreground:!0,pointer:!0}),Qe({background:!0,foreground:!0,pointer:!0}),this.repaint(),this},this.getMaxValue=function(){return s},this.setThreshold=function(e){e=parseFloat(e);var t=l>e?l:e>s?s:e;return f!==t&&(f=t,Ze({background:!0}),Qe({background:!0}),this.repaint()),this},this.setThresholdVisible=function(e){return A=!!e,this.repaint(),this},this.repaint=function(){me||Qe({frame:!0,background:!0,led:!0,pointer:!0,foreground:!0,bargraphled:!0}),N.clearRect(0,0,N.canvas.width,N.canvas.height),b&&N.drawImage(Re,0,0),y&&N.drawImage(Ae,0,0),w&&qe(N,te,ge),F&&N.drawImage(Be,K,q);var e,t,r;L&&(ge?(e=.856796*U-.728155*U*(ne-l)/(s-l),t=.34*H-Ne.width,r=e-Ne.height/2):(e=(.856796*H-.12864*H)*(ne-l)/(s-l),t=.142857*H-Ne.height/2+e,r=.65*U),N.drawImage(Ne,t,r)),M&&(ge?(e=.856796*U-.728155*U*(le-l)/(s-l),t=.34*H-Ue.width,r=e-Ue.height/2):(e=(.856796*H-.12864*H)*(le-l)/(s-l),t=.142857*H-Ue.height/2+e,r=.65*U),N.drawImage(Ue,t,r)),N.save(),rt(N,H,U),N.restore(),I&&N.drawImage(We,0,0),de=!1},this.repaint(),this},D=function(e,t){t=t||{};var o,i=void 0===t.width?0:t.width,l=void 0===t.height?0:t.height,d=void 0===t.lcdColor?r.LcdColor.STANDARD:t.lcdColor,c=void 0===t.lcdDecimals?2:t.lcdDecimals,f=void 0===t.unitString?"":t.unitString,p=void 0===t.unitStringVisible?!1:t.unitStringVisible,g=void 0===t.headerString?"":t.headerString,v=void 0===t.headerStringVisible?!1:t.headerStringVisible,b=void 0===t.digitalFont?!1:t.digitalFont,m=void 0===t.valuesNumeric?!0:t.valuesNumeric,y=void 0===t.value?0:t.value,T=void 0===t.alwaysScroll?!1:t.alwaysScroll,S=void 0===t.autoScroll?!1:t.autoScroll,w=void 0===t.section?null:t.section,_=!1,P=0,E=!1,R=this,F=C(e);0===i&&(i=F.canvas.width),0===l&&(l=F.canvas.height),F.canvas.width=i,F.canvas.height=l;var A,D=i,L=l,M=0,j=Math.floor(L/1.5),I=j+"px "+x,V=j+"px "+k,O=!1,z=[],G=[],B=function(e,t){if(F.save(),F.textAlign="right",F.strokeStyle=t,F.fillStyle=t,F.beginPath(),F.rect(2,0,D-4,L),F.closePath(),F.clip(),d!==r.LcdColor.STANDARD&&d!==r.LcdColor.STANDARD_GREEN||null!==w||(F.shadowColor="gray",F.shadowOffsetX=.035*L,F.shadowOffsetY=.035*L,F.shadowBlur=.055*L),F.font=b?V:I,m){var i=0;M=0,p&&(F.font=Math.floor(L/2.5)+"px "+x,i=F.measureText(f).width),F.font=b?V:I;var n=e.toFixed(c);M=F.measureText(n).width;var a=.38;v&&(a=.52),F.fillText(n,D-i-4-P,.5*L+j*a),p&&(F.font=Math.floor(L/2.5)+"px "+x,F.fillText(f,D-2-P,.5*L+j*a)),v&&(F.textAlign="center",F.font=Math.floor(L/3.5)+"px "+x,F.fillText(g,D/2,.3*L))}else M=F.measureText(e).width,T||S&&M>D-4?_||(P=M>.8*D?D-M-.2*D:0,_=!0,clearTimeout(o),o=setTimeout(U,200)):S&&D-4>=M&&(P=0,_=!1),F.fillText(e,D-2-P,.5*L+.38*j);F.restore()},N=function(e,t,r,o){var i=a(e,t),l=i.getContext("2d");l.save();var d=0,c=0,f=e,p=t,g=.095*Math.min(e,t),v=l.createLinearGradient(0,c,0,c+p);v.addColorStop(0,"#4c4c4c"),v.addColorStop(.08,"#666666"),v.addColorStop(.92,"#666666"),v.addColorStop(1,"#e6e6e6"),l.fillStyle=v,n(l,d,c,f,p,g),l.fill(),l.restore(),l.save();var b=s(r),C=h(b[0],b[1],b[2]),m=s(o.gradientStartColor),y=h(m[0],m[1],m[2]),T=s(o.gradientFraction1Color),S=h(T[0],T[1],T[2]),w=s(o.gradientFraction2Color),_=h(w[0],w[1],w[2]),k=s(o.gradientFraction3Color),x=h(k[0],k[1],k[2]),P=s(o.gradientStopColor),E=h(P[0],P[1],P[2]),R=u(C[0],C[1],y[2]-.31),F=u(C[0],C[1],S[2]-.31),A=u(C[0],C[1],_[2]-.31),D=u(C[0],C[1],x[2]-.31),L=u(C[0],C[1],E[2]-.31),M=1,j=1,I=e-2,V=t-2,O=g-1,z=l.createLinearGradient(0,j,0,j+V);return z.addColorStop(0,"rgb("+R[0]+", "+R[1]+", "+R[2]+")"),z.addColorStop(.03,"rgb("+F[0]+","+F[1]+","+F[2]+")"),z.addColorStop(.49,"rgb("+A[0]+","+A[1]+","+A[2]+")"),z.addColorStop(.5,"rgb("+D[0]+","+D[1]+","+D[2]+")"),z.addColorStop(1,"rgb("+L[0]+","+L[1]+","+L[2]+")"),l.fillStyle=z,n(l,M,j,I,V,O),l.fill(),l.restore(),i},H=function(e){var t=s(e),r=h(t[0],t[1],t[2]),o=u(r[0],.57,.83);return"rgb("+o[0]+", "+o[1]+", "+o[2]+")"},U=function(){_?(P>D&&(P=-M),P+=2,o=setTimeout(U,50)):P=0,E||(E=!0,pe(R.repaint))},Y=function(){var e;if(O=!0,A=oe(i,l,d),null!==w&&0<w.length)for(e=0;e<w.length;e++)z[e]=N(i,l,w[e].color,d),G[e]=H(w[e].color)};return this.setValue=function(e){return y!==e&&(y=e,this.repaint()),this},this.setLcdColor=function(e){return d=e,Y(),this.repaint(),this},this.setSection=function(e){return w=e,Y({background:!0,foreground:!0}),this.repaint(),this},this.setScrolling=function(e){if(e){if(_)return;_=e,U()}else _=e;return this},this.repaint=function(){O||Y(),F.clearRect(0,0,F.canvas.width,F.canvas.height);var e,t=A,r=d.textColor;if(null!==w&&0<w.length)for(e=0;e<w.length;e++)if(y>=w[e].start&&y<=w[e].stop){t=z[e],r=G[e];break}F.drawImage(t,0,0),B(y,r),E=!1},this.repaint(),this},L=function(e,t){t=t||{};var o=void 0===t.width?0:t.width,i=void 0===t.height?0:t.height,n=void 0===t.lcdColor?r.LcdColor.STANDARD:t.lcdColor,a=void 0===t.lcdDecimals?2:t.lcdDecimals,l=void 0===t.headerString?"":t.headerString,s=void 0===t.headerStringVisible?!1:t.headerStringVisible,d=void 0===t.detailString?"":t.detailString,c=void 0===t.detailStringVisible?!1:t.detailStringVisible,u=void 0===t.linkAltValue?!0:t.linkAltValue,h=void 0===t.unitString?"":t.unitString,f=void 0===t.unitStringVisible?!1:t.unitStringVisible,p=void 0===t.digitalFont?!1:t.digitalFont,g=void 0===t.valuesNumeric?!0:t.valuesNumeric,v=void 0===t.value?0:t.value,b=void 0===t.altValue?0:t.altValue,m=C(e);0===o&&(o=m.canvas.width),0===i&&(i=m.canvas.height),m.canvas.width=o,m.canvas.height=i;var y,T=o,S=i,w=Math.floor(S/1.875)+"px "+x,_=Math.floor(S/1.875)+"px "+k,P=Math.floor(S/3.5)+"px "+x,E=Math.floor(S/3.5)+"px "+k,R=!1,F=function(e){if(m.save(),m.textAlign="right",m.textBaseline="middle",m.strokeStyle=n.textColor,m.fillStyle=n.textColor,(n===r.LcdColor.STANDARD||n===r.LcdColor.STANDARD_GREEN)&&(m.shadowColor="gray",m.shadowOffsetX=.025*S,m.shadowOffsetY=.025*S,m.shadowBlur=.05*S),g){s?m.font=Math.floor(S/3)+"px "+x:m.font=Math.floor(S/2.5)+"px "+x;var t=0;f&&(s?(m.font=Math.floor(S/3)+"px "+x,t=m.measureText(h).width):(m.font=Math.floor(S/2.5)+"px "+x,t=m.measureText(h).width)),m.font=p?_:w;var o=e.toFixed(a);s?m.fillText(o,T-t-4,.5*S):m.fillText(o,T-t-4,.38*S),f&&(m.font=Math.floor(S/3)+"px "+x,m.fillText(h,T-2,.55*S));var i=b.toFixed(a);c&&(i=d+i),p?m.font=E:s?m.font=Math.floor(S/5)+"px "+x:m.font=P,m.textAlign="center",s?(m.fillText(i,T/2,.83*S),m.fillText(l,T/2,.16*S)):m.fillText(i,T/2,.8*S)}else s?(m.font=Math.floor(S/3.5)+"px "+x,m.fillText(e,T-2,.48*S),m.font=Math.floor(S/5)+"px "+x,m.textAlign="center",m.fillText(b,T/2,.83*S),m.fillText(l,T/2,.17*S)):(m.font=Math.floor(S/2.5)+"px "+x,m.fillText(e,T-2,.38*S),m.font=P,m.textAlign="center",m.fillText(b,T/2,.8*S));m.restore()},A=function(){R=!0,y=oe(o,i,n)};return this.setValue=function(e){return(v!==e||b!==e)&&(u&&(b=v),v=e,this.repaint()),this},this.setAltValue=function(e){return e!==e&&(e=e,this.repaint()),this},this.setLcdColor=function(e){return n=e,A(),this.repaint(),this},this.repaint=function(){R||A(),m.clearRect(0,0,m.canvas.width,m.canvas.height),m.drawImage(y,0,0),F(v)},this.repaint(),this},M=function(e,t){t=t||{};var o=void 0===t.size?0:t.size,i=void 0===t.decimalsVisible?!1:t.decimalsVisible,n=void 0===t.textOrientationFixed?!1:t.textOrientationFixed,l=void 0===t.frameDesign?r.FrameDesign.METAL:t.frameDesign,s=void 0===t.frameVisible?!0:t.frameVisible,d=void 0===t.backgroundColor?r.BackgroundColor.DARK_GRAY:t.backgroundColor,c=void 0===t.backgroundVisible?!0:t.backgroundVisible,u=void 0===t.pointerColor?r.ColorDef.RED:t.pointerColor,h=void 0===t.foregroundType?r.ForegroundType.TYPE1:t.foregroundType,f=void 0===t.foregroundVisible?!0:t.foregroundVisible,p=void 0===t.rotateFace?!1:t.rotateFace,g=C(e);0===o&&(o=Math.min(g.canvas.width,g.canvas.height)),g.canvas.width=o,g.canvas.height=o;var v,b=!1,w=0,_=0,k=0,P=y/360,E=this.value,R=i?1:0,F=o,A=o,D=F/2,L=A/2,M=!1,j=a(o,o),I=j.getContext("2d"),V=a(o,o),O=V.getContext("2d"),z=a(o,o),G=z.getContext("2d"),B=a(o,o),N=B.getContext("2d"),H=function(e){var t,r,o;for(e.textAlign="center",e.textBaseline="middle",e.save(),e.strokeStyle=d.labelColor.getRgbaColor(),e.fillStyle=d.labelColor.getRgbaColor(),e.translate(D,L),o=0;360>o;o++){switch(e.strokeStyle=d.labelColor.getRgbaColor(),e.lineWidth=.5,e.beginPath(),e.moveTo(.38*F,0),e.lineTo(.37*F,0),e.closePath(),e.stroke(),0===o%5&&(e.strokeStyle=d.labelColor.getRgbaColor(),e.lineWidth=1,e.beginPath(),e.moveTo(.38*F,0),e.lineTo(.36*F,0),e.closePath(),e.stroke()),0===o%45&&(e.strokeStyle=d.labelColor.getRgbaColor(),e.lineWidth=1,e.beginPath(),e.moveTo(.38*F,0),e.lineTo(.34*F,0),e.closePath(),e.stroke()),F>300&&(t="14px "+t,r="12px "+t),300>=F&&(t="12px "+t,r="10px "+t),200>=F&&(t="10px "+t,r="8px "+t),100>=F&&(t="8px "+t,r="6px "+t),e.save(),o){case 0:e.translate(.31*F,0),e.rotate(o*S+m),e.font=t,e.fillText("0",0,0,F),e.rotate(-(o*S)+m),e.translate(.31*-F,0),e.translate(.41*F,0),e.rotate(o*S-m),e.font=r,e.fillText("0%",0,0,F);break;case 45:e.translate(.31*F,0),e.rotate(o*S+.25*T),e.font=t,e.fillText("45",0,0,F),e.rotate(-(o*S)+.25*T),e.translate(.31*-F,0),e.translate(.31*F,.085*F),e.rotate(o*S-.25*T),e.font=r,e.fillText("100%",0,0,F);break;case 90:e.translate(.31*F,0),e.rotate(o*S),e.font=t,e.fillText("90",0,0,F),e.rotate(-(o*S)),e.translate(.31*-F,0),e.translate(.21*F,0),e.rotate(o*S),e.font=r,e.fillText("",0,0,F);break;case 135:e.translate(.31*F,0),e.rotate(o*S-.25*T),e.font=t,e.fillText("45",0,0,F),e.rotate(-(o*S)-.25*T),e.translate(.31*-F,0),e.translate(.31*F,.085*-F),e.rotate(o*S+.25*T),e.font=r,e.fillText("100%",0,0,F);break;case 180:e.translate(.31*F,0),e.rotate(o*S-m),e.font=t,e.fillText("0",0,0,F),e.rotate(-(o*S)-m),e.translate(.31*-F,0),e.translate(.41*F,0),e.rotate(o*S+m),e.font=r,e.fillText("0%",0,0,F),e.translate(.41*-F,0);break;case 225:e.translate(.31*F,0),e.rotate(o*S-.75*T),e.font=t,e.fillText("45",0,0,F),e.rotate(-(o*S)-.75*T),e.translate(.31*-F,0),e.translate(.31*F,.085*F),e.rotate(o*S+.75*T),e.font=r,e.fillText("100%",0,0,F);break;case 270:e.translate(.31*F,0),e.rotate(o*S-T),e.font=t,e.fillText("90",0,0,F),e.rotate(-(o*S)-T),e.translate(.31*-F,0),e.translate(.21*F,0),e.rotate(o*S-T),e.font=r,e.fillText("",0,0,F);break;case 315:e.translate(.31*F,0),e.rotate(o*S-1.25*T),e.font=t,e.fillText("45",0,0,F),e.rotate(-(o*S)-1.25*T),e.translate(.31*-F,0),e.translate(.31*F,.085*-F),e.rotate(o*S+1.25*T),e.font=r,e.fillText("100%",0,0,F)}e.restore(),e.rotate(P)}e.translate(-D,-L),e.restore()},U=function(e){e.save(),e.strokeStyle=d.labelColor.getRgbaColor(),e.fillStyle=d.labelColor.getRgbaColor(),e.save(),e.beginPath(),e.moveTo(.200934*F,.434579*A),e.lineTo(.163551*F,.434579*A),e.lineTo(.163551*F,.560747*A),e.lineTo(.200934*F,.560747*A),e.lineWidth=1,e.lineCap="square",e.lineJoin="miter",e.stroke(),e.save(),e.beginPath(),e.moveTo(.163551*F,.471962*A),e.lineTo(.205607*F,.5*A),e.lineTo(.163551*F,.523364*A),e.lineTo(.163551*F,.471962*A),e.closePath(),e.fill(),e.save(),e.beginPath(),e.moveTo(.799065*F,.434579*A),e.lineTo(.836448*F,.434579*A),e.lineTo(.836448*F,.560747*A),e.lineTo(.799065*F,.560747*A),e.lineWidth=1,e.lineCap="square",e.lineJoin="miter",e.stroke(),e.save(),e.beginPath(),e.moveTo(.836448*F,.471962*A),e.lineTo(.794392*F,.5*A),e.lineTo(.836448*F,.523364*A),e.lineTo(.836448*F,.471962*A),e.closePath(),e.fill(),e.restore()},Y=function(e){e.save(),e.save(),e.beginPath(),e.moveTo(.523364*F,.350467*A),e.lineTo(.5*F,.130841*A),e.lineTo(.476635*F,.350467*A),e.bezierCurveTo(.476635*F,.350467*A,.490654*F,.345794*A,.5*F,.345794*A),e.bezierCurveTo(.509345*F,.345794*A,.523364*F,.350467*A,.523364*F,.350467*A),e.closePath();var t=e.createLinearGradient(0,.154205*A,0,.350466*A),r=u.dark,o=u.light;r.setAlpha(.70588),o.setAlpha(.70588),t.addColorStop(0,r.getRgbaColor()),t.addColorStop(.3,o.getRgbaColor()),t.addColorStop(.59,o.getRgbaColor()),t.addColorStop(1,r.getRgbaColor()),e.fillStyle=t;var i=u.light.getRgbaColor();e.lineWidth=1,e.lineCap="square",e.lineJoin="miter",e.strokeStyle=i,e.fill(),e.stroke(),r.setAlpha(1),o.setAlpha(1),e.restore()},W=function(e){e.save();var t=u.dark,r=u.light;t.setAlpha(.70588),r.setAlpha(.70588),e.save(),e.beginPath(),e.moveTo(.285046*F,.514018*A),e.lineTo(.21028*F,.5*A),e.lineTo(.285046*F,.481308*A),e.bezierCurveTo(.285046*F,.481308*A,.280373*F,.490654*A,.280373*F,.495327*A),e.bezierCurveTo(.280373*F,.504672*A,.285046*F,.514018*A,.285046*F,.514018*A),e.closePath();var o=e.createLinearGradient(.224299*F,0,.289719*F,0);o.addColorStop(0,t.getRgbaColor()),o.addColorStop(.3,r.getRgbaColor()),o.addColorStop(.59,r.getRgbaColor()),o.addColorStop(1,t.getRgbaColor()),e.fillStyle=o;var i=u.light.getRgbaColor();e.lineWidth=1,e.lineCap="square",e.lineJoin="miter",e.strokeStyle=i,e.fill(),e.stroke(),e.save(),e.beginPath(),e.moveTo(.714953*F,.514018*A),e.lineTo(.789719*F,.5*A),e.lineTo(.714953*F,.481308*A),e.bezierCurveTo(.714953*F,.481308*A,.719626*F,.490654*A,.719626*F,.495327*A),e.bezierCurveTo(.719626*F,.504672*A,.714953*F,.514018*A,.714953*F,.514018*A),e.closePath();var n=e.createLinearGradient(.7757*F,0,.71028*F,0);n.addColorStop(0,t.getRgbaColor()),n.addColorStop(.3,r.getRgbaColor()),n.addColorStop(.59,r.getRgbaColor()),n.addColorStop(1,t.getRgbaColor()),e.fillStyle=n;var a=u.light.getRgbaColor();e.lineWidth=1,e.lineCap="square",e.lineJoin="miter",e.strokeStyle=a,e.fill(),e.stroke(),t.setAlpha(1),r.setAlpha(1),e.restore()},K=function(){M=!0,s&&q(I,l,D,L,F,A),c&&(X(I,d,D,L,F,A),H(I)),U(O),Y(O),W(G),f&&Z(N,h,F,A,!1)},J=function(){j.width=o,j.height=o,I=j.getContext("2d"),V.width=o,V.height=o,O=V.getContext("2d"),z.width=o,z.height=o,G=z.getContext("2d"),B.width=o,B.height=o,N=B.getContext("2d")};return this.setValue=function(e){var t;return e=parseFloat(e),t=0>e?360+e:e,t=e>359.9?e-360:e,w!==t&&(w=t,_=2*(10*Math.abs(w)%10),_>10&&(_-=20),0===w&&(k=90),w>0&&90>=w&&(k=90-w),w>90&&180>=w&&(k=w-90),w>180&&270>=w&&(k=270-w),w>270&&360>=w&&(k=w-270),0>w&&w>=-90&&(k=90-Math.abs(w)),-90>w&&w>=-180&&(k=Math.abs(w)-90),-180>w&&w>=-270&&(k=270-Math.abs(w)),-270>w&&w>=-360&&(k=Math.abs(w)-270),this.repaint()),this},this.getValue=function(){return w},this.setValueAnimated=function(e,t){if(e=parseFloat(e),e-w>360-e+w&&(e=360-e),w!==e){void 0!==v&&v.isPlaying&&v.stop(),v=new Tween({},"",Tween.regularEaseInOut,w,e,1);var r=this;v.onMotionChanged=function(e){w=e.target._pos,_=2*(10*Math.abs(w)%10),_>10&&(_-=20),0===w&&(k=90),w>0&&90>=w&&(k=90-w),w>90&&180>=w&&(k=w-90),w>180&&270>=w&&(k=270-w),w>270&&360>=w&&(k=w-270),0>w&&w>=-90&&(k=90-Math.abs(w)),-90>w&&w>=-180&&(k=Math.abs(w)-90),-180>w&&w>=-270&&(k=270-Math.abs(w)),-270>w&&w>=-360&&(k=Math.abs(w)-270),b||(b=!0,pe(r.repaint))},t&&"function"==typeof t&&(v.onMotionFinished=t),v.start()}return this},this.setFrameDesign=function(e){return J(),l=e,K(),this.repaint(),this},this.setBackgroundColor=function(e){return J(),d=e,K(),this.repaint(),this},this.setForegroundType=function(e){return J(),h=e,K(),this.repaint(),this},this.setPointerColor=function(e){return J(),u=e,K(),this.repaint(),this},this.repaint=function(){M||K(),g.save(),g.clearRect(0,0,g.canvas.width,g.canvas.height),E=m+w*P-m,p&&(g.translate(D,L),g.rotate(-E),g.translate(-D,-L)),(s||c)&&g.drawImage(j,0,0),g.save(),g.translate(D,L),g.rotate(E),g.translate(-D,-L),g.drawImage(V,0,0),g.fillStyle=d.labelColor.getRgbaColor(),g.textAlign="center",g.textBaseline="middle",n?(g.restore(),i?g.font=.1*F+"px "+x:g.font=.15*F+"px "+x,g.fillText(k.toFixed(R)+"",D,L,.35*F)):(i?g.font=.15*F+"px "+x:g.font=.2*F+"px "+x,g.fillText(k.toFixed(R)+"",D,L,.35*F),g.restore()),g.translate(D,L),g.rotate(E+_*S),g.translate(-D,-L),g.drawImage(z,0,0),g.restore(),f&&g.drawImage(B,0,0),g.restore(),b=!1},this.repaint(),this},j=function(e,t){t=t||{};var o,i=void 0===t.size?0:t.size,n=void 0===t.frameDesign?r.FrameDesign.METAL:t.frameDesign,l=void 0===t.frameVisible?!0:t.frameVisible,s=void 0===t.backgroundColor?r.BackgroundColor.DARK_GRAY:t.backgroundColor,d=void 0===t.backgroundVisible?!0:t.backgroundVisible,c=void 0===t.pointerType?r.PointerType.TYPE2:t.pointerType,u=void 0===t.pointerColor?r.ColorDef.RED:t.pointerColor,h=void 0===t.knobType?r.KnobType.STANDARD_KNOB:t.knobType,f=void 0===t.knobStyle?r.KnobStyle.SILVER:t.knobStyle,p=void 0===t.foregroundType?r.ForegroundType.TYPE1:t.foregroundType,g=void 0===t.foregroundVisible?!0:t.foregroundVisible,v=void 0===t.pointSymbols?["N","NE","E","SE","S","SW","W","NW"]:t.pointSymbols,y=void 0===t.pointSymbolsVisible?!0:t.pointSymbolsVisible,T=void 0===t.customLayer?null:t.customLayer,w=void 0===t.degreeScale?!1:t.degreeScale,_=void 0===t.roseVisible?!0:t.roseVisible,k=void 0===t.rotateFace?!1:t.rotateFace,x=!1,P=0,E=S,R=this.value,F=C(e);0===i&&(i=Math.min(F.canvas.width,F.canvas.height)),F.canvas.width=i,F.canvas.height=i;var A=i,D=i,L=A/2,M=D/2,j=.006*A,I=!1,V=a(i,i),O=V.getContext("2d"),z=a(i,i),G=z.getContext("2d"),B=a(i,i),N=B.getContext("2d"),H=a(i,i),U=H.getContext("2d"),Y=function(e){var t;e.textAlign="center",e.textBaseline="middle";var r,o,i;if(e.save(),e.strokeStyle=s.labelColor.getRgbaColor(),e.fillStyle=s.labelColor.getRgbaColor(),e.translate(L,M),w)for(r=.08*A+"px serif",o=.033*A+"px serif",e.rotate(10*E),i=10;360>=i;i+=10){if(e.save(),y)switch(i){case 360:e.translate(.35*A,0),e.rotate(m),e.font=r,e.fillText(v[2],0,0,A),e.translate(.35*-A,0);break;case 90:e.translate(.35*A,0),e.rotate(m),e.font=r,e.fillText(v[4],0,0,A),e.translate(.35*-A,0);break;case 180:e.translate(.35*A,0),e.rotate(m),e.font=r,e.fillText(v[6],0,0,A),e.translate(.35*-A,0);break;case 270:e.translate(.35*A,0),e.rotate(m),e.font=r,e.fillText(v[0],0,0,A),e.translate(.35*-A,0);break;default:t=(i+90)%360,e.translate(.37*A,0),e.rotate(m),e.font=o,e.fillText("0".substring(t>=100)+t,0,0,A),e.translate(.37*-A,0)}else t=(i+90)%360,e.translate(.37*A,0),e.rotate(m),e.font=o,e.fillText("0".substring(t>=100)+t,0,0,A),e.translate(.37*-A,0);e.restore(),e.rotate(10*E)}else for(r=.12*A+"px serif",o=.06*A+"px serif",i=0;360>i;i+=2.5){switch(0===i%5&&(e.lineWidth=1,e.beginPath(),e.moveTo(.38*A,0),e.lineTo(.36*A,0),e.closePath(),e.stroke()),e.save(),i){case 0:e.translate(.35*A,0),e.rotate(m),e.font=r,e.fillText(v[2],0,0,A),e.translate(.35*-A,0);break;case 45:e.translate(.29*A,0),e.rotate(m),e.font=o,e.fillText(v[3],0,0,A),e.translate(.29*-A,0);break;case 90:e.translate(.35*A,0),e.rotate(m),e.font=r,e.fillText(v[4],0,0,A),e.translate(.35*-A,0);break;case 135:e.translate(.29*A,0),e.rotate(m),e.font=o,e.fillText(v[5],0,0,A),e.translate(.29*-A,0);break;case 180:e.translate(.35*A,0),e.rotate(m),e.font=r,e.fillText(v[6],0,0,A),e.translate(.35*-A,0);break;case 225:e.translate(.29*A,0),e.rotate(m),e.font=o,e.fillText(v[7],0,0,A),e.translate(.29*-A,0);break;case 270:e.translate(.35*A,0),e.rotate(m),e.font=r,e.fillText(v[0],0,0,A),e.translate(.35*-A,0);break;case 315:e.translate(.29*A,0),e.rotate(m),e.font=o,e.fillText(v[1],0,0,A),e.translate(.29*-A,0)}e.restore(),!_||0!==i&&22.5!==i&&45!==i&&67.5!==i&&90!==i&&112.5!==i&&135!==i&&157.5!==i&&180!==i&&202.5!==i&&225!==i&&247.5!==i&&270!==i&&292.5!==i&&315!==i&&337.5!==i&&360!==i||(e.save(),e.beginPath(),i%45?e.moveTo(.29*A,0):e.moveTo(.38*A,0),e.lineTo(.1*A,0),e.closePath(),e.restore(),e.lineWidth=1,e.strokeStyle=s.symbolColor.getRgbaColor(),e.stroke()),e.rotate(2.5*E)}e.translate(-L,-M),e.restore()},K=function(e){switch(e.save(),c.type){case"type2":e.beginPath(),e.moveTo(.53271*A,.453271*D),e.bezierCurveTo(.53271*A,.453271*D,.5*A,.149532*D,.5*A,.149532*D),e.bezierCurveTo(.5*A,.149532*D,.467289*A,.453271*D,.467289*A,.453271*D),e.bezierCurveTo(.453271*A,.462616*D,.443925*A,.481308*D,.443925*A,.5*D),e.bezierCurveTo(.443925*A,.5*D,.556074*A,.5*D,.556074*A,.5*D),e.bezierCurveTo(.556074*A,.481308*D,.546728*A,.462616*D,.53271*A,.453271*D),e.closePath();var t=e.createLinearGradient(.471962*A,0,.528036*A,0);t.addColorStop(0,u.light.getRgbaColor()),t.addColorStop(.46,u.light.getRgbaColor()),t.addColorStop(.47,u.medium.getRgbaColor()),t.addColorStop(1,u.medium.getRgbaColor()),e.fillStyle=t,e.strokeStyle=u.dark.getRgbaColor(),e.lineWidth=1,e.lineCap="square",e.lineJoin="miter",e.fill(),e.stroke(),e.beginPath(),e.moveTo(.467289*A,.546728*D),e.bezierCurveTo(.467289*A,.546728*D,.5*A,.850467*D,.5*A,.850467*D),e.bezierCurveTo(.5*A,.850467*D,.53271*A,.546728*D,.53271*A,.546728*D),e.bezierCurveTo(.546728*A,.537383*D,.556074*A,.518691*D,.556074*A,.5*D),e.bezierCurveTo(.556074*A,.5*D,.443925*A,.5*D,.443925*A,.5*D),e.bezierCurveTo(.443925*A,.518691*D,.453271*A,.537383*D,.467289*A,.546728*D),e.closePath();var r=e.createLinearGradient(.471962*A,0,.528036*A,0);r.addColorStop(0,"#e3e5e8"),r.addColorStop(.48,"#e3e5e8"),r.addColorStop(.48,"#abb1b8"),r.addColorStop(1,"#abb1b8"),e.fillStyle=r;var o="#abb1b8";e.strokeStyle=o,e.lineWidth=1,e.lineCap="square",e.lineJoin="miter",e.fill(),e.stroke();break;case"type3":e.beginPath(),e.moveTo(.5*A,.149532*D),e.bezierCurveTo(.5*A,.149532*D,.443925*A,.490654*D,.443925*A,.5*D),e.bezierCurveTo(.443925*A,.53271*D,.467289*A,.556074*D,.5*A,.556074*D),e.bezierCurveTo(.53271*A,.556074*D,.556074*A,.53271*D,.556074*A,.5*D),e.bezierCurveTo(.556074*A,.490654*D,.5*A,.149532*D,.5*A,.149532*D),e.closePath();var i=e.createLinearGradient(.471962*A,0,.528036*A,0);i.addColorStop(0,u.light.getRgbaColor()),i.addColorStop(.46,u.light.getRgbaColor()),i.addColorStop(.47,u.medium.getRgbaColor()),i.addColorStop(1,u.medium.getRgbaColor()),e.fillStyle=i,e.strokeStyle=u.dark.getRgbaColor(),e.lineWidth=1,e.lineCap="square",e.lineJoin="miter",e.fill(),e.stroke();break;case"type1:":default:e.beginPath(),e.moveTo(.5*A,.495327*D),e.lineTo(.528037*A,.495327*D),e.lineTo(.5*A,.149532*D),e.lineTo(.471962*A,.495327*D),e.lineTo(.5*A,.495327*D),e.closePath();var n=e.createLinearGradient(.471962*A,0,.528036*A,0);n.addColorStop(0,u.light.getRgbaColor()),n.addColorStop(.46,u.light.getRgbaColor()),n.addColorStop(.47,u.medium.getRgbaColor()),n.addColorStop(1,u.medium.getRgbaColor()),e.fillStyle=n,e.strokeStyle=u.dark.getRgbaColor(),e.lineWidth=1,e.lineCap="square",e.lineJoin="miter",e.fill(),e.stroke(),e.beginPath(),e.moveTo(.5*A,.504672*D),e.lineTo(.471962*A,.504672*D),e.lineTo(.5*A,.850467*D),e.lineTo(.528037*A,.504672*D),e.lineTo(.5*A,.504672*D),e.closePath();var a=e.createLinearGradient(.471962*A,0,.528036*A,0);a.addColorStop(0,"#e3e5e8"),a.addColorStop(.48,"#e3e5e8"),a.addColorStop(.480099,"#abb1b8"),a.addColorStop(1,"#abb1b8"),e.fillStyle=a;var l="#abb1b8";e.strokeStyle=l,e.lineWidth=1,e.lineCap="square",e.lineJoin="miter",e.fill(),e.stroke()}e.restore()},J=function(){I=!0,l&&q(O,n,L,M,A,D),d&&(X(O,s,L,M,A,D),$(O,T,L,M,A,D),_&&W(G,L,M,A,D,s),Y(G)),K(N,!1),g&&Z(U,p,A,D,!0,h,f)},Q=function(){V.width=i,V.height=i,O=V.getContext("2d"),z.width=i,z.height=i,G=z.getContext("2d"),B.width=i,B.height=i,N=B.getContext("2d"),H.width=i,H.height=i,U=H.getContext("2d")};return this.setValue=function(e){return e=parseFloat(e)%360,P!==e&&(P=e,this.repaint()),this},this.getValue=function(){return P},this.setValueAnimated=function(e,t){var r,i=e%360,n=this;return P!==i&&(void 0!==o&&o.isPlaying&&o.stop(),r=b(P,i),o=k?new Tween({},"",Tween.regularEaseInOut,P,P+r,2):new Tween({},"",Tween.elasticEaseOut,P,P+r,2),o.onMotionChanged=function(e){P=e.target._pos%360,x||(x=!0,pe(n.repaint))},t&&"function"==typeof t&&(o.onMotionFinished=t),o.start()),this},this.setFrameDesign=function(e){return Q(),n=e,J(),this.repaint(),this},this.setBackgroundColor=function(e){return Q(),s=e,J(),this.repaint(),this},this.setForegroundType=function(e){return Q(),p=e,J(),this.repaint(),this},this.setPointerColor=function(e){return Q(),u=e,J(),this.repaint(),this},this.setPointerType=function(e){return Q(),c=e,J(),this.repaint(),this},this.setPointSymbols=function(e){return Q(),v=e,J(),this.repaint(),this},this.repaint=function(){I||J(),F.save(),F.clearRect(0,0,F.canvas.width,F.canvas.height),R=m+P*E-m,(d||l)&&F.drawImage(V,0,0),k?(F.save(),F.translate(L,M),F.rotate(-R),F.translate(-L,-M),d&&F.drawImage(z,0,0),F.restore()):(d&&F.drawImage(z,0,0),F.translate(L,M),F.rotate(R),F.translate(-L,-M)),F.shadowColor="rgba(0, 0, 0, 0.8)",F.shadowOffsetX=F.shadowOffsetY=j,F.shadowBlur=2*j,F.drawImage(B,0,0),F.restore(),g&&F.drawImage(H,0,0),x=!1},this.repaint(),this},I=function(e,t){t=t||{};var o,i,n=void 0===t.size?0:t.size,l=void 0===t.frameDesign?r.FrameDesign.METAL:t.frameDesign,s=void 0===t.frameVisible?!0:t.frameVisible,d=void 0===t.backgroundColor?r.BackgroundColor.DARK_GRAY:t.backgroundColor,c=void 0===t.backgroundVisible?!0:t.backgroundVisible,u=void 0===t.pointerTypeLatest?r.PointerType.TYPE1:t.pointerTypeLatest,h=void 0===t.pointerTypeAverage?r.PointerType.TYPE8:t.pointerTypeAverage,f=void 0===t.pointerColor?r.ColorDef.RED:t.pointerColor,p=void 0===t.pointerColorAverage?r.ColorDef.BLUE:t.pointerColorAverage,g=void 0===t.knobType?r.KnobType.STANDARD_KNOB:t.knobType,v=void 0===t.knobStyle?r.KnobStyle.SILVER:t.knobStyle,T=void 0===t.foregroundType?r.ForegroundType.TYPE1:t.foregroundType,w=void 0===t.foregroundVisible?!0:t.foregroundVisible,_=void 0===t.pointSymbols?["N","NE","E","SE","S","SW","W","NW"]:t.pointSymbols,P=void 0===t.pointSymbolsVisible?!0:t.pointSymbolsVisible,E=void 0===t.customLayer?null:t.customLayer,R=void 0===t.degreeScale?!0:t.degreeScale,F=void 0===t.degreeScaleHalf?!1:t.degreeScaleHalf,A=void 0===t.roseVisible?!1:t.roseVisible,D=void 0===t.lcdColor?r.LcdColor.STANDARD:t.lcdColor,L=void 0===t.lcdVisible?!0:t.lcdVisible,M=void 0===t.digitalFont?!1:t.digitalFont,j=void 0===t.section?null:t.section,I=void 0===t.area?null:t.area,V=void 0===t.lcdTitleStrings?["Latest","Average"]:t.lcdTitleStrings,O=void 0===t.titleString?"":t.titleString,z=void 0===t.useColorLabels?!1:t.useColorLabels,G=void 0===t.fullScaleDeflectionTime?2.5:t.fullScaleDeflectionTime,B=0,N=0,H=S,U=this.valueLatest,Y=this.valueAverage,J=-m,Q=y,ee=360,te=!1,re=C(e);0===n&&(n=Math.min(re.canvas.width,re.canvas.height)),re.canvas.width=n,re.canvas.height=n;var ie,ne=n,ae=n,le=ne/2,se=ae/2,de=Math.floor(ne/10),ce=de+"px "+x,ue=de+"px "+k,he=.3*ne,fe=.12*ae,ge=(ne-he)/2,ve=.32*ae,be=.565*ae,Ce=!1,me=a(n,n),ye=me.getContext("2d"),Te=a(n,n),Se=Te.getContext("2d"),we=a(n,n),_e=we.getContext("2d"),ke=a(n,n),xe=ke.getContext("2d"),Pe=function(e,t){
for(re.save(),re.textAlign="center",re.strokeStyle=D.textColor,re.fillStyle=D.textColor;-180>e;)e+=360;!F&&0>e&&(e+=360),F&&e>180&&(e=-(360-e)),e>=0?(e="00"+Math.round(e),e=e.substring(e.length,e.length-3)):(e="00"+Math.abs(Math.round(e)),e="-"+e.substring(e.length,e.length-3)),(D===r.LcdColor.STANDARD||D===r.LcdColor.STANDARD_GREEN)&&(re.shadowColor="gray",re.shadowOffsetX=.007*ne,re.shadowOffsetY=.007*ne,re.shadowBlur=.007*ne),re.font=M?ue:ce,re.fillText(e+"",ne/2+.05*he,(t?ve:be)+.5*fe+.38*de,.9*he),re.restore()},Ee=function(e,t,r,o,i){e.save(),e.strokeStyle=o,e.fillStyle=o,e.lineWidth=.035*ne;var n=Q/ee*t,a=n+(r-t)/(ee/Q);e.translate(le,se),e.rotate(J),e.beginPath(),i?(e.moveTo(0,0),e.arc(0,0,.365*ne-e.lineWidth/2,n,a,!1)):e.arc(0,0,.365*ne,n,a,!1),i?(e.moveTo(0,0),e.fill()):e.stroke(),e.translate(-le,-se),e.restore()},Re=function(e){var t,r,o,i,n,a=.38*ne,l=.35*ne,s=.36*ne,c=.1*ne,u=.31*ne,h=.36*ne;if(e.textAlign="center",e.textBaseline="middle",e.save(),e.strokeStyle=d.labelColor.getRgbaColor(),e.fillStyle=d.labelColor.getRgbaColor(),e.translate(le,se),R)for(t=Math.floor(.1*ne)+"px serif bold",r=Math.floor(.04*ne)+"px "+x,e.rotate(5*H),o=5;360>=o;o+=5){if(e.save(),P)switch(o){case 360:e.translate(h,0),e.rotate(m),e.font=t,e.fillText(_[2],0,0,c),e.translate(-h,0);break;case 90:e.translate(h,0),e.rotate(m),e.font=t,e.fillText(_[4],0,0,c),e.translate(-h,0);break;case 180:e.translate(h,0),e.rotate(m),e.font=t,e.fillText(_[6],0,0,c),e.translate(-h,0);break;case 270:e.translate(h,0),e.rotate(m),e.font=t,e.fillText(_[0],0,0,c),e.translate(-h,0);break;case 5:case 85:case 95:case 175:case 185:case 265:case 275:case 355:break;default:(o+90)%20?(e.lineWidth=(o+90)%5?1.5:1,e.beginPath(),e.moveTo(a,0),n=(o+90)%10?s:l,e.lineTo(n,0),e.closePath(),e.stroke()):(e.lineWidth=1.5,e.beginPath(),e.moveTo(a,0),e.lineTo(l,0),e.closePath(),e.stroke(),i=(o+90)%360,e.translate(u,0),e.rotate(m),e.font=r,e.fillText("0".substring(i>=100)+i,0,0,c),e.translate(-u,0))}else(o+90)%20?(e.lineWidth=(o+90)%5?1.5:1,e.beginPath(),e.moveTo(a,0),n=(o+90)%10?s:l,e.lineTo(n,0),e.closePath(),e.stroke()):(e.lineWidth=1.5,e.beginPath(),e.moveTo(a,0),e.lineTo(l,0),e.closePath(),e.stroke(),i=(o+90)%360,F&&i>180&&(i=-(360-i)),e.translate(u,0),e.rotate(m),e.font=r,e.fillText(i,0,0,c),e.translate(-u,0));e.restore(),e.rotate(5*H)}else for(t=.12*ne+"px serif",r=.06*ne+"px serif",e.lineWidth=1,e.strokeStyle=d.symbolColor.getRgbaColor(),o=0;360>o;o+=2.5){switch(0===o%5&&(e.beginPath(),e.moveTo(.38*ne,0),e.lineTo(.36*ne,0),e.closePath(),e.stroke()),e.save(),o){case 0:e.translate(.35*ne,0),e.rotate(m),e.font=t,e.fillText(_[2],0,0),e.translate(.35*-ne,0);break;case 45:e.translate(.29*ne,0),e.rotate(m),e.font=r,e.fillText(_[3],0,0),e.translate(.29*-ne,0);break;case 90:e.translate(.35*ne,0),e.rotate(m),e.font=t,e.fillText(_[4],0,0),e.translate(.35*-ne,0);break;case 135:e.translate(.29*ne,0),e.rotate(m),e.font=r,e.fillText(_[5],0,0),e.translate(.29*-ne,0);break;case 180:e.translate(.35*ne,0),e.rotate(m),e.font=t,e.fillText(_[6],0,0),e.translate(.35*-ne,0);break;case 225:e.translate(.29*ne,0),e.rotate(m),e.font=r,e.fillText(_[7],0,0),e.translate(.29*-ne,0);break;case 270:e.translate(.35*ne,0),e.rotate(m),e.font=t,e.fillText(_[0],0,0),e.translate(.35*-ne,0);break;case 315:e.translate(.29*ne,0),e.rotate(m),e.font=r,e.fillText(_[1],0,0),e.translate(.29*-ne,0)}e.restore(),!A||0!==o&&22.5!==o&&45!==o&&67.5!==o&&90!==o&&112.5!==o&&135!==o&&157.5!==o&&180!==o&&202.5!==o&&225!==o&&247.5!==o&&270!==o&&292.5!==o&&315!==o&&337.5!==o&&360!==o||(e.save(),e.beginPath(),o%45?e.moveTo(.29*ne,0):e.moveTo(.38*ne,0),e.lineTo(.1*ne,0),e.closePath(),e.restore(),e.stroke()),e.rotate(2.5*H)}e.translate(-le,-se),e.restore()},Fe=function(e){V.length>0&&(e.save(),e.textAlign="center",e.textBaseline="middle",e.fillStyle=z?f.medium.getRgbaColor():d.labelColor.getRgbaColor(),e.font=.04*ne+"px "+x,e.fillText(V[0],ne/2,.29*ae,.3*ne),e.fillStyle=z?p.medium.getRgbaColor():d.labelColor.getRgbaColor(),e.fillText(V[1],ne/2,.71*ae,.3*ne),O.length>0&&(e.fillStyle=d.labelColor.getRgbaColor(),e.font=.0467*ne+"px "+x,e.fillText(O,ne/2,.5*ae,.3*ne)))},Ae=function(e){e=e||{};var t=void 0===e.background?!1:e.background,r=void 0===e.pointer?!1:e.pointer,o=void 0===e.foreground?!1:e.foreground;if(Ce=!0,t&&s&&q(ye,l,le,se,ne,ae),t&&c){if(X(ye,d,le,se,ne,ae),$(ye,E,le,se,ne,ae),null!==j&&0<j.length){var i=j.length;do i--,Ee(ye,j[i].start,j[i].stop,j[i].color,!1);while(i>0)}if(null!==I&&0<I.length){var n=I.length;do n--,Ee(ye,I[n].start,I[n].stop,I[n].color,!0);while(n>0)}Re(ye)}if(t&&A&&W(ye,le,se,ne,ae,d),t&&L&&(ie=oe(he,fe,D),ye.drawImage(ie,ge,ve),ye.drawImage(ie,ge,be),Fe(ye)),r&&(K(_e,ne,h,p,d.labelColor),K(Se,ne,u,f,d.labelColor)),o&&w){var a="type15"===u.type||"type16"===u.type?!1:!0;Z(xe,T,ne,ae,a,g,v)}},De=function(e){e=e||{};var t=void 0===e.background?!1:e.background,r=void 0===e.pointer?!1:e.pointer,o=void 0===e.foreground?!1:e.foreground;t&&(me.width=n,me.height=n,ye=me.getContext("2d")),r&&(Te.width=n,Te.height=n,Se=Te.getContext("2d"),we.width=n,we.height=n,_e=we.getContext("2d")),o&&(ke.width=n,ke.height=n,xe=ke.getContext("2d"))};return this.setValueLatest=function(e){return e=parseFloat(e),e=360===e?360:e%360,B!==e&&(B=e,this.repaint()),this},this.getValueLatest=function(){return B},this.setValueAverage=function(e){return e=parseFloat(e),e=360===e?360:e%360,N!==e&&(N=e,this.repaint()),this},this.getValueAverage=function(){return N},this.setValueAnimatedLatest=function(e,t){var r,i,n,a=this;return e=parseFloat(e),r=360===e?360:e%360,B!==r&&(void 0!==o&&o.isPlaying&&o.stop(),i=b(B,r),0!==i?(n=G*Math.abs(i)/180,n=Math.max(n,G/5),o=new Tween({},"",Tween.regularEaseInOut,B,B+i,n),o.onMotionChanged=function(e){B=360===e.target._pos?360:e.target._pos%360,te||(te=!0,pe(a.repaint))},o.onMotionFinished=function(e){B=360===e.target._pos?360:e.target._pos%360,te||(te=!0,pe(a.repaint)),t&&"function"==typeof t&&t()},o.start()):(B=r,te||(te=!0,pe(a.repaint)))),this},this.setValueAnimatedAverage=function(e,t){var r,o,n,a=this;return e=parseFloat(e),r=360===e?360:e%360,N!==e&&(void 0!==i&&i.isPlaying&&i.stop(),o=b(N,r),0!==o?(n=G*Math.abs(o)/180,n=Math.max(n,G/5),i=new Tween({},"",Tween.regularEaseInOut,N,N+o,n),i.onMotionChanged=function(e){N=360===e.target._pos?360:e.target._pos%360,te||(te=!0,pe(a.repaint))},i.onMotionFinished=function(e){B=360===e.target._pos?360:e.target._pos%360,te||(te=!0,pe(a.repaint)),t&&"function"==typeof t&&t()},i.start()):(N=r,te||(te=!0,pe(a.repaint)))),this},this.setArea=function(e){return I=e,De({background:!0}),Ae({background:!0}),this.repaint(),this},this.setSection=function(e){return j=e,De({background:!0}),Ae({background:!0}),this.repaint(),this},this.setFrameDesign=function(e){return l=e,De({background:!0}),Ae({background:!0}),this.repaint(),this},this.setBackgroundColor=function(e){return d=e,De({background:!0}),Ae({background:!0}),this.repaint(),this},this.setForegroundType=function(e){return De({foreground:!0}),T=e,Ae({foreground:!0}),this.repaint(),this},this.setPointerColor=function(e){return De({pointer:!0}),f=e,Ae({pointer:!0}),this.repaint(),this},this.setPointerColorAverage=function(e){return De({pointer:!0}),p=e,Ae({pointer:!0}),this.repaint(),this},this.setPointerType=function(e){return u=e,De({pointer:!0,foreground:!0}),Ae({pointer:!0,foreground:!0}),this.repaint(),this},this.setPointerTypeAverage=function(e){return h=e,De({pointer:!0,foreground:!0}),Ae({pointer:!0,foreground:!0}),this.repaint(),this},this.setPointSymbols=function(e){return _=e,De({background:!0}),Ae({background:!0}),this.repaint(),this},this.setLcdColor=function(e){return D=e,De({background:!0}),Ae({background:!0}),this.repaint(),this},this.setLcdTitleStrings=function(e){return V=e,De({background:!0}),Ae({background:!0}),this.repaint(),this},this.repaint=function(){Ce||Ae({frame:!0,background:!0,led:!0,pointer:!0,foreground:!0}),re.clearRect(0,0,re.canvas.width,re.canvas.height),(s||c)&&re.drawImage(me,0,0),L&&(Pe(B,!0),Pe(N,!1)),Y=N*H;var e=.006*ne;re.save(),re.translate(le,se),re.rotate(Y),re.translate(-le,-se),re.shadowColor="rgba(0, 0, 0, 0.8)",re.shadowOffsetX=re.shadowOffsetY=e,re.shadowBlur=2*e,re.drawImage(we,0,0),U=B*H-Y,re.translate(le,se),re.rotate(U),re.translate(-le,-se),re.drawImage(Te,0,0),re.restore(),w&&re.drawImage(ke,0,0),te=!1},this.repaint(),this},V=function(e,t){t=t||{};var o,i,n=void 0===t.size?0:t.size,l=void 0===t.frameDesign?r.FrameDesign.METAL:t.frameDesign,s=void 0===t.frameVisible?!0:t.frameVisible,d=void 0===t.foregroundType?r.ForegroundType.TYPE1:t.foregroundType,c=void 0===t.foregroundVisible?!0:t.foregroundVisible,u=void 0===t.pointerColor?r.ColorDef.WHITE:t.pointerColor,h=!1,f=0,p=0,g=T*n/360,v=0,b=!1,w=C(e);0===n&&(n=Math.min(w.canvas.width,w.canvas.height)),w.canvas.width=n,w.canvas.height=n;var _=n,k=n,P=_/2,E=k/2,R=!1,F=a(n,n),A=F.getContext("2d"),D=a(n,n*T),L=D.getContext("2d"),M=a(.037383*n,.056074*n),j=M.getContext("2d"),I=a(n,n),V=I.getContext("2d"),O=function(e){e.save();var t,r=n,o=n*T;e.beginPath(),e.rect(0,0,r,o),e.closePath();var i=e.createLinearGradient(0,0,0,o);i.addColorStop(0,"#7fd5f0"),i.addColorStop(.5,"#7fd5f0"),i.addColorStop(.5,"#3c4439"),i.addColorStop(1,"#3c4439"),e.fillStyle=i,e.fill(),e.lineWidth=1;var a=o/360*5,l=!1,s=10;e.textAlign="center",e.textBaseline="middle";var d=.04*r;for(e.font=d+"px "+x,e.fillStyle="#37596e",t=o/2-a;t>0;t-=a)90>=s&&(l?(e.fillText(s,(r-.2*r)/2-8,t,.375*r),e.fillText(s,r-(r-.2*r)/2+8,t,.375*r),e.beginPath(),e.moveTo((r-.2*r)/2,t),e.lineTo(r-(r-.2*r)/2,t),e.closePath(),s+=10):(e.beginPath(),e.moveTo((r-.1*r)/2,t),e.lineTo(r-(r-.1*r)/2,t),e.closePath()),e.stroke()),l^=!0;for(l=!1,s=10,e.strokeStyle="#FFFFFF",e.lineWidth=1.5,e.beginPath(),e.moveTo(0,o/2),e.lineTo(r,o/2),e.closePath(),e.stroke(),e.fillStyle="#FFFFFF",e.lineWidth=1,t=o/2+a;o>=t;t+=a)90>=s&&(l?(e.fillText(-s,(r-.2*r)/2-8,t,.375*r),e.fillText(-s,r-(r-.2*r)/2+8,t,.375*r),e.beginPath(),e.moveTo((r-.2*r)/2,t),e.lineTo(r-(r-.2*r)/2,t),e.closePath(),s+=10):(e.beginPath(),e.moveTo((r-.1*r)/2,t),e.lineTo(r-(r-.1*r)/2,t),e.closePath()),e.stroke()),l^=!0;e.restore()},z=function(e){e.save(),e.fillStyle=u.light.getRgbaColor(),e.beginPath(),e.moveTo(.476635*_,.5*k),e.bezierCurveTo(.476635*_,.514018*k,.485981*_,.523364*k,.5*_,.523364*k),e.bezierCurveTo(.514018*_,.523364*k,.523364*_,.514018*k,.523364*_,.5*k),e.bezierCurveTo(.523364*_,.485981*k,.514018*_,.476635*k,.5*_,.476635*k),e.bezierCurveTo(.485981*_,.476635*k,.476635*_,.485981*k,.476635*_,.5*k),e.closePath(),e.moveTo(.415887*_,.504672*k),e.lineTo(.415887*_,.495327*k),e.bezierCurveTo(.415887*_,.495327*k,.467289*_,.495327*k,.467289*_,.495327*k),e.bezierCurveTo(.471962*_,.481308*k,.481308*_,.471962*k,.495327*_,.467289*k),e.bezierCurveTo(.495327*_,.467289*k,.495327*_,.415887*k,.495327*_,.415887*k),e.lineTo(.504672*_,.415887*k),e.bezierCurveTo(.504672*_,.415887*k,.504672*_,.467289*k,.504672*_,.467289*k),e.bezierCurveTo(.518691*_,.471962*k,.528037*_,.481308*k,.53271*_,.495327*k),e.bezierCurveTo(.53271*_,.495327*k,.584112*_,.495327*k,.584112*_,.495327*k),e.lineTo(.584112*_,.504672*k),e.bezierCurveTo(.584112*_,.504672*k,.53271*_,.504672*k,.53271*_,.504672*k),e.bezierCurveTo(.528037*_,.518691*k,.518691*_,.53271*k,.5*_,.53271*k),e.bezierCurveTo(.481308*_,.53271*k,.471962*_,.518691*k,.467289*_,.504672*k),e.bezierCurveTo(.467289*_,.504672*k,.415887*_,.504672*k,.415887*_,.504672*k),e.closePath(),e.fill();var t=5,r=5*S;e.translate(P,E),e.rotate(-m),e.translate(-P,-E);var o;for(o=-90;90>=o;o+=t)o%45===0||0===o?(e.strokeStyle=u.medium.getRgbaColor(),e.lineWidth=2,e.beginPath(),e.moveTo(.5*_,.088785*k),e.lineTo(.5*_,.113*k),e.closePath(),e.stroke()):o%15===0?(e.strokeStyle="#FFFFFF",e.lineWidth=1,e.beginPath(),e.moveTo(.5*_,.088785*k),e.lineTo(.5*_,.103785*k),e.closePath(),e.stroke()):(e.strokeStyle="#FFFFFF",e.lineWidth=.5,e.beginPath(),e.moveTo(.5*_,.088785*k),e.lineTo(.5*_,.093785*k),e.closePath(),e.stroke()),e.translate(P,E),e.rotate(r,P,E),e.translate(-P,-E);e.restore()},G=function(e){e.save();var t=.037383*_,r=.056074*k;e.beginPath(),e.moveTo(.5*t,0),e.lineTo(0,r),e.lineTo(t,r),e.closePath(),e.fillStyle=u.light.getRgbaColor(),e.fill(),e.strokeStyle=u.medium.getRgbaColor(),e.stroke(),e.restore()},B=function(){R=!0,s&&q(A,l,P,E,_,k),O(L),G(j),z(V),c&&Z(V,d,_,k,!0,Me,je,De)},N=function(){F.width=n,F.height=n,A=F.getContext("2d"),D.width=n,D.height=n*T,L=D.getContext("2d"),M.width=.037383*n,M.height=.056074*n,j=M.getContext("2d"),I.width=n,I.height=n,V=I.getContext("2d")};return this.setRoll=function(e){return e=parseFloat(e)%360,f!==e&&(f=e,this.repaint()),this},this.getRoll=function(){return f},this.setRollAnimated=function(e,t){var r=this;return e=parseFloat(e)%360,f!==e&&(void 0!==o&&o.isPlaying&&o.stop(),o=new Tween({},"",Tween.regularEaseInOut,f,e,1),o.onMotionChanged=function(e){f=e.target._pos,h||(h=!0,pe(r.repaint))},t&&"function"==typeof t&&(o.onMotionFinished=t),o.start()),this},this.setPitch=function(e){return e=(parseFloat(e)+180-v)%360-180,p!==e&&(p=e,p>90?(p=90-(p-90),b||this.setRoll(f-180),b=!0):-90>p?(p=-90+(-90-p),b||this.setRoll(f+180),b=!0):b=!1,this.repaint()),this},this.getPitch=function(){return p},this.setPitchAnimated=function(e,t){var r=this;return e=parseFloat(e),p!==e&&(void 0!==i&&i.isPlaying&&i.stop(),i=new Tween({},"",Tween.regularEaseInOut,p,e,1),i.onMotionChanged=function(e){p=e.target._pos,p>90?(p=90-(p-90),b||this.setRoll(f-180),b=!0):-90>p?(p=-90+(-90-p),b||this.setRoll(f+180),b=!0):b=!1,h||(h=!0,pe(r.repaint)),r.setPitch(e.target._pos)},t&&"function"==typeof t&&(i.onMotionFinished=t),i.start()),this},this.setPitchOffset=function(e){return v=parseFloat(e),this.repaint(),this},this.setFrameDesign=function(e){return N(),l=e,B(),this.repaint(),this},this.setForegroundType=function(e){return N(),d=e,B(),this.repaint(),this},this.repaint=function(){R||B(),w.save(),w.clearRect(0,0,w.canvas.width,w.canvas.height),w.drawImage(F,0,0),w.save(),w.beginPath(),w.arc(P,E,.831775*_/2,0,y,!0),w.closePath(),w.clip(),w.translate(P,E),w.rotate(-(f*S)),w.translate(-P,0),w.translate(0,p*g),w.drawImage(D,0,-D.height/2),w.translate(0,-(p*g)-E),w.drawImage(M,.5*_-M.width/2,.107476*_),w.restore(),w.drawImage(I,0,0),w.restore()},this.repaint(),this},O=function(e,t){t=t||{};var o=void 0===t.size?0:t.size,i=void 0===t.ledColor?r.LedColor.RED_LED:t.ledColor,n=!1,a=0,l=C(e);0===o&&(o=Math.min(l.canvas.width,l.canvas.height)),l.canvas.width=o,l.canvas.height=o;var s=!1,d=_.createElement("canvas");d.width=o,d.height=o;var c=d.getContext("2d"),u=_.createElement("canvas");u.width=o,u.height=o;var h=u.getContext("2d"),f=u,p=function(){s=!0,c.clearRect(0,0,c.canvas.width,c.canvas.height),c.drawImage(re(o,1,i),0,0),h.clearRect(0,0,h.canvas.width,h.canvas.height),h.drawImage(re(o,0,i),0,0)};this.toggleLed=function(){return f=f===d?u:d,g(),this},this.setLedColor=function(e){return i=e,s=!1,g(),this},this.setLedOnOff=function(e){return f=e?d:u,g(),this},this.blink=function(e){return e?n||(a=setInterval(this.toggleLed,1e3),n=!0):n&&(clearInterval(a),n=!1,f=u),this};var g=function(){s||p(),l.save(),l.clearRect(0,0,l.canvas.width,l.canvas.height),l.drawImage(f,0,0),l.restore()};return g(),this},z=function(e,t){t=t||{};var o,i,n,l,s=void 0===t.size?0:t.size,d=void 0===t.frameDesign?r.FrameDesign.METAL:t.frameDesign,c=void 0===t.frameVisible?!0:t.frameVisible,u=void 0===t.pointerType?r.PointerType.TYPE1:t.pointerType,h=void 0===t.pointerColor?u===r.PointerType.TYPE1?r.ColorDef.GRAY:r.ColorDef.BLACK:t.pointerColor,f=void 0===t.backgroundColor?u===r.PointerType.TYPE1?r.BackgroundColor.ANTHRACITE:r.BackgroundColor.LIGHT_GRAY:t.backgroundColor,p=void 0===t.backgroundVisible?!0:t.backgroundVisible,g=void 0===t.foregroundType?r.ForegroundType.TYPE1:t.foregroundType,v=void 0===t.foregroundVisible?!0:t.foregroundVisible,b=void 0===t.customLayer?null:t.customLayer,m=void 0===t.isAutomatic?!0:t.isAutomatic,T=void 0===t.hour?11:t.hour,w=void 0===t.minute?5:t.minute,_=void 0===t.second?0:t.second,k=void 0===t.secondMovesContinuous?!1:t.secondMovesContinuous,x=void 0===t.timeZoneOffsetHour?0:t.timeZoneOffsetHour,P=void 0===t.timeZoneOffsetMinute?0:t.timeZoneOffsetMinute,E=void 0===t.secondPointerVisible?!0:t.secondPointerVisible,R=new Date,F=k?100:1e3;F=E?F:100;var A=this,D=6,L=C(e);0===s&&(s=Math.min(L.canvas.width,L.canvas.height)),L.canvas.width=s,L.canvas.height=s;var M=s,j=s,I=M/2,V=j/2,O=!1,z=a(s,s),G=z.getContext("2d"),B=a(s,s),N=B.getContext("2d"),H=a(s,s),U=H.getContext("2d"),Y=a(s,s),W=Y.getContext("2d"),K=a(s,s),J=K.getContext("2d"),Q=a(s,s),ee=Q.getContext("2d"),te=function(e,t){var r,o,i,n,a;switch(n=.405*M,e.save(),e.translate(I,V),t.type){case"type1":for(o=.074766*M,a=n-o,e.strokeStyle=f.labelColor.getRgbaColor(),e.lineWidth=.014018*M,r=0;360>r;r+=30)e.beginPath(),e.moveTo(n,0),e.lineTo(a,0),e.closePath(),e.stroke(),e.rotate(30*S);for(i=.126168*M,a=n-i,e.lineWidth=.03271*M,r=0;360>r;r+=90)e.beginPath(),e.moveTo(n,0),e.lineTo(a,0),e.closePath(),e.stroke(),e.rotate(90*S);break;case"type2":default:for(o=.037383*M,a=n-o,e.strokeStyle=f.labelColor.getRgbaColor(),e.lineWidth=.009345*M,r=0;360>r;r+=6)e.beginPath(),e.moveTo(n,0),e.lineTo(a,0),e.closePath(),e.stroke(),e.rotate(6*S);for(i=.084112*M,a=n-i,e.lineWidth=.028037*M,r=0;360>r;r+=30)e.beginPath(),e.moveTo(n,0),e.lineTo(a,0),e.closePath(),e.stroke(),e.rotate(30*S)}e.translate(-I,-V),e.restore()},re=function(e,t){e.save();var r;switch(t.type){case"type2":e.beginPath(),e.lineWidth=.046728*M,e.moveTo(I,.289719*M),e.lineTo(I,.289719*M+.224299*M),e.strokeStyle=h.medium.getRgbaColor(),e.closePath(),e.stroke();break;case"type1":default:e.beginPath(),e.moveTo(.471962*M,.560747*j),e.lineTo(.471962*M,.214953*j),e.lineTo(.5*M,.182242*j),e.lineTo(.528037*M,.214953*j),e.lineTo(.528037*M,.560747*j),e.lineTo(.471962*M,.560747*j),e.closePath(),r=e.createLinearGradient(.471962*M,.560747*j,.528037*M,.214953*j),r.addColorStop(1,h.veryLight.getRgbaColor()),r.addColorStop(0,h.light.getRgbaColor()),e.fillStyle=r,e.strokeStyle=h.light.getRgbaColor(),e.fill(),e.stroke()}e.restore()},oe=function(e,t){e.save();var r;switch(t.type){case"type2":e.beginPath(),e.lineWidth=.03271*M,e.moveTo(I,.116822*M),e.lineTo(I,.116822*M+.38785*M),e.strokeStyle=h.medium.getRgbaColor(),e.closePath(),e.stroke();break;case"type1":default:e.beginPath(),e.moveTo(.518691*M,.574766*j),e.lineTo(.523364*M,.135514*j),e.lineTo(.5*M,.107476*j),e.lineTo(.476635*M,.140186*j),e.lineTo(.476635*M,.574766*j),e.lineTo(.518691*M,.574766*j),e.closePath(),r=e.createLinearGradient(.518691*M,.574766*j,.476635*M,.140186*j),r.addColorStop(1,h.veryLight.getRgbaColor()),r.addColorStop(0,h.light.getRgbaColor()),e.fillStyle=r,e.strokeStyle=h.light.getRgbaColor(),e.fill(),e.stroke()}e.restore()},ie=function(e,t){e.save();var o;switch(t.type){case"type2":e.lineWidth=.009345*M,e.beginPath(),e.moveTo(I,.09813*M),e.lineTo(I,.09813*M+.126168*M),e.closePath(),e.stroke(),e.lineWidth=.018691*M,e.beginPath(),e.moveTo(I,.308411*M),e.lineTo(I,.308411*M+.191588*M),e.closePath(),e.stroke(),e.lineWidth=.016*M,e.beginPath(),e.arc(I,.26*M,.085*M/2,0,y),e.closePath(),e.stroke();break;case"type1":default:e.beginPath(),e.moveTo(.509345*M,.116822*j),e.lineTo(.509345*M,.574766*j),e.lineTo(.490654*M,.574766*j),e.lineTo(.490654*M,.116822*j),e.lineTo(.509345*M,.116822*j),e.closePath(),o=e.createLinearGradient(.509345*M,.116822*j,.490654*M,.574766*j),o.addColorStop(0,r.ColorDef.RED.light.getRgbaColor()),o.addColorStop(.47,r.ColorDef.RED.medium.getRgbaColor()),o.addColorStop(1,r.ColorDef.RED.dark.getRgbaColor()),e.fillStyle=o,e.strokeStyle=r.ColorDef.RED.dark.getRgbaColor(),e.fill(),e.stroke()}e.restore()},ne=function(e){var t;e.beginPath(),e.arc(I,V,.045*M,0,y),e.closePath(),t=e.createLinearGradient(I-.045*M/2,V-.045*M/2,I+.045*M/2,V+.045*M/2),t.addColorStop(0,"#eef0f2"),t.addColorStop(1,"#65696d"),e.fillStyle=t,e.fill()},ae=function(e,t){var r;switch(e.save(),t.type){case"type2":e.fillStyle="#000000",e.beginPath(),e.arc(I,V,.088785*M/2,0,y),e.closePath(),e.fill();break;case"type1":default:r=e.createLinearGradient(I-.027*M/2,V-.027*M/2,I+.027*M/2,V+.027*M/2),r.addColorStop(0,"#f3f4f7"),r.addColorStop(.11,"#f3f5f7"),r.addColorStop(.12,"#f1f3f5"),r.addColorStop(.2,"#c0c5cb"),r.addColorStop(.2,"#bec3c9"),r.addColorStop(1,"#bec3c9"),e.fillStyle=r,e.beginPath(),e.arc(I,V,.027*M,0,y),e.closePath(),e.fill()}e.restore()},le=function(e,t,r){n=r*D*S,o=t*D*S,i=(e+t/60)*D*5*S},se=function(){m?R=new Date:(R.setHours(T),R.setMinutes(w),R.setSeconds(_)),_=R.getSeconds()+(k?R.getMilliseconds()/1e3:0),T=0!==x&&0!==P?R.getUTCHours()+x:R.getHours(),T%=12,w=0!==x&&0!==P?R.getUTCMinutes()+P:R.getMinutes(),w>60&&(w-=60,T++),0>w&&(w+=60,T--),T%=12,le(T,w,_),m&&(l=setTimeout(se,F)),A.repaint()},de=function(e){e=e||{};var t=void 0===e.frame?!1:e.frame,r=void 0===e.background?!1:e.background,o=void 0===e.pointers?!1:e.pointers,i=void 0===e.foreground?!1:e.foreground;O=!0,t&&c&&q(G,d,I,V,M,j),r&&p&&(X(N,f,I,V,M,j),$(N,b,I,V,M,j),te(N,u)),o&&(re(U,u),oe(W,u),ie(J,u)),i&&v&&(ae(ee,u),Z(ee,g,M,j,!1))},ce=function(e){e=e||{};var t=void 0===e.frame?!1:e.frame,r=void 0===e.background?!1:e.background,o=void 0===e.pointers?!1:e.pointers,i=void 0===e.foreground?!1:e.foreground;t&&(z.width=s,z.height=s,G=z.getContext("2d")),r&&(B.width=s,B.height=s,N=B.getContext("2d")),o&&(H.width=s,H.height=s,U=H.getContext("2d"),Y.width=s,Y.height=s,W=Y.getContext("2d"),K.width=s,K.height=s,J=K.getContext("2d")),i&&(Q.width=s,Q.height=s,ee=Q.getContext("2d"))};return this.getAutomatic=function(){return m},this.setAutomatic=function(e){return e=!!e,m&&!e?(clearTimeout(l),m=e):!m&&e&&(m=e,se()),this},this.getHour=function(){return T},this.setHour=function(e){return e=parseInt(e,10)%12,T!==e&&(T=e,le(T,w,_),this.repaint()),this},this.getMinute=function(){return w},this.setMinute=function(e){return e=parseInt(e,10)%60,w!==e&&(w=e,le(T,w,_),this.repaint()),this},this.getSecond=function(){return _},this.setSecond=function(e){return _=parseInt(e,10)%60,_!==e&&(_=e,le(T,w,_),this.repaint()),this},this.getTimeZoneOffsetHour=function(){return x},this.setTimeZoneOffsetHour=function(e){return x=parseInt(e,10),this.repaint(),this},this.getTimeZoneOffsetMinute=function(){return P},this.setTimeZoneOffsetMinute=function(e){return P=parseInt(e,10),this.repaint(),this},this.getSecondPointerVisible=function(){return E},this.setSecondPointerVisible=function(e){return E=!!e,this.repaint(),this},this.getSecondMovesContinuous=function(){return k},this.setSecondMovesContinuous=function(e){return k=!!e,F=k?100:1e3,F=E?F:100,this},this.setFrameDesign=function(e){return ce({frame:!0}),d=e,de({frame:!0}),this.repaint(),this},this.setBackgroundColor=function(e){return ce({frame:!0,background:!0}),f=e,de({frame:!0,background:!0}),this.repaint(),this},this.setForegroundType=function(e){return ce({foreground:!0}),g=e,de({foreground:!0}),this.repaint(),this},this.setPointerType=function(e){return ce({background:!0,foreground:!0,pointers:!0}),u=e,"type1"===u.type?(h=r.ColorDef.GRAY,f=r.BackgroundColor.ANTHRACITE):(h=r.ColorDef.BLACK,f=r.BackgroundColor.LIGHT_GRAY),de({background:!0,foreground:!0,pointers:!0}),this.repaint(),this},this.setPointerColor=function(e){return ce({pointers:!0}),h=e,de({pointers:!0}),this.repaint(),this},this.repaint=function(){O||de({frame:!0,background:!0,pointers:!0,foreground:!0}),L.clearRect(0,0,L.canvas.width,L.canvas.height),c&&L.drawImage(z,0,0),p&&L.drawImage(B,0,0);var e=.006*M;L.save(),L.translate(I,V),L.rotate(i),L.translate(-I,-V),L.shadowColor="rgba(0, 0, 0, 0.8)",L.shadowOffsetX=L.shadowOffsetY=e,L.shadowBlur=2*e,L.drawImage(H,0,0),L.translate(I,V),L.rotate(o-i),L.translate(-I,-V),L.drawImage(Y,0,0),L.restore(),"type1"===u.type&&ne(L),E&&(L.save(),L.translate(I,V),L.rotate(n),L.translate(-I,-V),L.shadowColor="rgba(0, 0, 0, 0.8)",L.shadowOffsetX=L.shadowOffsetY=e,L.shadowBlur=2*e,L.drawImage(K,0,0),L.restore()),v&&L.drawImage(Q,0,0)},se(),this},G=function(e,t){t=t||{};var r=void 0===t.size?0:t.size,o=void 0===t.value?50:t.value,i=C(e);0===r&&(r=i.canvas.width);var n=r,a=Math.ceil(.45*r);i.canvas.width=n,i.canvas.height=a;var l=function(e,t,r,o){var i;e.beginPath(),e.moveTo(.025*t,.055555*r),e.lineTo(.9*t,.055555*r),e.lineTo(.9*t,.944444*r),e.lineTo(.025*t,.944444*r),e.lineTo(.025*t,.055555*r),e.closePath(),e.beginPath(),e.moveTo(.925*t,0),e.lineTo(0,0),e.lineTo(0,r),e.lineTo(.925*t,r),e.lineTo(.925*t,.722222*r),e.bezierCurveTo(.925*t,.722222*r,.975*t,.722222*r,.975*t,.722222*r),e.bezierCurveTo(t,.722222*r,t,.666666*r,t,.666666*r),e.bezierCurveTo(t,.666666*r,t,.333333*r,t,.333333*r),e.bezierCurveTo(t,.333333*r,t,.277777*r,.975*t,.277777*r),e.bezierCurveTo(.975*t,.277777*r,.925*t,.277777*r,.925*t,.277777*r),e.lineTo(.925*t,0),e.closePath(),i=e.createLinearGradient(0,0,0,r),i.addColorStop(0,"#ffffff"),i.addColorStop(1,"#7e7e7e"),e.fillStyle=i,e.fill(),e.beginPath();var n=Math.max(.875*t*(o/100),Math.ceil(.01*t));e.rect(.025*t,.025*t,n,.888888*r),e.closePath();var a=[0,.4,1],l=[new ce(177,25,2,1),new ce(219,167,21,1),new ce(121,162,75,1)],s=new he(0,100,a,l);e.fillStyle=s.getColorAt(o/100).getRgbColor(),e.fill(),e.beginPath(),n=Math.max(n-.05*t,0),e.rect(.05*t,.05*t,n,.777777*r),e.closePath();var d=[new ce(198,39,5,1),new ce(228,189,32,1),new ce(163,216,102,1)],c=[new ce(246,121,48,1),new ce(246,244,157,1),new ce(223,233,86,1)],u=[0,.4,1],h=new he(0,100,u,d),f=new he(0,100,u,c);i=e.createLinearGradient(.05*t,0,.875*t,0),i.addColorStop(0,h.getColorAt(o/100).getRgbColor()),i.addColorStop(.5,f.getColorAt(o/100).getRgbColor()),i.addColorStop(1,h.getColorAt(o/100).getRgbColor()),e.fillStyle=i,e.fill(),e.beginPath(),e.rect(.025*t,.025*t,.875*t,.444444*r),e.closePath(),i=e.createLinearGradient(.025*t,.025*t,.875*t,.444444*r),i.addColorStop(0,"rgba(255, 255, 255, 0)"),i.addColorStop(1,"rgba(255, 255, 255, 0.8)"),e.fillStyle=i,e.fill()};return this.setValue=function(e){return e=0>e?0:e>100?100:e,o!==e&&(o=e,this.repaint()),this},this.getValue=function(){return o},this.repaint=function(){i.clearRect(0,0,i.canvas.width,i.canvas.height),l(i,n,a,o)},this.repaint(),this},B=function(e,t){t=t||{};var o,i,n,l,s,d,c,u,h,f,p,g,v,b,m,w,_,k,P=void 0===t.size?0:t.size,E=void 0===t.frameDesign?r.FrameDesign.METAL:t.frameDesign,R=void 0===t.frameVisible?!0:t.frameVisible,F=void 0===t.pointerColor?r.ColorDef.BLACK:t.pointerColor,A=void 0===t.backgroundColor?r.BackgroundColor.LIGHT_GRAY:t.backgroundColor,D=void 0===t.backgroundVisible?!0:t.backgroundVisible,L=void 0===t.foregroundType?r.ForegroundType.TYPE1:t.foregroundType,M=void 0===t.foregroundVisible?!0:t.foregroundVisible,j=void 0===t.customLayer?null:t.customLayer,I=0,V=0,O=6,z=this,G=0,B=0,N=0,H=0,U=0,Y=!1,W=!1,K=C(e),J=!1,Q=function(e,t,r,o,i,n,a){var l,s,d,c,u,h=o*t,f=h+"px "+x,p=.15*t,g=.5,v=1,b=1.5,C=i*t,m=Math.round(.025*t),S=Math.round(.035*t),w=Math.round(.045*t),_=A.labelColor.getRgbaColor(),k=A.labelColor.getRgbaColor(),P=t/2,E=.4*t,R=0,F=0,D=0,L=0,M=0,j=-T,I=y/r;for(e.width=e.height=t,e.save(),e.textAlign="center",e.textBaseline="middle",e.font=f,u=j,c=0;r+1>=c;u-=.1*I,c+=.1)e.lineWidth=g,L=Math.sin(u),M=Math.cos(u),R%2===0&&(l=[P+(E-m)*L+n,P+(E-m)*M+a],s=[P+E*L+n,P+E*M+a],e.strokeStyle=k,e.beginPath(),e.moveTo(l[0],l[1]),e.lineTo(s[0],s[1]),e.closePath(),e.stroke()),(10===R||0===R)&&(e.fillStyle=_,e.lineWidth=v,s=[P+E*L+n,P+E*M+a],d=[P+(E-C)*L+n,P+(E-C)*M+a],5===F?(c!==r&&60!==Math.round(c)&&e.fillText(Math.round(c),d[0],d[1],p),e.lineWidth=b,l=[P+(E-w)*L+n,P+(E-w)*M+a],F=0):(e.lineWidth=v,l=[P+(E-S)*L+n,P+(E-S)*M+a]),e.strokeStyle=k,e.beginPath(),e.moveTo(l[0],l[1]),e.lineTo(s[0],s[1]),e.closePath(),e.stroke(),R=0,D++,F++),R++;e.restore()},ee=function(e){var t,r;e.save(),e.beginPath(),e.moveTo(.509345*i,.457943*i),e.lineTo(.5*i,.102803*i),e.lineTo(.490654*i,.457943*i),e.bezierCurveTo(.490654*i,.457943*i,.490654*i,.457943*i,.490654*i,.457943*i),e.bezierCurveTo(.471962*i,.462616*i,.457943*i,.481308*i,.457943*i,.5*i),e.bezierCurveTo(.457943*i,.518691*i,.471962*i,.537383*i,.490654*i,.542056*i),e.bezierCurveTo(.490654*i,.542056*i,.490654*i,.542056*i,.490654*i,.542056*i),e.lineTo(.490654*i,.621495*i),e.lineTo(.509345*i,.621495*i),e.lineTo(.509345*i,.542056*i),e.bezierCurveTo(.509345*i,.542056*i,.509345*i,.542056*i,.509345*i,.542056*i),e.bezierCurveTo(.528037*i,.537383*i,.542056*i,.518691*i,.542056*i,.5*i),e.bezierCurveTo(.542056*i,.481308*i,.528037*i,.462616*i,.509345*i,.457943*i),e.bezierCurveTo(.509345*i,.457943*i,.509345*i,.457943*i,.509345*i,.457943*i),e.closePath(),t=e.createLinearGradient(0,0,0,.621495*i),t.addColorStop(0,F.medium.getRgbaColor()),t.addColorStop(.388888,F.medium.getRgbaColor()),t.addColorStop(.5,F.light.getRgbaColor()),t.addColorStop(.611111,F.medium.getRgbaColor()),t.addColorStop(1,F.medium.getRgbaColor()),e.fillStyle=t,e.strokeStyle=F.dark.getRgbaColor(),e.fill(),e.stroke(),e.beginPath(),r=.06542*i/2,e.arc(l,s,r,0,y),t=e.createLinearGradient(l-r,l+r,0,l+r),t.addColorStop(0,"#e6b35c"),t.addColorStop(.01,"#e6b35c"),t.addColorStop(.99,"#c48200"),t.addColorStop(1,"#c48200"),e.fillStyle=t,e.closePath(),e.fill(),e.beginPath(),r=.046728*i/2,e.arc(l,s,r,0,y),t=e.createRadialGradient(l,l,0,l,l,r),t.addColorStop(0,"#c5c5c5"),t.addColorStop(.19,"#c5c5c5"),t.addColorStop(.22,"#000000"),t.addColorStop(.8,"#000000"),t.addColorStop(.99,"#707070"),t.addColorStop(1,"#707070"),e.fillStyle=t,e.closePath(),e.fill(),e.restore()},te=function(e){var t,r;e.save(),e.beginPath(),e.moveTo(.476635*i,.313084*i),e.bezierCurveTo(.476635*i,.322429*i,.485981*i,.331775*i,.495327*i,.336448*i),e.bezierCurveTo(.495327*i,.336448*i,.495327*i,.350467*i,.495327*i,.350467*i),e.lineTo(.504672*i,.350467*i),e.bezierCurveTo(.504672*i,.350467*i,.504672*i,.336448*i,.504672*i,.336448*i),e.bezierCurveTo(.514018*i,.331775*i,.523364*i,.322429*i,.523364*i,.313084*i),e.bezierCurveTo(.523364*i,.303738*i,.514018*i,.294392*i,.504672*i,.289719*i),e.bezierCurveTo(.504672*i,.289719*i,.5*i,.200934*i,.5*i,.200934*i),e.bezierCurveTo(.5*i,.200934*i,.495327*i,.289719*i,.495327*i,.289719*i),e.bezierCurveTo(.485981*i,.294392*i,.476635*i,.303738*i,.476635*i,.313084*i),e.closePath(),t=e.createLinearGradient(0,0,i,0),t.addColorStop(0,F.medium.getRgbaColor()),t.addColorStop(.388888,F.medium.getRgbaColor()),t.addColorStop(.5,F.light.getRgbaColor()),t.addColorStop(.611111,F.medium.getRgbaColor()),t.addColorStop(1,F.medium.getRgbaColor()),e.fillStyle=t,e.strokeStyle=F.dark.getRgbaColor(),e.fill(),e.stroke(),e.beginPath(),r=.037383*i/2,e.arc(l,u+d/2,r,0,y),e.fillStyle="#C48200",e.closePath(),e.fill(),e.beginPath(),r=.028037*i/2,e.arc(l,u+d/2,r,0,y),e.fillStyle="#999999",e.closePath(),e.fill(),e.beginPath(),r=.018691*i/2,e.arc(l,u+d/2,r,0,y),e.fillStyle="#000000",e.closePath(),e.fill(),e.restore()},re=function(){B=(new Date).getTime()-G,V=B*O/1e3,I=V%10800/30,N=B/6e4%30,H=B/1e3%60,U=B%1e3},oe=function(e){e=e||{};var t=void 0===e.frame?!1:e.frame,r=void 0===e.background?!1:e.background,o=void 0===e.pointers?!1:e.pointers,a=void 0===e.foreground?!1:e.foreground;J=!0,t&&R&&q(f,E,l,s,i,n),r&&D&&(X(g,A,l,s,i,n),$(g,j,l,s,i,n),Q(g,i,60,.075,.1,0,0),Q(g,d,30,.095,.13,c,u)),o&&(ee(w),te(b)),a&&M&&Z(k,L,i,n,!1)},ie=function(e){e=e||{};var t=void 0===e.frame?!1:e.frame,r=void 0===e.background?!1:e.background,o=void 0===e.pointers?!1:e.pointers,i=void 0===e.foreground?!1:e.foreground;t&&(h.width=P,h.height=P,f=h.getContext("2d")),r&&(p.width=P,p.height=P,g=p.getContext("2d")),o&&(v.width=P,v.height=P,b=v.getContext("2d"),m.width=P,m.height=P,w=m.getContext("2d")),i&&(_.width=P,_.height=P,k=_.getContext("2d"))},ne=function(){W||(re(),z.repaint()),Y&&(o=setTimeout(ne,200))};return this.isRunning=function(){return Y},this.start=function(){return Y||(Y=!0,G=(new Date).getTime()-B,ne()),this},this.stop=function(){return Y&&(Y=!1,clearTimeout(o)),W&&(W=!1,re(),this.repaint()),this},this.reset=function(){return Y&&(Y=!1,W=!1,clearTimeout(o)),G=(new Date).getTime(),re(),this.repaint(),this},this.lap=function(){return Y&&!W?W=!0:W&&(W=!1),this},this.getMeasuredTime=function(){return N+":"+H+":"+U},this.setFrameDesign=function(e){return ie({
frame:!0}),E=e,oe({frame:!0}),this.repaint(),this},this.setBackgroundColor=function(e){return ie({background:!0}),A=e,oe({background:!0}),this.repaint(),this},this.setForegroundType=function(e){return ie({foreground:!0}),L=e,oe({foreground:!0}),this.repaint(),this},this.setPointerColor=function(e){return ie({pointers:!0}),F=e,oe({pointers:!0}),this.repaint(),this},this.repaint=function(){J||oe({frame:!0,background:!0,pointers:!0,foreground:!0}),K.clearRect(0,0,i,n),R&&K.drawImage(h,0,0),D&&K.drawImage(p,0,0);var e=.006*i,t=(I+2*Math.sin(I*S))*S,r=(V+2*Math.sin(V*S))*S;K.save(),K.translate(l,u+d/2),K.rotate(t),K.translate(-l,-(u+d/2)),K.shadowColor="rgba(0, 0, 0, 0.8)",K.shadowOffsetX=K.shadowOffsetY=e/2,K.shadowBlur=e,K.drawImage(v,0,0),K.restore(),K.save(),K.translate(l,s),K.rotate(r),K.translate(-l,-s),K.shadowColor="rgba(0, 0, 0, 0.8)",K.shadowOffsetX=K.shadowOffsetY=e/2,K.shadowBlur=e,K.drawImage(m,0,0),K.restore(),M&&K.drawImage(_,0,0)},P=0===P?Math.min(K.canvas.width,K.canvas.height):P,K.canvas.width=P,K.canvas.height=P,i=P,n=P,l=i/2,s=n/2,d=.285*i,c=l-d/2,u=.17*i,h=a(P,P),f=h.getContext("2d"),p=a(P,P),g=p.getContext("2d"),v=a(P,P),b=v.getContext("2d"),m=a(P,P),w=m.getContext("2d"),_=a(P,P),k=_.getContext("2d"),G=(new Date).getTime(),ne(),this},N=function(e,t){function o(){n=y/(j-M),l=n/10,s=l/10}function i(){V=I%1e3/100,O=I%1e4/100,z=I%1e5/100}t=t||{};var n,l,s,d,c,u,h,f,p,g,v=void 0===t.size?0:t.size,b=void 0===t.frameDesign?r.FrameDesign.METAL:t.frameDesign,m=void 0===t.frameVisible?!0:t.frameVisible,S=void 0===t.backgroundColor?r.BackgroundColor.DARK_GRAY:t.backgroundColor,w=void 0===t.backgroundVisible?!0:t.backgroundVisible,_=void 0===t.knobType?r.KnobType.METAL_KNOB:t.knobType,P=void 0===t.knobStyle?r.KnobStyle.BLACK:t.knobStyle,E=void 0===t.lcdColor?r.LcdColor.BLACK:t.lcdColor,R=void 0===t.lcdVisible?!0:t.lcdVisible,F=void 0===t.digitalFont?!1:t.digitalFont,A=void 0===t.foregroundType?r.ForegroundType.TYPE1:t.foregroundType,D=void 0===t.foregroundVisible?!0:t.foregroundVisible,L=void 0===t.customLayer?null:t.customLayer,M=0,j=10,I=M,V=0,O=0,z=0,G=1,B=!1,N=C(e),H=T,U=!1,Y=a(v,v),W=Y.getContext("2d"),K=a(v,v),J=K.getContext("2d"),Q=a(v,v),ee=Q.getContext("2d"),te=a(v,v),re=te.getContext("2d"),ie=a(v,v),ne=ie.getContext("2d"),ae=a(v,v),le=ae.getContext("2d");N.save(),v=0===v?Math.min(N.canvas.width,N.canvas.height):v,N.canvas.width=v,N.canvas.height=v,c=v,u=v,h=c/2,f=u/2,p=Math.floor(.09*c)+"px "+x;var se=function(e){N.save(),N.textAlign="right",N.textBaseline="middle",N.strokeStyle=E.textColor,N.fillStyle=E.textColor,(E===r.LcdColor.STANDARD||E===r.LcdColor.STANDARD_GREEN)&&(N.shadowColor="gray",N.shadowOffsetX=.007*c,N.shadowOffsetY=.007*c,N.shadowBlur=.009*c),F?N.font=Math.floor(.075*c)+"px "+k:N.font=Math.floor(.075*c)+"px "+x,N.fillText(Math.round(e),(c+.4*c)/2-4,.607*c,.4*c),N.restore()},de=function(e,t,r,o,i,n){var a,l,s=Math.max(.012*c,2),d=Math.max(.007*c,1.5),u=.13*c,g=.05*c,v=.07*c,b=.4*c,C=0,m=0,y=0,T=0,w=-r-t/2;for(e.save(),e.textAlign="center",e.textBaseline="middle",e.font=p,e.strokeStyle=S.labelColor.getRgbaColor(),e.fillStyle=S.labelColor.getRgbaColor(),a=w,l=0;10>=l;a-=.1*n,l+=.1)y=Math.sin(a),T=Math.cos(a),C%2===0&&(e.lineWidth=d,e.beginPath(),e.moveTo(h+(b-g)*y,f+(b-g)*T),e.lineTo(h+b*y,f+b*T),e.closePath(),e.stroke()),(10===C||0===C)&&(e.lineWidth=s,0===t&&Math.round(l)!==j&&e.fillText(Math.round(l).toString(),h+(b-u)*y,f+(b-u)*T),C=0,m++,e.beginPath(),e.moveTo(h+(b-v)*y,f+(b-v)*T),e.lineTo(h+b*y,f+b*T),e.closePath(),e.stroke()),C++;e.restore()},ce=function(e,t){var r;t?(e.fillStyle="rgba(0, 0, 0, 0.5)",e.strokeStyle="rgba(0, 0, 0, 0.5)"):(r=e.createLinearGradient(0,.168224*u,0,.626168*u),r.addColorStop(0,"#ffffff"),r.addColorStop(.31,"#ffffff"),r.addColorStop(.3101,"#ffffff"),r.addColorStop(.32,"#202020"),r.addColorStop(1,"#202020"),e.fillStyle=r),e.save(),e.beginPath(),e.moveTo(.518691*c,.471962*u),e.bezierCurveTo(.514018*c,.471962*u,.509345*c,.467289*u,.509345*c,.467289*u),e.lineTo(.509345*c,.200934*u),e.lineTo(.5*c,.168224*u),e.lineTo(.490654*c,.200934*u),e.lineTo(.490654*c,.467289*u),e.bezierCurveTo(.490654*c,.467289*u,.481308*c,.471962*u,.481308*c,.471962*u),e.bezierCurveTo(.471962*c,.481308*u,.467289*c,.490654*u,.467289*c,.5*u),e.bezierCurveTo(.467289*c,.514018*u,.476635*c,.528037*u,.490654*c,.53271*u),e.bezierCurveTo(.490654*c,.53271*u,.490654*c,.579439*u,.490654*c,.588785*u),e.bezierCurveTo(.485981*c,.593457*u,.481308*c,.59813*u,.481308*c,.607476*u),e.bezierCurveTo(.481308*c,.616822*u,.490654*c,.626168*u,.5*c,.626168*u),e.bezierCurveTo(.509345*c,.626168*u,.518691*c,.616822*u,.518691*c,.607476*u),e.bezierCurveTo(.518691*c,.59813*u,.514018*c,.593457*u,.504672*c,.588785*u),e.bezierCurveTo(.504672*c,.579439*u,.504672*c,.53271*u,.509345*c,.53271*u),e.bezierCurveTo(.523364*c,.528037*u,.53271*c,.514018*u,.53271*c,.5*u),e.bezierCurveTo(.53271*c,.490654*u,.528037*c,.481308*u,.518691*c,.471962*u),e.closePath(),e.fill(),e.restore()},ue=function(e){var t;t=e.createLinearGradient(0,.401869*u,0,.616822*u),t.addColorStop(0,"#ffffff"),t.addColorStop(.51,"#ffffff"),t.addColorStop(.52,"#ffffff"),t.addColorStop(.5201,"#202020"),t.addColorStop(.53,"#202020"),t.addColorStop(1,"#202020"),e.fillStyle=t,e.beginPath(),e.moveTo(.518691*c,.471962*u),e.bezierCurveTo(.514018*c,.462616*u,.528037*c,.401869*u,.528037*c,.401869*u),e.lineTo(.5*c,.331775*u),e.lineTo(.471962*c,.401869*u),e.bezierCurveTo(.471962*c,.401869*u,.485981*c,.462616*u,.481308*c,.471962*u),e.bezierCurveTo(.471962*c,.481308*u,.467289*c,.490654*u,.467289*c,.5*u),e.bezierCurveTo(.467289*c,.514018*u,.476635*c,.528037*u,.490654*c,.53271*u),e.bezierCurveTo(.490654*c,.53271*u,.462616*c,.574766*u,.462616*c,.593457*u),e.bezierCurveTo(.467289*c,.616822*u,.5*c,.612149*u,.5*c,.612149*u),e.bezierCurveTo(.5*c,.612149*u,.53271*c,.616822*u,.537383*c,.593457*u),e.bezierCurveTo(.537383*c,.574766*u,.509345*c,.53271*u,.509345*c,.53271*u),e.bezierCurveTo(.523364*c,.528037*u,.53271*c,.514018*u,.53271*c,.5*u),e.bezierCurveTo(.53271*c,.490654*u,.528037*c,.481308*u,.518691*c,.471962*u),e.closePath(),e.fill(),e.restore()},he=function(e){e.fillStyle="#ffffff",e.beginPath(),e.moveTo(.518691*c,.471962*u),e.bezierCurveTo(.514018*c,.471962*u,.514018*c,.467289*u,.514018*c,.467289*u),e.lineTo(.514018*c,.317757*u),e.lineTo(.504672*c,.303738*u),e.lineTo(.504672*c,.182242*u),e.lineTo(.53271*c,.116822*u),e.lineTo(.462616*c,.116822*u),e.lineTo(.495327*c,.182242*u),e.lineTo(.495327*c,.299065*u),e.lineTo(.485981*c,.317757*u),e.lineTo(.485981*c,.467289*u),e.bezierCurveTo(.485981*c,.467289*u,.485981*c,.471962*u,.481308*c,.471962*u),e.bezierCurveTo(.471962*c,.481308*u,.467289*c,.490654*u,.467289*c,.5*u),e.bezierCurveTo(.467289*c,.518691*u,.481308*c,.53271*u,.5*c,.53271*u),e.bezierCurveTo(.518691*c,.53271*u,.53271*c,.518691*u,.53271*c,.5*u),e.bezierCurveTo(.53271*c,.490654*u,.528037*c,.481308*u,.518691*c,.471962*u),e.closePath(),e.fill()},fe=function(e){e=e||{};var t=void 0===e.frame?!1:e.frame,r=void 0===e.background?!1:e.background,i=void 0===e.pointers?!1:e.pointers,a=void 0===e.foreground?!1:e.foreground;U=!0,o(),t&&m&&q(W,b,h,f,c,u),r&&w&&(X(J,S,h,f,c,u),$(J,L,h,f,c,u),de(J,0,H,0,10,n,G,0,!0,!0,null)),r&&R&&(g=oe(.4*c,.09*u,E),J.drawImage(g,(c-.4*c)/2,.56*u)),i&&(ce(ne,!1),ue(re,!1),he(ee,!1)),a&&D&&Z(le,A,c,u,!0,_,P)},ge=function(e){e=e||{};var t=void 0===e.frame?!1:e.frame,r=void 0===e.background?!1:e.background,o=void 0===e.pointers?!1:e.pointers,i=void 0===e.foreground?!1:e.foreground;t&&(Y.width=v,Y.height=v,W=Y.getContext("2d")),r&&(K.width=v,K.height=v,J=K.getContext("2d")),o&&(ie.width=v,ie.height=v,ne=ie.getContext("2d"),te.width=v,te.height=v,re=te.getContext("2d"),Q.width=v,Q.height=v,ee=Q.getContext("2d")),i&&(ae.width=v,ae.height=v,le=ae.getContext("2d"))};return this.setValue=function(e){I=parseFloat(e),this.repaint()},this.getValue=function(){return I},this.setValueAnimated=function(e,t){e=parseFloat(e);var r,o=M>e?M:e,i=this;return I!==o&&(void 0!==d&&d.isPlaying&&d.stop(),r=Math.max(Math.abs(I-o)/1e4*5,1),d=new Tween({},"",Tween.regularEaseInOut,I,o,r),d.onMotionChanged=function(e){I=e.target._pos,B||(B=!0,pe(i.repaint))},t&&"function"==typeof t&&(d.onMotionFinished=t),d.start()),this},this.setFrameDesign=function(e){return ge({frame:!0}),b=e,fe({frame:!0}),this.repaint(),this},this.setBackgroundColor=function(e){return ge({background:!0,pointer:!0}),S=e,fe({background:!0,pointer:!0}),this.repaint(),this},this.setForegroundType=function(e){return ge({foreground:!0}),A=e,fe({foreground:!0}),this.repaint(),this},this.setLcdColor=function(e){return E=e,ge({background:!0}),fe({background:!0}),this.repaint(),this},this.repaint=function(){U||fe({frame:!0,background:!0,led:!0,pointers:!0,foreground:!0}),N.clearRect(0,0,N.canvas.width,N.canvas.height),m&&N.drawImage(Y,0,0),N.drawImage(K,0,0),R&&se(I),i();var e=.006*c*.5;N.save(),N.translate(h,f),N.rotate((z-M)*s),N.translate(-h,-f),N.shadowColor="rgba(0, 0, 0, 0.8)",N.shadowOffsetX=N.shadowOffsetY=e,N.shadowBlur=2*e,N.drawImage(Q,0,0),e=.006*c*.75,N.shadowOffsetX=N.shadowOffsetY=e,N.translate(h,f),N.rotate((O-M)*l-(z-M)*s),N.translate(-h,-f),N.drawImage(te,0,0),e=.006*c,N.shadowOffsetX=N.shadowOffsetY=e,N.translate(h,f),N.rotate((V-M)*n-(O-M)*l),N.translate(-h,-f),N.drawImage(ie,0,0),N.restore(),D&&N.drawImage(ae,0,0),B=!1},this.repaint(),this},H=function(e,t){function r(e,t,r){var o=_.createElement("canvas");return o.width=e,o.height=t,r(o.getContext("2d")),o}t=t||{};var o,i,n,a=void 0===t.width?0:t.width,l=void 0===t.height?0:t.height,s=C(e),d=!1,c=!1,u=!1,h=!1,f=_.createElement("canvas"),p=f.getContext("2d"),g=_.createElement("canvas"),v=g.getContext("2d"),b=_.createElement("canvas"),m=b.getContext("2d"),T=_.createElement("canvas"),S=T.getContext("2d"),w=_.createElement("canvas"),k=w.getContext("2d"),x=_.createElement("canvas"),P=x.getContext("2d"),E=_.createElement("canvas"),R=E.getContext("2d"),F=_.createElement("canvas"),A=F.getContext("2d"),D=_.createElement("canvas"),L=D.getContext("2d"),M=_.createElement("canvas"),j=M.getContext("2d");0===a&&(a=s.canvas.width),0===l&&(l=s.canvas.height),s.canvas.width=a,s.canvas.height=l,o=.352517*l>a?2.836734*a:l,i=.352517*o,n=o,f.width=i,f.height=n,g.width=i,g.height=n,b.width=i,b.height=n,T.width=i,T.height=n,w.width=i,w.height=n,x.width=i,x.height=n,E.width=i,E.height=n,F.width=i,F.height=n,D.width=i,D.height=n,M.width=i,M.height=n;var I=function(e){var t,r;e.save(),e.save(),e.beginPath(),e.moveTo(.107142*i,0),e.lineTo(i-.107142*i,0),e.quadraticCurveTo(i,0,i,.107142*i),e.lineTo(i,n-.107142*i),e.quadraticCurveTo(i,n,i-.107142*i,n),e.lineTo(.107142*i,n),e.quadraticCurveTo(0,n,0,n-.107142*i),e.lineTo(0,.107142*i),e.quadraticCurveTo(0,0,.107142*i,n),e.closePath(),t=e.createLinearGradient(.040816*i,.007194*n,.952101*i,.995882*n),t.addColorStop(0,"rgb(152, 152, 154)"),t.addColorStop(.01,"rgb(152, 152, 154)"),t.addColorStop(.09,"#333333"),t.addColorStop(.24,"rgb(152, 152, 154)"),t.addColorStop(.55,"rgb(31, 31, 31)"),t.addColorStop(.78,"#363636"),t.addColorStop(.98,"#000000"),t.addColorStop(1,"#000000"),e.fillStyle=t,e.fill(),e.restore(),e.save(),e.beginPath(),e.moveTo(.030612*i+.084183*i,.010791*n),e.lineTo(.030612*i+.938775*i-.084183*i,.010791*n),e.quadraticCurveTo(.030612*i+.938775*i,.010791*n,.030612*i+.938775*i,.010791*n+.084183*i),e.lineTo(.030612*i+.938775*i,.010791*n+.978417*n-.084183*i),e.quadraticCurveTo(.030612*i+.938775*i,.010791*n+.978417*n,.030612*i+.938775*i-.084183*i,.010791*n+.978417*n),e.lineTo(.030612*i+.084183*i,.010791*n+.978417*n),e.quadraticCurveTo(.030612*i,.010791*n+.978417*n,.030612*i,.010791*n+.978417*n-.084183*i),e.lineTo(.030612*i,.010791*n+.084183*i),e.quadraticCurveTo(.030612*i,.010791*n,.030612*i+.084183*i,.010791*n),e.closePath(),r=e.createLinearGradient(-.132653*i,-.053956*n,2.061408*i,.667293*n),r.addColorStop(0,"#000000"),r.addColorStop(.01,"#000000"),r.addColorStop(.16,"#373735"),r.addColorStop(.31,"#000000"),r.addColorStop(.44,"#303030"),r.addColorStop(.65,"#000000"),r.addColorStop(.87,"#363636"),r.addColorStop(.98,"#000000"),r.addColorStop(1,"#000000"),e.fillStyle=r,e.fill(),e.restore(),e.restore()},V=function(e){var t,r,o,a;e.save(),e.save(),e.scale(1,1),e.beginPath(),e.arc(.5*i,.805755*n,.397959*i,0,y,!1),t=e.createLinearGradient(0,.665467*n,0,.946043*n),t.addColorStop(0,"#ffffff"),t.addColorStop(.05,"rgb(204, 204, 204)"),t.addColorStop(.1,"rgb(153, 153, 153)"),t.addColorStop(.17,"#666666"),t.addColorStop(.27,"#333333"),t.addColorStop(1,"#010101"),e.fillStyle=t,e.fill(),e.restore(),e.save(),e.scale(1.083333,1),e.beginPath(),e.arc(.461538*i,.816546*n,.367346*i,0,y,!1),r=e.createLinearGradient(0,.68705*n,0,.946043*n),r.addColorStop(0,"#000000"),r.addColorStop(.35,"#040404"),r.addColorStop(.66,"#000000"),r.addColorStop(1,"#010101"),e.fillStyle=r,e.fill(),e.restore(),e.save(),e.scale(1,1),e.beginPath(),e.arc(.5*i,.809352*n,.357142*i,0,y,!1),o=e.createRadialGradient(.5*i,.809352*n,0,.5*i,.809352*n,.362244*i),o.addColorStop(0,"#000000"),o.addColorStop(.88,"#000000"),o.addColorStop(.95,"rgb(94, 94, 94)"),o.addColorStop(1,"#010101"),e.fillStyle=o,e.fill(),e.restore(),e.save(),e.scale(1,1),e.beginPath(),e.arc(.5*i,.809352*n,.357142*i,0,y,!1),a=e.createLinearGradient(0,.68705*n,0,.917266*n),a.addColorStop(0,"#000000"),a.addColorStop(1,"rgba(1, 1, 1, 0)"),e.fillStyle=a,e.fill(),e.restore(),e.restore()},O=function(e){var t,r;e.save(),e.save(),e.scale(1,1),e.beginPath(),e.arc(.5*i,.809352*n,.32653*i,0,y,!1),t=e.createRadialGradient(.5*i,.809352*n,0,.5*i,.809352*n,.32653*i),t.addColorStop(0,"rgb(85, 185, 123)"),t.addColorStop(1,"rgb(0, 31, 0)"),e.fillStyle=t,e.fill(),e.restore(),e.save(),e.beginPath(),e.moveTo(0,.812949*n),e.bezierCurveTo(0,.910071*n,.224489*i,.989208*n,.5*i,.989208*n),e.bezierCurveTo(.77551*i,.989208*n,i,.910071*n,i,.809352*n),e.bezierCurveTo(.908163*i,.751798*n,.704081*i,.68705*n,.5*i,.68705*n),e.bezierCurveTo(.285714*i,.68705*n,.081632*i,.751798*n,0,.812949*n),e.closePath(),r=e.createRadialGradient(.5*i,.809352*n,0,.5*i,.809352*n,.515306*i),r.addColorStop(0,"rgb(65, 187, 126)"),r.addColorStop(1,"rgba(4, 37, 8, 0)"),e.fillStyle=r,e.fill(),e.restore(),e.restore()},z=function(e){var t,r;e.save(),e.save(),e.scale(1,1),e.beginPath(),e.arc(.5*i,.809352*n,.32653*i,0,y,!1),t=e.createRadialGradient(.5*i,.809352*n,0,.5*i,.809352*n,.32653*i),t.addColorStop(0,"rgba(0, 255, 0, 0.25)"),t.addColorStop(1,"rgba(0, 255, 0, 0.05)"),e.fillStyle=t,e.fill(),e.restore(),e.save(),e.scale(1,1),e.beginPath(),e.arc(.5*i,.809352*n,.32653*i,0,y,!1),r=e.createRadialGradient(.5*i,.809352*n,0,.5*i,.809352*n,.32653*i),r.addColorStop(0,"rgba(1, 1, 1, 0)"),r.addColorStop(.55,"rgba(0, 0, 0, 0)"),r.addColorStop(.5501,"rgba(0, 0, 0, 0)"),r.addColorStop(.78,"rgba(0, 0, 0, 0.12)"),r.addColorStop(.79,"rgba(0, 0, 0, 0.12)"),r.addColorStop(1,"rgba(0, 0, 0, 0.5)"),e.fillStyle=r,e.fill(),e.restore(),e.fillStyle=e.createPattern(W,"repeat"),e.fill(),e.restore()},G=function(e){var t,r,o,a;e.save(),e.save(),e.scale(1,1),e.beginPath(),e.arc(.5*i,.496402*n,.397959*i,0,y,!1),t=e.createLinearGradient(0,.356115*n,0,.63669*n),t.addColorStop(0,"#ffffff"),t.addColorStop(.05,"rgb(204, 204, 204)"),t.addColorStop(.1,"rgb(153, 153, 153)"),t.addColorStop(.17,"#666666"),t.addColorStop(.27,"#333333"),t.addColorStop(1,"#010101"),e.fillStyle=t,e.fill(),e.restore(),e.save(),e.scale(1.083333,1),e.beginPath(),e.arc(.461538*i,.507194*n,.367346*i,0,y,!1),r=e.createLinearGradient(0,.377697*n,0,.63669*n),r.addColorStop(0,"#000000"),r.addColorStop(.35,"#040404"),r.addColorStop(.66,"#000000"),r.addColorStop(1,"#010101"),e.fillStyle=r,e.fill(),e.restore(),e.save(),e.scale(1,1),e.beginPath(),e.arc(.5*i,.5*n,.357142*i,0,y,!1),o=e.createRadialGradient(.5*i,.5*n,0,.5*i,.5*n,.362244*i),o.addColorStop(0,"#000000"),o.addColorStop(.88,"#000000"),o.addColorStop(.95,"#5e5e5e"),o.addColorStop(1,"#010101"),e.fillStyle=o,e.fill(),e.restore(),e.save(),e.scale(1,1),e.beginPath(),e.arc(.5*i,.5*n,.357142*i,0,y,!1),a=e.createLinearGradient(0,.377697*n,0,.607913*n),a.addColorStop(0,"#000000"),a.addColorStop(1,"rgba(1, 1, 1, 0)"),e.fillStyle=a,e.fill(),e.restore(),e.restore()},B=function(e){var t,r;e.save(),e.save(),e.scale(1,1),e.beginPath(),e.arc(.5*i,.5*n,.32653*i,0,y,!1),t=e.createRadialGradient(.5*i,.5*n,0,.5*i,.5*n,.32653*i),t.addColorStop(0,"#fed434"),t.addColorStop(1,"#82330c"),e.fillStyle=t,e.fill(),e.restore(),e.save(),e.beginPath(),e.moveTo(0,.503597*n),e.bezierCurveTo(0,.600719*n,.224489*i,.679856*n,.5*i,.679856*n),e.bezierCurveTo(.77551*i,.679856*n,i,.600719*n,i,.5*n),e.bezierCurveTo(.908163*i,.442446*n,.704081*i,.377697*n,.5*i,.377697*n),e.bezierCurveTo(.285714*i,.377697*n,.081632*i,.442446*n,0,.503597*n),e.closePath(),r=e.createRadialGradient(.5*i,.5*n,0,.5*i,.5*n,.515306*i),r.addColorStop(0,"#fed434"),r.addColorStop(1,"rgba(130, 51, 12, 0)"),e.fillStyle=r,e.fill(),e.restore(),e.restore()},N=function(e){var t,r;e.save(),e.save(),e.scale(1,1),e.beginPath(),e.arc(.5*i,.5*n,.32653*i,0,y,!1),t=e.createRadialGradient(.5*i,.5*n,0,.5*i,.5*n,.32653*i),t.addColorStop(0,"rgba(255, 255, 0, 0.25)"),t.addColorStop(1,"rgba(255, 255, 0, 0.05)"),e.fillStyle=t,e.fill(),e.restore(),e.save(),e.scale(1,1),e.beginPath(),e.arc(.5*i,.5*n,.32653*i,0,y,!1),r=e.createRadialGradient(.5*i,.5*n,0,.5*i,.5*n,.32653*i),r.addColorStop(0,"rgba(1, 1, 1, 0)"),r.addColorStop(.55,"rgba(0, 0, 0, 0)"),r.addColorStop(.5501,"rgba(0, 0, 0, 0)"),r.addColorStop(.78,"rgba(0, 0, 0, 0.12)"),r.addColorStop(.79,"rgba(0, 0, 0, 0.13)"),r.addColorStop(1,"rgba(0, 0, 0, 0.5)"),e.fillStyle=r,e.fill(),e.restore(),e.fillStyle=e.createPattern(W,"repeat"),e.fill(),e.restore()},H=function(e){var t,r,o,a;e.save(),e.save(),e.scale(1,1),e.beginPath(),e.arc(.5*i,.18705*n,.397959*i,0,y,!1),t=e.createLinearGradient(.5*i,.046762*n,.5*i,.327338*n),t.addColorStop(0,"#ffffff"),t.addColorStop(.05,"#cccccc"),t.addColorStop(.1,"#999999"),t.addColorStop(.17,"#666666"),t.addColorStop(.27,"#333333"),t.addColorStop(1,"#010101"),e.fillStyle=t,e.fill(),e.restore(),e.save(),e.scale(1.083333,1),e.beginPath(),e.arc(.461538*i,.197841*n,.367346*i,0,y,!1),r=e.createLinearGradient(.5*i,.068345*n,.5*i,.327338*n),r.addColorStop(0,"#000000"),r.addColorStop(.35,"#040404"),r.addColorStop(.66,"#000000"),r.addColorStop(1,"#010101"),e.fillStyle=r,e.fill(),e.restore(),e.save(),e.scale(1,1),e.beginPath(),e.arc(.5*i,.190647*n,.357142*i,0,y,!1),o=e.createRadialGradient(.5*i,.190647*n,0,.5*i,.190647*n,.362244*i),o.addColorStop(0,"#000000"),o.addColorStop(.88,"#000000"),o.addColorStop(.95,"#5e5e5e"),o.addColorStop(1,"#010101"),e.fillStyle=o,e.fill(),e.restore(),e.save(),e.scale(1,1),e.beginPath(),e.arc(.5*i,.190647*n,.357142*i,0,y,!1),a=e.createLinearGradient(.5*i,.068345*n,.5*i,.298561*n),a.addColorStop(0,"#000000"),a.addColorStop(1,"rgba(1, 1, 1, 0)"),e.fillStyle=a,e.fill(),e.restore(),e.restore()},U=function(e){var t,r;e.save(),e.save(),e.scale(1,1),e.beginPath(),e.arc(.5*i,.190647*n,.32653*i,0,y,!1),t=e.createRadialGradient(.5*i,.190647*n,0,.5*i,.190647*n,.32653*i),t.addColorStop(0,"#ff0000"),t.addColorStop(1,"#410004"),e.fillStyle=t,e.fill(),e.restore(),e.save(),e.beginPath(),e.moveTo(0,.194244*n),e.bezierCurveTo(0,.291366*n,.224489*i,.370503*n,.5*i,.370503*n),e.bezierCurveTo(.77551*i,.370503*n,i,.291366*n,i,.190647*n),e.bezierCurveTo(.908163*i,.133093*n,.704081*i,.068345*n,.5*i,.068345*n),e.bezierCurveTo(.285714*i,.068345*n,.081632*i,.133093*n,0,.194244*n),e.closePath(),r=e.createRadialGradient(.5*i,.190647*n,0,.5*i,.190647*n,.515306*i),r.addColorStop(0,"#ff0000"),r.addColorStop(1,"rgba(118, 5, 1, 0)"),e.fillStyle=r,e.fill(),e.restore(),e.restore()},Y=function(e){var t,r;e.save(),e.save(),e.scale(1,1),e.beginPath(),e.arc(.5*i,.190647*n,.32653*i,0,y,!1),t=e.createRadialGradient(.5*i,.190647*n,0,.5*i,.190647*n,.32653*i),t.addColorStop(0,"rgba(255, 0, 0, 0.25)"),t.addColorStop(1,"rgba(255, 0, 0, 0.05)"),e.fillStyle=t,e.fill(),e.restore(),e.save(),e.scale(1,1),e.beginPath(),e.arc(.5*i,.190647*n,.32653*i,0,y,!1),r=e.createRadialGradient(.5*i,.190647*n,0,.5*i,.190647*n,.32653*i),r.addColorStop(0,"rgba(1, 1, 1, 0)"),r.addColorStop(.55,"rgba(0, 0, 0, 0)"),r.addColorStop(.5501,"rgba(0, 0, 0, 0)"),r.addColorStop(.78,"rgba(0, 0, 0, 0.12)"),r.addColorStop(.79,"rgba(0, 0, 0, 0.13)"),r.addColorStop(1,"rgba(0, 0, 0, 0.5)"),e.fillStyle=r,e.fill(),e.restore(),e.fillStyle=e.createPattern(W,"repeat"),e.fill(),e.restore()},W=r(2,2,function(e){e.save(),e.strokeStyle="rgba(0, 0, 0, 0.1)",e.beginPath(),e.lineTo(0,0,1,0),e.lineTo(0,1,0,1),e.stroke(),e.restore()}),K=function(){h=!0,I(p),V(v),O(m),z(S),G(k),B(P),N(R),H(A),U(L),Y(j)};return this.setRedOn=function(e){d=!!e,this.repaint()},this.isRedOn=function(){return d},this.setYellowOn=function(e){c=!!e,this.repaint()},this.isYellowOn=function(){return c},this.setGreenOn=function(e){u=!!e,this.repaint()},this.isGreenOn=function(){return u},this.repaint=function(){h||K(),s.save(),s.clearRect(0,0,s.canvas.width,s.canvas.height),s.drawImage(f,0,0),s.drawImage(g,0,0),u&&s.drawImage(b,0,0),s.drawImage(T,0,0),s.drawImage(w,0,0),c&&s.drawImage(x,0,0),s.drawImage(E,0,0),s.drawImage(F,0,0),d&&s.drawImage(D,0,0),s.drawImage(M,0,0),s.restore()},this.repaint(),this},U=function(e,t){function r(e,t,r){var o=_.createElement("canvas");return o.width=e,o.height=t,r(o.getContext("2d")),o}t=t||{};var o,i,n,a,l=void 0===t.width?0:t.width,s=void 0===t.height?0:t.height,d=void 0===t.glowColor?"#ffff00":t.glowColor,u=!1,h=!1,f=1,p=_.createElement("canvas"),g=p.getContext("2d"),v=_.createElement("canvas"),b=v.getContext("2d"),C=_.createElement("canvas"),m=C.getContext("2d");o=document.getElementById(e).getContext("2d"),0===l&&(l=o.canvas.width),0===s&&(s=o.canvas.height),o.canvas.width=l,o.canvas.height=s,i=s>l?l:s,n=i,a=i;var y=function(e){var t,o=r(1,1,function(t){t.fillStyle=e,t.beginPath(),t.rect(0,0,1,1),t.fill()});return t=o.getContext("2d").getImageData(0,0,2,2).data,[t[0],t[1],t[2]]};p.width=n,p.height=a,v.width=n,v.height=a,C.width=n,C.height=a;var T=function(e){var t;e.save(),e.clearRect(0,0,e.canvas.width,e.canvas.height),e.save(),e.beginPath(),e.moveTo(.289473*n,.438596*a),e.bezierCurveTo(.289473*n,.561403*a,.385964*n,.605263*a,.385964*n,.745614*a),e.bezierCurveTo(.385964*n,.745614*a,.587719*n,.745614*a,.587719*n,.745614*a),e.bezierCurveTo(.587719*n,.605263*a,.692982*n,.561403*a,.692982*n,.438596*a),e.bezierCurveTo(.692982*n,.324561*a,.605263*n,.22807*a,.5*n,.22807*a),e.bezierCurveTo(.385964*n,.22807*a,.289473*n,.324561*a,.289473*n,.438596*a),e.closePath(),t=e.createLinearGradient(0,.289473*a,0,.701754*a),t.addColorStop(0,"#eeeeee"),t.addColorStop(.99,"#999999"),t.addColorStop(1,"#999999"),e.fillStyle=t,e.fill(),e.lineCap="butt",e.lineJoin="round",e.lineWidth=.008771*n,e.strokeStyle="#cccccc",e.stroke(),e.restore(),e.restore()},S=function(e){var t,r=y(d),o=r[0],i=r[1],l=r[2],s=c(o,i,l);e.save(),e.clearRect(0,0,e.canvas.width,e.canvas.height),e.save(),e.beginPath(),e.moveTo(.289473*n,.438596*a),e.bezierCurveTo(.289473*n,.561403*a,.385964*n,.605263*a,.385964*n,.745614*a),e.bezierCurveTo(.385964*n,.745614*a,.587719*n,.745614*a,.587719*n,.745614*a),e.bezierCurveTo(.587719*n,.605263*a,.692982*n,.561403*a,.692982*n,.438596*a),e.bezierCurveTo(.692982*n,.324561*a,.605263*n,.22807*a,.5*n,.22807*a),e.bezierCurveTo(.385964*n,.22807*a,.289473*n,.324561*a,.289473*n,.438596*a),e.closePath(),t=e.createLinearGradient(0,.289473*a,0,.701754*a),o===i&&i===l?(t.addColorStop(0,"hsl(0, 60%, 0%)"),t.addColorStop(1,"hsl(0, 40%, 0%)")):(t.addColorStop(0,"hsl("+255*s[0]+", "+100*s[1]+"%, 70%)"),t.addColorStop(1,"hsl("+255*s[0]+", "+100*s[1]+"%, 80%)")),e.fillStyle=t,e.shadowOffsetX=0,e.shadowOffsetY=0,e.shadowBlur=30,e.shadowColor=d,e.fill(),e.lineCap="butt",e.lineJoin="round",e.lineWidth=.008771*n,e.strokeStyle="rgba("+o+", "+i+", "+l+", 0.4)",e.stroke(),e.restore(),e.restore()},w=function(e){var t,r,o,i;e.save(),e.clearRect(0,0,e.canvas.width,e.canvas.height),e.save(),e.beginPath(),e.moveTo(.350877*n,.333333*a),e.bezierCurveTo(.350877*n,.280701*a,.41228*n,.236842*a,.5*n,.236842*a),e.bezierCurveTo(.578947*n,.236842*a,.64035*n,.280701*a,.64035*n,.333333*a),e.bezierCurveTo(.64035*n,.385964*a,.578947*n,.429824*a,.5*n,.429824*a),e.bezierCurveTo(.41228*n,.429824*a,.350877*n,.385964*a,.350877*n,.333333*a),e.closePath(),t=e.createLinearGradient(0,.245614*a,0,.429824*a),t.addColorStop(0,"#ffffff"),t.addColorStop(.99,"rgba(255, 255, 255, 0)"),t.addColorStop(1,"rgba(255, 255, 255, 0)"),e.fillStyle=t,e.fill(),e.restore(),e.save(),e.beginPath(),e.moveTo(.377192*n,.745614*a),e.bezierCurveTo(.377192*n,.745614*a,.429824*n,.72807*a,.491228*n,.72807*a),e.bezierCurveTo(.561403*n,.72807*a,.605263*n,.736842*a,.605263*n,.736842*a),e.lineTo(.605263*n,.763157*a),e.lineTo(.596491*n,.780701*a),e.lineTo(.605263*n,.798245*a),e.lineTo(.596491*n,.815789*a),e.lineTo(.605263*n,.833333*a),e.lineTo(.596491*n,.850877*a),e.lineTo(.605263*n,.868421*a),e.lineTo(.596491*n,.885964*a),e.lineTo(.605263*n,.894736*a),e.bezierCurveTo(.605263*n,.894736*a,.570175*n,.95614*a,.535087*n,.991228*a),e.bezierCurveTo(.526315*n,.991228*a,.517543*n,a,.5*n,a),e.bezierCurveTo(.482456*n,a,.473684*n,a,.464912*n,.991228*a),e.bezierCurveTo(.421052*n,.947368*a,.394736*n,.903508*a,.394736*n,.903508*a),e.lineTo(.394736*n,.894736*a),e.lineTo(.385964*n,.885964*a),e.lineTo(.394736*n,.868421*a),e.lineTo(.385964*n,.850877*a),e.lineTo(.394736*n,.833333*a),e.lineTo(.385964*n,.815789*a),e.lineTo(.394736*n,.798245*a),e.lineTo(.377192*n,.789473*a),e.lineTo(.394736*n,.771929*a),e.lineTo(.377192*n,.763157*a),e.lineTo(.377192*n,.745614*a),e.closePath(),r=e.createLinearGradient(.473684*n,.72807*a,.484702*n,.938307*a),r.addColorStop(0,"#333333"),r.addColorStop(.04,"#d9dad6"),r.addColorStop(.19,"#e4e5e0"),r.addColorStop(.24,"#979996"),r.addColorStop(.31,"#fbffff"),r.addColorStop(.4,"#818584"),r.addColorStop(.48,"#f5f7f4"),r.addColorStop(.56,"#959794"),r.addColorStop(.64,"#f2f2f0"),r.addColorStop(.7,"#828783"),r.addColorStop(.78,"#fcfcfc"),r.addColorStop(1,"#666666"),e.fillStyle=r,e.fill(),e.restore(),e.save(),e.beginPath(),e.moveTo(.377192*n,.745614*a),e.bezierCurveTo(.377192*n,.745614*a,.429824*n,.72807*a,.491228*n,.72807*a),e.bezierCurveTo(.561403*n,.72807*a,.605263*n,.736842*a,.605263*n,.736842*a),e.lineTo(.605263*n,.763157*a),e.lineTo(.596491*n,.780701*a),e.lineTo(.605263*n,.798245*a),e.lineTo(.596491*n,.815789*a),e.lineTo(.605263*n,.833333*a),e.lineTo(.596491*n,.850877*a),e.lineTo(.605263*n,.868421*a),e.lineTo(.596491*n,.885964*a),e.lineTo(.605263*n,.894736*a),e.bezierCurveTo(.605263*n,.894736*a,.570175*n,.95614*a,.535087*n,.991228*a),e.bezierCurveTo(.526315*n,.991228*a,.517543*n,a,.5*n,a),e.bezierCurveTo(.482456*n,a,.473684*n,a,.464912*n,.991228*a),e.bezierCurveTo(.421052*n,.947368*a,.394736*n,.903508*a,.394736*n,.903508*a),e.lineTo(.394736*n,.894736*a),e.lineTo(.385964*n,.885964*a),e.lineTo(.394736*n,.868421*a),e.lineTo(.385964*n,.850877*a),e.lineTo(.394736*n,.833333*a),e.lineTo(.385964*n,.815789*a),e.lineTo(.394736*n,.798245*a),e.lineTo(.377192*n,.789473*a),e.lineTo(.394736*n,.771929*a),e.lineTo(.377192*n,.763157*a),e.lineTo(.377192*n,.745614*a),e.closePath(),o=e.createLinearGradient(.377192*n,.789473*a,.605263*n,.789473*a),o.addColorStop(0,"rgba(0, 0, 0, 0.4)"),o.addColorStop(.15,"rgba(0, 0, 0, 0.32)"),o.addColorStop(.85,"rgba(0, 0, 0, 0.33)"),o.addColorStop(1,"rgba(0, 0, 0, 0.4)"),e.fillStyle=o,e.fill(),e.restore(),e.save(),e.beginPath(),e.moveTo(.421052*n,.947368*a),e.bezierCurveTo(.438596*n,.95614*a,.447368*n,.973684*a,.464912*n,.991228*a),e.bezierCurveTo(.473684*n,a,.482456*n,a,.5*n,a),e.bezierCurveTo(.517543*n,a,.526315*n,.991228*a,.535087*n,.991228*a),e.bezierCurveTo(.543859*n,.982456*a,.561403*n,.95614*a,.578947*n,.947368*a),e.bezierCurveTo(.552631*n,.938596*a,.526315*n,.938596*a,.5*n,.938596*a),e.bezierCurveTo(.473684*n,.938596*a,.447368*n,.938596*a,.421052*n,.947368*a),e.closePath(),i=e.createLinearGradient(0,.938596*a,0,a),i.addColorStop(0,"#050a06"),i.addColorStop(.61,"#070602"),i.addColorStop(.71,"#999288"),i.addColorStop(.83,"#010101"),i.addColorStop(1,"#000000"),e.fillStyle=i,e.fill(),e.restore(),e.restore()},k=function(e){e.save(),e.setTransform(1,0,0,1,0,0),e.clearRect(0,0,e.canvas.width,e.canvas.height),e.restore()},x=function(){u=!0,T(g),S(b),w(m)};return this.setOn=function(e){return h=!!e,this.repaint(),this},this.isOn=function(){return h},this.setAlpha=function(e){return f=e,this.repaint(),this},this.getAlpha=function(){return f},this.setGlowColor=function(e){return d=e,x(),this.repaint(),this},this.getGlowColor=function(){return d},this.repaint=function(){u||x(),k(o),o.save(),o.drawImage(p,0,0),o.globalAlpha=f,h&&o.drawImage(v,0,0),o.globalAlpha=1,o.drawImage(C,0,0),o.restore()},this.repaint(),this},Y=function(e,t){function r(){var e,t;for(M=!0,b.rect(0,0,c,_),e=b.createLinearGradient(0,0,0,_),e.addColorStop(0,"rgba(0, 0, 0, 1)"),e.addColorStop(.1,"rgba(0, 0, 0, 0.4)"),e.addColorStop(.33,"rgba(255, 255, 255, 0.45)"),e.addColorStop(.46,"rgba(255, 255, 255, 0)"),e.addColorStop(.9,"rgba(0, 0, 0, 0.4)"),e.addColorStop(1,"rgba(0, 0, 0, 1)"),b.fillStyle=e,b.fill(),y.rect(0,0,s,1.1*u),y.fillStyle=A,y.fill(),y.strokeStyle="#f0f0f0",y.lineWidth="1px",y.moveTo(0,0),y.lineTo(0,1.1*u),y.stroke(),y.strokeStyle="#202020",y.moveTo(s,0),y.lineTo(s,1.1*u),y.stroke(),y.textAlign="center",y.textBaseline="middle",y.font=d,y.fillStyle=D,t=9;21>t;t++)y.fillText(t%10,.5*s,h*(t-9)+h/2);if(x>0)for(S.rect(0,0,s,1.1*u),S.fillStyle=P,S.fill(),S.strokeStyle="#f0f0f0",S.lineWidth="1px",S.moveTo(0,0),S.lineTo(0,1.1*u),S.stroke(),S.strokeStyle="#202020",S.moveTo(s,0),S.lineTo(s,1.1*u),S.stroke(),S.textAlign="center",S.textBaseline="middle",S.font=d,S.fillStyle=E,t=9;21>t;t++)S.fillText(t%10,.5*s,h*(t-9)+h/2);for(t=0;k+x>t;t++)I[t]=Math.random()*L*_-L*_/2}function o(){var e,t,r,o,i,n=1,a=F;for(e=0;x>e;e++)a*=10;for(r=Math.floor(a),o=a-r,r=String(r),i=9,e=0;x+k>e;e++)t=+r.substring(r.length-e-1,r.length-e)||0,9!==i&&(o=0),x>e?g.drawImage(T,c-s*n,-(h*(t+o)+f+I[e])):g.drawImage(m,c-s*n,-(h*(t+o)+f+I[e])),n++,i=t}t=t||{};var i,n,l,s,d,c,u,h,f,p,g,v,b,m,y,T,S,w=void 0===t._context?null:t._context,_=void 0===t.height?0:t.height,k=void 0===t.digits?6:t.digits,x=void 0===t.decimals?1:t.decimals,P=void 0===t.decimalBackColor?"#F0F0F0":t.decimalBackColor,E=void 0===t.decimalForeColor?"#F01010":t.decimalForeColor,R=void 0===t.font?"sans-serif":t.font,F=void 0===t.value?0:t.value,A=void 0===t.valueBackColor?"#050505":t.valueBackColor,D=void 0===t.valueForeColor?"#F8F8F8":t.valueForeColor,L=void 0===t.wobbleFactor?.07:t.wobbleFactor,M=!1,j=!1,I=[];n=w?w:C(e),0===_&&(_=n.canvas.height),0>F&&(F=0),l=Math.floor(.85*_),d="600 "+l+"px "+R,s=Math.floor(.68*_),c=s*(k+x),u=11*l,h=u/12,f=.81*h,n.canvas.width=c,n.canvas.height=_,p=a(c,_),g=p.getContext("2d"),v=a(c,_),b=v.getContext("2d"),m=a(s,1.1*u),y=m.getContext("2d"),T=a(s,1.1*u),S=T.getContext("2d"),this.setValueAnimated=function(e,t){var r=this;return e=parseFloat(e),0>e&&(e=0),F!==e&&(void 0!==i&&i.isPlaying&&i.stop(),i=new Tween({},"",Tween.strongEaseOut,F,e,2),i.onMotionChanged=function(e){F=e.target._pos,j||(j=!0,pe(r.repaint))},t&&"function"==typeof t&&(i.onMotionFinished=t),i.start()),this.repaint(),this},this.setValue=function(e){return F=parseFloat(e),0>F&&(F=0),this.repaint(),this},this.getValue=function(){return F},this.repaint=function(){M||r(),o(),g.drawImage(v,0,0),n.drawImage(p,0,0),j=!1},this.repaint()},W=function(e,t,r,o,i,n){var a,l,s=!0,d=n.symbolColor.getRgbaColor();for(e.save(),e.lineWidth=1,e.fillStyle=d,e.strokeStyle=d,e.translate(t,r),a=0;360>a;a+=15)s=!s,e.beginPath(),e.arc(0,0,.26*o,a*S,(a+15)*S,!1),e.arc(0,0,.23*o,(a+15)*S,a*S,!0),e.closePath(),s&&e.fill(),e.stroke();for(e.translate(-t,-r),a=0;360>=a;a+=90)e.beginPath(),e.moveTo(.560747*o,.584112*i),e.lineTo(.640186*o,.644859*i),e.lineTo(.584112*o,.560747*i),e.lineTo(.560747*o,.584112*i),e.closePath(),e.fillStyle=d,e.fill(),e.stroke(),e.beginPath(),e.moveTo(.523364*o,.397196*i),e.lineTo(.5*o,.196261*i),e.lineTo(.471962*o,.397196*i),e.lineTo(.523364*o,.397196*i),e.closePath(),l=e.createLinearGradient(.476635*o,0,.518691*o,0),l.addColorStop(0,"rgb(222, 223, 218)"),
l.addColorStop(.48,"rgb(222, 223, 218)"),l.addColorStop(.49,d),l.addColorStop(1,d),e.fillStyle=l,e.fill(),e.stroke(),e.translate(t,r),e.rotate(a*S),e.translate(-t,-r);e.beginPath(),e.translate(t,r),e.arc(0,0,.1*o,0,y,!1),e.lineWidth=.022*o,e.stroke(),e.translate(-t,-r),e.restore()},K=function(e,t,r,o,i){var n,l,s,d,c=t.toString()+r.type+o.light.getHexColor()+o.medium.getHexColor();if(!K.cache[c]){switch(n=a(t,t),l=n.getContext("2d"),r.type){case"type2":s=l.createLinearGradient(0,.471962*t,0,.130841*t),s.addColorStop(0,i.getRgbaColor()),s.addColorStop(.36,i.getRgbaColor()),s.addColorStop(.361,o.light.getRgbaColor()),s.addColorStop(1,o.light.getRgbaColor()),l.fillStyle=s,l.beginPath(),l.moveTo(.518691*t,.471962*t),l.lineTo(.509345*t,.462616*t),l.lineTo(.509345*t,.341121*t),l.lineTo(.504672*t,.130841*t),l.lineTo(.495327*t,.130841*t),l.lineTo(.490654*t,.341121*t),l.lineTo(.490654*t,.462616*t),l.lineTo(.481308*t,.471962*t),l.closePath(),l.fill();break;case"type3":l.beginPath(),l.rect(.495327*t,.130841*t,.009345*t,.373831*t),l.closePath(),l.fillStyle=o.light.getRgbaColor(),l.fill();break;case"type4":s=l.createLinearGradient(.467289*t,0,.528036*t,0),s.addColorStop(0,o.dark.getRgbaColor()),s.addColorStop(.51,o.dark.getRgbaColor()),s.addColorStop(.52,o.light.getRgbaColor()),s.addColorStop(1,o.light.getRgbaColor()),l.fillStyle=s,l.beginPath(),l.moveTo(.5*t,.126168*t),l.lineTo(.514018*t,.135514*t),l.lineTo(.53271*t,.5*t),l.lineTo(.523364*t,.602803*t),l.lineTo(.476635*t,.602803*t),l.lineTo(.467289*t,.5*t),l.lineTo(.485981*t,.135514*t),l.lineTo(.5*t,.126168*t),l.closePath(),l.fill();break;case"type5":s=l.createLinearGradient(.471962*t,0,.528036*t,0),s.addColorStop(0,o.light.getRgbaColor()),s.addColorStop(.5,o.light.getRgbaColor()),s.addColorStop(.5,o.medium.getRgbaColor()),s.addColorStop(1,o.medium.getRgbaColor()),l.fillStyle=s,l.beginPath(),l.moveTo(.5*t,.495327*t),l.lineTo(.528037*t,.495327*t),l.lineTo(.5*t,.149532*t),l.lineTo(.471962*t,.495327*t),l.lineTo(.5*t,.495327*t),l.closePath(),l.fill(),l.lineWidth=1,l.lineCap="square",l.lineJoin="miter",l.strokeStyle=o.dark.getRgbaColor(),l.stroke();break;case"type6":l.fillStyle=o.medium.getRgbaColor(),l.beginPath(),l.moveTo(.481308*t,.485981*t),l.lineTo(.481308*t,.392523*t),l.lineTo(.485981*t,.317757*t),l.lineTo(.495327*t,.130841*t),l.lineTo(.504672*t,.130841*t),l.lineTo(.514018*t,.317757*t),l.lineTo(.518691*t,.38785*t),l.lineTo(.518691*t,.485981*t),l.lineTo(.504672*t,.485981*t),l.lineTo(.504672*t,.38785*t),l.lineTo(.5*t,.317757*t),l.lineTo(.495327*t,.392523*t),l.lineTo(.495327*t,.485981*t),l.lineTo(.481308*t,.485981*t),l.closePath(),l.fill();break;case"type7":s=l.createLinearGradient(.481308*t,0,.518691*t,0),s.addColorStop(0,o.dark.getRgbaColor()),s.addColorStop(1,o.medium.getRgbaColor()),l.fillStyle=s,l.beginPath(),l.moveTo(.490654*t,.130841*t),l.lineTo(.481308*t,.5*t),l.lineTo(.518691*t,.5*t),l.lineTo(.504672*t,.130841*t),l.lineTo(.490654*t,.130841*t),l.closePath(),l.fill();break;case"type8":s=l.createLinearGradient(.471962*t,0,.528036*t,0),s.addColorStop(0,o.light.getRgbaColor()),s.addColorStop(.5,o.light.getRgbaColor()),s.addColorStop(.5,o.medium.getRgbaColor()),s.addColorStop(1,o.medium.getRgbaColor()),l.fillStyle=s,l.strokeStyle=o.dark.getRgbaColor(),l.beginPath(),l.moveTo(.5*t,.53271*t),l.lineTo(.53271*t,.5*t),l.bezierCurveTo(.53271*t,.5*t,.509345*t,.457943*t,.5*t,.149532*t),l.bezierCurveTo(.490654*t,.457943*t,.467289*t,.5*t,.467289*t,.5*t),l.lineTo(.5*t,.53271*t),l.closePath(),l.fill(),l.stroke();break;case"type9":s=l.createLinearGradient(.471962*t,0,.528036*t,0),s.addColorStop(0,"rgb(50, 50, 50)"),s.addColorStop(.5,"#666666"),s.addColorStop(1,"rgb(50, 50, 50)"),l.fillStyle=s,l.strokeStyle="#2E2E2E",l.beginPath(),l.moveTo(.495327*t,.233644*t),l.lineTo(.504672*t,.233644*t),l.lineTo(.514018*t,.439252*t),l.lineTo(.485981*t,.439252*t),l.lineTo(.495327*t,.233644*t),l.closePath(),l.moveTo(.490654*t,.130841*t),l.lineTo(.471962*t,.471962*t),l.lineTo(.471962*t,.528037*t),l.bezierCurveTo(.471962*t,.528037*t,.476635*t,.602803*t,.476635*t,.602803*t),l.bezierCurveTo(.476635*t,.607476*t,.481308*t,.607476*t,.5*t,.607476*t),l.bezierCurveTo(.518691*t,.607476*t,.523364*t,.607476*t,.523364*t,.602803*t),l.bezierCurveTo(.523364*t,.602803*t,.528037*t,.528037*t,.528037*t,.528037*t),l.lineTo(.528037*t,.471962*t),l.lineTo(.509345*t,.130841*t),l.lineTo(.490654*t,.130841*t),l.closePath(),l.fill(),l.beginPath(),l.moveTo(.495327*t,.219626*t),l.lineTo(.504672*t,.219626*t),l.lineTo(.504672*t,.135514*t),l.lineTo(.495327*t,.135514*t),l.lineTo(.495327*t,.219626*t),l.closePath(),l.fillStyle=o.medium.getRgbaColor(),l.fill();break;case"type10":l.beginPath(),l.moveTo(.5*t,.149532*t),l.bezierCurveTo(.5*t,.149532*t,.443925*t,.490654*t,.443925*t,.5*t),l.bezierCurveTo(.443925*t,.53271*t,.467289*t,.556074*t,.5*t,.556074*t),l.bezierCurveTo(.53271*t,.556074*t,.556074*t,.53271*t,.556074*t,.5*t),l.bezierCurveTo(.556074*t,.490654*t,.5*t,.149532*t,.5*t,.149532*t),l.closePath(),s=l.createLinearGradient(.471962*t,0,.528036*t,0),s.addColorStop(0,o.light.getRgbaColor()),s.addColorStop(.5,o.light.getRgbaColor()),s.addColorStop(.5,o.medium.getRgbaColor()),s.addColorStop(1,o.medium.getRgbaColor()),l.fillStyle=s,l.strokeStyle=o.medium.getRgbaColor(),l.lineWidth=1,l.lineCap="square",l.lineJoin="miter",l.fill(),l.stroke();break;case"type11":l.beginPath(),l.moveTo(.5*t,.168224*t),l.lineTo(.485981*t,.5*t),l.bezierCurveTo(.485981*t,.5*t,.481308*t,.584112*t,.5*t,.584112*t),l.bezierCurveTo(.514018*t,.584112*t,.509345*t,.5*t,.509345*t,.5*t),l.lineTo(.5*t,.168224*t),l.closePath(),s=l.createLinearGradient(0,.168224*t,0,.584112*t),s.addColorStop(0,o.medium.getRgbaColor()),s.addColorStop(1,o.dark.getRgbaColor()),l.fillStyle=s,l.strokeStyle=o.dark.getRgbaColor(),l.fill(),l.stroke();break;case"type12":l.beginPath(),l.moveTo(.5*t,.168224*t),l.lineTo(.485981*t,.5*t),l.lineTo(.5*t,.504672*t),l.lineTo(.509345*t,.5*t),l.lineTo(.5*t,.168224*t),l.closePath(),s=l.createLinearGradient(0,.168224*t,0,.504672*t),s.addColorStop(0,o.medium.getRgbaColor()),s.addColorStop(1,o.dark.getRgbaColor()),l.fillStyle=s,l.strokeStyle=o.dark.getRgbaColor(),l.fill(),l.stroke();break;case"type13":case"type14":l.beginPath(),l.moveTo(.485981*t,.168224*t),l.lineTo(.5*t,.130841*t),l.lineTo(.509345*t,.168224*t),l.lineTo(.509345*t,.509345*t),l.lineTo(.485981*t,.509345*t),l.lineTo(.485981*t,.168224*t),l.closePath(),"type13"===r.type?(s=l.createLinearGradient(0,.5*t,0,.130841*t),s.addColorStop(0,i.getRgbaColor()),s.addColorStop(.85,i.getRgbaColor()),s.addColorStop(.85,o.medium.getRgbaColor()),s.addColorStop(1,o.medium.getRgbaColor()),l.fillStyle=s):(s=l.createLinearGradient(.485981*t,0,.509345*t,0),s.addColorStop(0,o.veryDark.getRgbaColor()),s.addColorStop(.5,o.light.getRgbaColor()),s.addColorStop(1,o.veryDark.getRgbaColor()),l.fillStyle=s),l.fill();break;case"type15":case"type16":l.beginPath(),l.moveTo(.509345*t,.457943*t),l.lineTo(.5015*t,.13*t),l.lineTo(.4985*t,.13*t),l.lineTo(.490654*t,.457943*t),l.bezierCurveTo(.490654*t,.457943*t,.490654*t,.457943*t,.490654*t,.457943*t),l.bezierCurveTo(.471962*t,.462616*t,.457943*t,.481308*t,.457943*t,.5*t),l.bezierCurveTo(.457943*t,.518691*t,.471962*t,.537383*t,.490654*t,.542056*t),l.bezierCurveTo(.490654*t,.542056*t,.490654*t,.542056*t,.490654*t,.542056*t),"type15"===r.type?(l.lineTo(.490654*t,.57*t),l.bezierCurveTo(.46*t,.58*t,.46*t,.62*t,.490654*t,.63*t),l.bezierCurveTo(.47*t,.62*t,.48*t,.59*t,.5*t,.59*t),l.bezierCurveTo(.53*t,.59*t,.52*t,.62*t,.509345*t,.63*t),l.bezierCurveTo(.54*t,.62*t,.54*t,.58*t,.509345*t,.57*t),l.lineTo(.509345*t,.57*t)):(l.lineTo(.490654*t,.621495*t),l.lineTo(.509345*t,.621495*t)),l.lineTo(.509345*t,.542056*t),l.bezierCurveTo(.509345*t,.542056*t,.509345*t,.542056*t,.509345*t,.542056*t),l.bezierCurveTo(.528037*t,.537383*t,.542056*t,.518691*t,.542056*t,.5*t),l.bezierCurveTo(.542056*t,.481308*t,.528037*t,.462616*t,.509345*t,.457943*t),l.bezierCurveTo(.509345*t,.457943*t,.509345*t,.457943*t,.509345*t,.457943*t),l.closePath(),s="type15"===r.type?l.createLinearGradient(0,0,0,.63*t):l.createLinearGradient(0,0,0,.621495*t),s.addColorStop(0,o.medium.getRgbaColor()),s.addColorStop(.388888,o.medium.getRgbaColor()),s.addColorStop(.5,o.light.getRgbaColor()),s.addColorStop(.611111,o.medium.getRgbaColor()),s.addColorStop(1,o.medium.getRgbaColor()),l.fillStyle=s,l.strokeStyle=o.dark.getRgbaColor(),l.fill(),l.stroke(),l.beginPath(),d=.06542*t/2,l.arc(.5*t,.5*t,d,0,y),s=l.createLinearGradient(.5*t-d,.5*t+d,0,.5*t+d),s.addColorStop(0,"#e6b35c"),s.addColorStop(.01,"#e6b35c"),s.addColorStop(.99,"#c48200"),s.addColorStop(1,"#c48200"),l.fillStyle=s,l.closePath(),l.fill(),l.beginPath(),d=.046728*t/2,l.arc(.5*t,.5*t,d,0,y),s=l.createRadialGradient(.5*t,.5*t,0,.5*t,.5*t,d),s.addColorStop(0,"#c5c5c5"),s.addColorStop(.19,"#c5c5c5"),s.addColorStop(.22,"#000000"),s.addColorStop(.8,"#000000"),s.addColorStop(.99,"#707070"),s.addColorStop(1,"#707070"),l.fillStyle=s,l.closePath(),l.fill();break;case"type1":default:s=l.createLinearGradient(0,.471962*t,0,.130841*t),s.addColorStop(0,o.veryDark.getRgbaColor()),s.addColorStop(.3,o.medium.getRgbaColor()),s.addColorStop(.59,o.medium.getRgbaColor()),s.addColorStop(1,o.veryDark.getRgbaColor()),l.fillStyle=s,l.beginPath(),l.moveTo(.518691*t,.471962*t),l.bezierCurveTo(.514018*t,.457943*t,.509345*t,.415887*t,.509345*t,.401869*t),l.bezierCurveTo(.504672*t,.383177*t,.5*t,.130841*t,.5*t,.130841*t),l.bezierCurveTo(.5*t,.130841*t,.490654*t,.383177*t,.490654*t,.397196*t),l.bezierCurveTo(.490654*t,.415887*t,.485981*t,.457943*t,.481308*t,.471962*t),l.bezierCurveTo(.471962*t,.481308*t,.467289*t,.490654*t,.467289*t,.5*t),l.bezierCurveTo(.467289*t,.518691*t,.481308*t,.53271*t,.5*t,.53271*t),l.bezierCurveTo(.518691*t,.53271*t,.53271*t,.518691*t,.53271*t,.5*t),l.bezierCurveTo(.53271*t,.490654*t,.528037*t,.481308*t,.518691*t,.471962*t),l.closePath(),l.fill()}K.cache[c]=n}return e.drawImage(K.cache[c],0,0),this};K.cache={};var q=function(e,t,r,o,i,n){var l,s,d,c,u,h,f,p=i.toString()+n+t.design;if(!q.cache[p]){switch(l=a(i,n),s=l.getContext("2d"),s.fillStyle="#848484",s.strokeStyle="rgba(132, 132, 132, 0.5)",s.beginPath(),s.arc(r,o,i/2,0,y,!0),s.closePath(),s.fill(),s.stroke(),s.beginPath(),s.arc(r,o,.990654*i/2,0,y,!0),s.closePath(),t.design){case"metal":d=s.createLinearGradient(0,.004672*i,0,.990654*n),d.addColorStop(0,"#fefefe"),d.addColorStop(.07,"rgb(210, 210, 210)"),d.addColorStop(.12,"rgb(179, 179, 179)"),d.addColorStop(1,"rgb(213, 213, 213)"),s.fillStyle=d,s.fill();break;case"brass":d=s.createLinearGradient(0,.004672*i,0,.990654*n),d.addColorStop(0,"rgb(249, 243, 155)"),d.addColorStop(.05,"rgb(246, 226, 101)"),d.addColorStop(.1,"rgb(240, 225, 132)"),d.addColorStop(.5,"rgb(90, 57, 22)"),d.addColorStop(.9,"rgb(249, 237, 139)"),d.addColorStop(.95,"rgb(243, 226, 108)"),d.addColorStop(1,"rgb(202, 182, 113)"),s.fillStyle=d,s.fill();break;case"steel":d=s.createLinearGradient(0,.004672*i,0,.990654*n),d.addColorStop(0,"rgb(231, 237, 237)"),d.addColorStop(.05,"rgb(189, 199, 198)"),d.addColorStop(.1,"rgb(192, 201, 200)"),d.addColorStop(.5,"rgb(23, 31, 33)"),d.addColorStop(.9,"rgb(196, 205, 204)"),d.addColorStop(.95,"rgb(194, 204, 203)"),d.addColorStop(1,"rgb(189, 201, 199)"),s.fillStyle=d,s.fill();break;case"gold":d=s.createLinearGradient(0,.004672*i,0,.990654*n),d.addColorStop(0,"rgb(255, 255, 207)"),d.addColorStop(.15,"rgb(255, 237, 96)"),d.addColorStop(.22,"rgb(254, 199, 57)"),d.addColorStop(.3,"rgb(255, 249, 203)"),d.addColorStop(.38,"rgb(255, 199, 64)"),d.addColorStop(.44,"rgb(252, 194, 60)"),d.addColorStop(.51,"rgb(255, 204, 59)"),d.addColorStop(.6,"rgb(213, 134, 29)"),d.addColorStop(.68,"rgb(255, 201, 56)"),d.addColorStop(.75,"rgb(212, 135, 29)"),d.addColorStop(1,"rgb(247, 238, 101)"),s.fillStyle=d,s.fill();break;case"anthracite":d=s.createLinearGradient(0,.004672*n,0,.995326*n),d.addColorStop(0,"rgb(118, 117, 135)"),d.addColorStop(.06,"rgb(74, 74, 82)"),d.addColorStop(.12,"rgb(50, 50, 54)"),d.addColorStop(1,"rgb(79, 79, 87)"),s.fillStyle=d,s.fill();break;case"tiltedGray":d=s.createLinearGradient(.233644*i,.084112*n,.81258*i,.910919*n),d.addColorStop(0,"#ffffff"),d.addColorStop(.07,"rgb(210, 210, 210)"),d.addColorStop(.16,"rgb(179, 179, 179)"),d.addColorStop(.33,"#ffffff"),d.addColorStop(.55,"#c5c5c5"),d.addColorStop(.79,"#ffffff"),d.addColorStop(1,"#666666"),s.fillStyle=d,s.fill();break;case"tiltedBlack":d=s.createLinearGradient(.228971*i,.079439*n,.802547*i,.898591*n),d.addColorStop(0,"#666666"),d.addColorStop(.21,"#000000"),d.addColorStop(.47,"#666666"),d.addColorStop(.99,"#000000"),d.addColorStop(1,"#000000"),s.fillStyle=d,s.fill();break;case"glossyMetal":d=s.createRadialGradient(.5*i,.5*n,0,.5*i,.5*i,.5*i),d.addColorStop(0,"rgb(207, 207, 207)"),d.addColorStop(.96,"rgb(205, 204, 205)"),d.addColorStop(1,"rgb(244, 244, 244)"),s.fillStyle=d,s.fill(),s.beginPath(),s.arc(.5*i,.5*n,.973962*i/2,0,y),s.closePath(),d=s.createLinearGradient(0,n-.971962*n,0,.971962*n),d.addColorStop(0,"rgb(249, 249, 249)"),d.addColorStop(.23,"rgb(200, 195, 191)"),d.addColorStop(.36,"#ffffff"),d.addColorStop(.59,"rgb(29, 29, 29)"),d.addColorStop(.76,"rgb(200, 194, 192)"),d.addColorStop(1,"rgb(209, 209, 209)"),s.fillStyle=d,s.fill(),s.beginPath(),s.arc(.5*i,.5*n,.869158*i/2,0,y),s.closePath(),s.fillStyle="#f6f6f6",s.fill(),s.beginPath(),s.arc(.5*i,.5*n,.85*i/2,0,y),s.closePath(),s.fillStyle="#333333",s.fill();break;case"blackMetal":h=[0,.125,.347222,.5,.680555,.875,1],f=[new ce(254,254,254,1),new ce(0,0,0,1),new ce(153,153,153,1),new ce(0,0,0,1),new ce(153,153,153,1),new ce(0,0,0,1),new ce(254,254,254,1)],s.save(),s.arc(r,o,.990654*i/2,0,y,!0),s.clip(),c=.495327*i,u=.42056*i,d=new ue(h,f),d.fillCircle(s,r,o,u,c),s.strokeStyle="#848484",s.strokeStyle="rgba(132, 132, 132, 0.8)",s.beginPath(),s.lineWidth=i/90,s.arc(r,o,i/2,0,y,!0),s.closePath(),s.stroke(),s.restore();break;case"shinyMetal":h=[0,.125,.25,.347222,.5,.652777,.75,.875,1],f=[new ce(254,254,254,1),new ce(210,210,210,1),new ce(179,179,179,1),new ce(238,238,238,1),new ce(160,160,160,1),new ce(238,238,238,1),new ce(179,179,179,1),new ce(210,210,210,1),new ce(254,254,254,1)],s.save(),s.arc(r,o,.990654*i/2,0,y,!0),s.clip(),c=.495327*i,u=.42056*i,d=new ue(h,f),d.fillCircle(s,r,o,u,c),s.strokeStyle="#848484",s.strokeStyle="rgba(132, 132, 132, 0.8)",s.beginPath(),s.lineWidth=i/90,s.arc(r,o,i/2,0,y,!0),s.closePath(),s.stroke(),s.restore();break;case"chrome":h=[0,.09,.12,.16,.25,.29,.33,.38,.48,.52,.63,.68,.8,.83,.87,.97,1],f=[new ce(255,255,255,1),new ce(255,255,255,1),new ce(136,136,138,1),new ce(164,185,190,1),new ce(158,179,182,1),new ce(112,112,112,1),new ce(221,227,227,1),new ce(155,176,179,1),new ce(156,176,177,1),new ce(254,255,255,1),new ce(255,255,255,1),new ce(156,180,180,1),new ce(198,209,211,1),new ce(246,248,247,1),new ce(204,216,216,1),new ce(164,188,190,1),new ce(255,255,255,1)],s.save(),s.arc(r,o,.990654*i/2,0,y,!0),s.clip(),c=.495327*i,u=.42056*i,d=new ue(h,f),d.fillCircle(s,r,o,u,c),s.strokeStyle="#848484",s.strokeStyle="rgba(132, 132, 132, 0.8)",s.beginPath(),s.lineWidth=i/90,s.arc(r,o,i/2,0,y,!0),s.closePath(),s.stroke(),s.restore()}s.fillStyle="rgb(191, 191, 191)",s.beginPath(),s.arc(r,o,.841121*i/2,0,y,!0),s.closePath(),s.fill(),s.globalCompositeOperation="destination-out",s.beginPath(),s.arc(r,o,.83*i/2,0,y,!0),s.closePath(),s.fill(),q.cache[p]=l}return e.drawImage(q.cache[p],0,0),this};q.cache={};var J=function(e,t,r,o,i){var l,s,d,c,u,h,f,p=[],g=[],v=r.toString()+o+t.design+i;if(!J.cache[v]){switch(l=.04*Math.sqrt(r*r+o*o),l=Math.min(l,.1*(i?r:o)),s=a(r,o),d=s.getContext("2d"),i?(c=.05*r,u=c-1,h=.028571*r):(c=.05*o,u=c-1,h=.028571*o),n(d,0,0,r,o,c),d.fillStyle="#838383",d.fill(),n(d,1,1,r-2,o-2,u),t.design){case"metal":f=d.createLinearGradient(0,.004672*r,0,.990654*o),f.addColorStop(0,"#fefefe"),f.addColorStop(.07,"rgb(210, 210, 210)"),f.addColorStop(.12,"rgb(179, 179, 179)"),f.addColorStop(1,"rgb(213, 213, 213)"),d.fillStyle=f,d.fill();break;case"brass":f=d.createLinearGradient(0,.004672*r,0,.990654*o),f.addColorStop(0,"rgb(249, 243, 155)"),f.addColorStop(.05,"rgb(246, 226, 101)"),f.addColorStop(.1,"rgb(240, 225, 132)"),f.addColorStop(.5,"rgb(90, 57, 22)"),f.addColorStop(.9,"rgb(249, 237, 139)"),f.addColorStop(.95,"rgb(243, 226, 108)"),f.addColorStop(1,"rgb(202, 182, 113)"),d.fillStyle=f,d.fill();break;case"steel":f=d.createLinearGradient(0,.004672*r,0,.990654*o),f.addColorStop(0,"rgb(231, 237, 237)"),f.addColorStop(.05,"rgb(189, 199, 198)"),f.addColorStop(.1,"rgb(192, 201, 200)"),f.addColorStop(.5,"rgb(23, 31, 33)"),f.addColorStop(.9,"rgb(196, 205, 204)"),f.addColorStop(.95,"rgb(194, 204, 203)"),f.addColorStop(1,"rgb(189, 201, 199)"),d.fillStyle=f,d.fill();break;case"gold":f=d.createLinearGradient(0,.004672*r,0,.990654*o),f.addColorStop(0,"rgb(255, 255, 207)"),f.addColorStop(.15,"rgb(255, 237, 96)"),f.addColorStop(.22,"rgb(254, 199, 57)"),f.addColorStop(.3,"rgb(255, 249, 203)"),f.addColorStop(.38,"rgb(255, 199, 64)"),f.addColorStop(.44,"rgb(252, 194, 60)"),f.addColorStop(.51,"rgb(255, 204, 59)"),f.addColorStop(.6,"rgb(213, 134, 29)"),f.addColorStop(.68,"rgb(255, 201, 56)"),f.addColorStop(.75,"rgb(212, 135, 29)"),f.addColorStop(1,"rgb(247, 238, 101)"),d.fillStyle=f,d.fill();break;case"anthracite":f=d.createLinearGradient(0,.004672*o,0,.995326*o),f.addColorStop(0,"rgb(118, 117, 135)"),f.addColorStop(.06,"rgb(74, 74, 82)"),f.addColorStop(.12,"rgb(50, 50, 54)"),f.addColorStop(1,"rgb(79, 79, 87)"),d.fillStyle=f,d.fill();break;case"tiltedGray":f=d.createLinearGradient(.233644*r,.084112*o,.81258*r,.910919*o),f.addColorStop(0,"#ffffff"),f.addColorStop(.07,"rgb(210, 210, 210)"),f.addColorStop(.16,"rgb(179, 179, 179)"),f.addColorStop(.33,"#ffffff"),f.addColorStop(.55,"#c5c5c5"),f.addColorStop(.79,"#ffffff"),f.addColorStop(1,"#666666"),d.fillStyle=f,d.fill();break;case"tiltedBlack":f=d.createLinearGradient(.228971*r,.079439*o,.802547*r,.898591*o),f.addColorStop(0,"#666666"),f.addColorStop(.21,"#000000"),f.addColorStop(.47,"#666666"),f.addColorStop(.99,"#000000"),f.addColorStop(1,"#000000"),d.fillStyle=f,d.fill();break;case"glossyMetal":n(d,1,1,r-2,o-2,c),d.clip(),f=d.createLinearGradient(0,1,0,o-2),f.addColorStop(0,"rgb(249, 249, 249)"),f.addColorStop(.2,"rgb(200, 195, 191)"),f.addColorStop(.3,"#ffffff"),f.addColorStop(.6,"rgb(29, 29, 29)"),f.addColorStop(.8,"rgb(200, 194, 192)"),f.addColorStop(1,"rgb(209, 209, 209)"),d.fillStyle=f,d.fill(),n(d,l-2,l-2,r-2*(l-2),o-2*(l-2),h),d.clip(),d.fillStyle="#f6f6f6",d.fill(),n(d,l-1,l-1,r-2*(l-1),o-2*(l-1),h),d.clip(),d.fillStyle="#333333",d.fill();break;case"blackMetal":p=[0,.125,.347222,.5,.680555,.875,1],g=[new ce("#FFFFFF"),new ce("#000000"),new ce("#999999"),new ce("#000000"),new ce("#999999"),new ce("#000000"),new ce("#FFFFFF")],d.beginPath(),n(d,1,1,r-2,o-2,c),d.closePath(),d.clip(),f=new ue(p,g),f.fillRect(d,r/2,o/2,r,o,l,l);break;case"shinyMetal":p=[0,.125,.25,.347222,.5,.652777,.75,.875,1],g=[new ce("#FFFFFF"),new ce("#D2D2D2"),new ce("#B3B3B3"),new ce("#EEEEEE"),new ce("#A0A0A0"),new ce("#EEEEEE"),new ce("#B3B3B3"),new ce("#D2D2D2"),new ce("#FFFFFF")],d.beginPath(),n(d,1,1,r-2,o-2,c),d.closePath(),d.clip(),f=new ue(p,g),f.fillRect(d,r/2,o/2,r,o,l,l);break;case"chrome":p=[0,.09,.12,.16,.25,.29,.33,.38,.48,.52,.63,.68,.8,.83,.87,.97,1],g=[new ce("#FFFFFF"),new ce("#FFFFFF"),new ce("#888890"),new ce("#A4B9BE"),new ce("#9EB3B6"),new ce("#707070"),new ce("#DDE3E3"),new ce("#9BB0B3"),new ce("#9CB0B1"),new ce("#FEFFFF"),new ce("#FFFFFF"),new ce("#9CB4B4"),new ce("#C6D1D3"),new ce("#F6F8F7"),new ce("#CCD8D8"),new ce("#A4BCBE"),new ce("#FFFFFF")],d.beginPath(),n(d,1,1,r-2,o-2,c),d.closePath(),d.clip(),f=new ue(p,g),f.fillRect(d,r/2,o/2,r,o,l,l)}n(d,l-1,l-1,r-2*(l-1),o-2*(l-1),h-1),d.fillStyle="rgb(192, 192, 192)",d.globalCompositeOperation="destination-out",n(d,l,l,r-2*l,o-2*l,4),d.fill(),J.cache[v]=s}return e.drawImage(J.cache[v],0,0),this};J.cache={};var X=function(e,t,r,o,i,n){var l,s,d,c,u,h,f,p,g,v,b,C,m,T=.831775*i/2,w=i.toString()+n+t.name;if(!X.cache[w]){if(l=a(i,n),s=l.getContext("2d"),s.beginPath(),s.arc(r,o,T,0,y,!0),s.closePath(),"CARBON"===t.name||"PUNCHED_SHEET"===t.name||"BRUSHED_METAL"===t.name||"BRUSHED_STAINLESS"===t.name)"CARBON"===t.name&&(s.fillStyle=s.createPattern(le,"repeat"),s.fill()),"PUNCHED_SHEET"===t.name&&(s.fillStyle=s.createPattern(se,"repeat"),s.fill()),d=s.createLinearGradient(T,0,i-T,0),d.addColorStop(0,"rgba(0, 0, 0, 0.25)"),d.addColorStop(.5,"rgba(0, 0, 0, 0)"),d.addColorStop(1,"rgba(0, 0, 0, 0.25)"),s.fillStyle=d,s.beginPath(),s.arc(r,o,T,0,y,!0),s.closePath(),s.fill(),("BRUSHED_METAL"===t.name||"BRUSHED_STAINLESS"===t.name)&&(h="BRUSHED_METAL"===t.name?!0:!1,f=parseInt(t.gradientStop.getHexColor().substr(-6),16),p=de(f,5,.1,h,.5),s.fillStyle=s.createPattern(p.fill(0,0,i,n),"no-repeat"),s.fill());else if("STAINLESS"===t.name||"TURNED"===t.name){if(c=[0,.03,.1,.14,.24,.33,.38,.5,.62,.67,.76,.81,.85,.97,1],u=[new ce("#FDFDFD"),new ce("#FDFDFD"),new ce("#B2B2B4"),new ce("#ACACAE"),new ce("#FDFDFD"),new ce("#8E8E8E"),new ce("#8E8E8E"),new ce("#FDFDFD"),new ce("#8E8E8E"),new ce("#8E8E8E"),new ce("#FDFDFD"),new ce("#ACACAE"),new ce("#B2B2B4"),new ce("#FDFDFD"),new ce("#FDFDFD")],d=new ue(c,u),d.fillCircle(s,r,o,0,T),"TURNED"===t.name){for(g=T,v=.55*g,b=S*(500/g),s.save(),s.beginPath(),s.arc(r,o,g,0,y),s.closePath(),s.clip(),s.lineWidth=.5,C=y-.3*b,m=0;C>m;m+=b)s.strokeStyle="rgba(240, 240, 255, 0.25)",s.beginPath(),s.arc(r+v,o,v,0,y),s.stroke(),s.translate(r,o),s.rotate(.3*b),s.translate(-r,-o),s.strokeStyle="rgba(25, 10, 10, 0.1)",s.beginPath(),s.arc(r+v,o,v,0,y),s.stroke(),s.translate(r,o),s.rotate(b-.3*b),s.translate(-r,-o);s.restore()}}else d=s.createLinearGradient(0,.084112*i,0,2*T),d.addColorStop(0,t.gradientStart.getRgbaColor()),d.addColorStop(.4,t.gradientFraction.getRgbaColor()),d.addColorStop(1,t.gradientStop.getRgbaColor()),s.fillStyle=d,s.fill();d=s.createRadialGradient(r,o,0,r,o,T),d.addColorStop(0,"rgba(0, 0, 0, 0)"),d.addColorStop(.7,"rgba(0, 0, 0, 0)"),d.addColorStop(.71,"rgba(0, 0, 0, 0)"),d.addColorStop(.86,"rgba(0, 0, 0, 0.03)"),d.addColorStop(.92,"rgba(0, 0, 0, 0.07)"),d.addColorStop(.97,"rgba(0, 0, 0, 0.15)"),d.addColorStop(1,"rgba(0, 0, 0, 0.3)"),s.fillStyle=d,s.beginPath(),s.arc(r,o,T,0,y,!0),s.closePath(),s.fill(),X.cache[w]=l}return e.drawImage(X.cache[w],0,0),this};X.cache={};var $=function(e,t,r,o,i,n){var a=.831775*i,l=.831775*n,s=(i-a)/2,d=(n-l)/2;return null!==t&&t.height>0&&t.width>0&&(e.save(),e.beginPath(),e.arc(r,o,.831775*i/2,0,y,!0),e.clip(),e.drawImage(t,s,d,a,l),e.restore()),this},Q=function(e,t,r,o,i){var l,s,d,c,u,h,f,p,g,v,b,C,m,T,S,w,_,k=r.toString()+o+i+t.name;if(!Q.cache[k]){if(h=.04*Math.sqrt(r*r+o*o),h=Math.min(h,.1*(i?r:o)),f=a(r,o),p=f.getContext("2d"),g=t,n(p,h,h,r-2*h,o-2*h,4),"CARBON"===t.name||"PUNCHED_SHEET"===t.name||"STAINLESS"===t.name||"BRUSHED_METAL"===t.name||"BRUSHED_STAINLESS"===t.name||"TURNED"===t.name){if("CARBON"===t.name&&(p.fillStyle=p.createPattern(le,"repeat"),p.fill()),"PUNCHED_SHEET"===t.name&&(p.fillStyle=p.createPattern(se,"repeat"),p.fill()),("STAINLESS"===t.name||"TURNED"===t.name)&&(c=[0,.03,.1,.14,.24,.33,.38,.5,.62,.67,.76,.81,.85,.97,1],u=[new ce("#FDFDFD"),new ce("#FDFDFD"),new ce("#B2B2B4"),new ce("#ACACAE"),new ce("#FDFDFD"),new ce("#8E8E8E"),new ce("#8E8E8E"),new ce("#FDFDFD"),new ce("#8E8E8E"),new ce("#8E8E8E"),new ce("#FDFDFD"),new ce("#ACACAE"),new ce("#B2B2B4"),new ce("#FDFDFD"),new ce("#FDFDFD")],d=new ue(c,u),n(p,h,h,r-2*h,o-2*h,4),p.clip(),d.fillRect(p,r/2,o/2,r-2*h,o-2*h,r/2,o/2),d=p.createLinearGradient(0,h,0,o-2*h),d.addColorStop(0,"rgba(0, 0, 0, 0.25)"),d.addColorStop(.1,"rgba(0, 0, 0, 0.05)"),d.addColorStop(1,"rgba(0, 0, 0, 0)"),p.fillStyle=d,n(p,h,h,r-2*h,o-2*h,4),p.fill(),p.restore(),"TURNED"===t.name)){for(v=Math.sqrt((r-2*h)*(r-2*h)+(o-2*h)*(o-2*h))/2,b=.55*v,C=r/2,m=o/2,T=y/360*(400/v),p.save(),p.beginPath(),n(p,h,h,r-2*h,o-2*h,4),p.clip(),p.lineWidth=.5,s=y-.3*T,l=0;s>l;l+=T)p.strokeStyle="rgba(240, 240, 255, 0.25)",p.beginPath(),p.arc(C+b,m,b,0,y),p.stroke(),p.translate(C,m),p.rotate(.3*T),p.translate(-C,-m),p.strokeStyle="rgba(25, 10, 10, 0.1)",p.beginPath(),p.arc(C+b,m,b,0,y),p.stroke(),p.translate(C,m),p.rotate(.3*-T),p.translate(-C,-m),p.translate(C,m),p.rotate(T),p.translate(-C,-m);p.restore()}d=p.createLinearGradient(h,h,r-2*h,o-2*h),d.addColorStop(0,"rgba(0, 0, 0, 0.25)"),d.addColorStop(.5,"rgba(0, 0, 0, 0)"),d.addColorStop(1,"rgba(0, 0, 0, 0.25)"),p.fillStyle=d,n(p,h,h,r-2*h,o-2*h,4),p.fill(),("BRUSHED_METAL"===t.name||"BRUSHED_STAINLESS"===t.name)&&(S="BRUSHED_METAL"===t.name?!0:!1,w=parseInt(t.gradientStop.getHexColor().substr(-6),16),_=de(w,5,.1,S,.5),p.fillStyle=p.createPattern(_.fill(0,0,r,o),"no-repeat"),p.fill())}else d=p.createLinearGradient(0,h,0,o-2*h),d.addColorStop(0,t.gradientStart.getRgbaColor()),d.addColorStop(.4,t.gradientFraction.getRgbaColor()),d.addColorStop(1,t.gradientStop.getRgbaColor()),p.fillStyle=d,p.fill();for(u=["rgba(0, 0, 0, 0.3)","rgba(0, 0, 0, 0.15)","rgba(0, 0, 0, 0.07)","rgba(0, 0, 0, 0.03)","rgba(0, 0, 0, 0)","rgba(0, 0, 0, 0)","rgba(0, 0, 0, 0)"],l=0;7>l;l++)n(p,h+l,h+l,r-2*h-2*l,o-2*h-2*l,4),p.strokeStyle=u[l],p.stroke();Q.cache[k]=f}return e.drawImage(Q.cache[k],0,0),this};Q.cache={};var Z=function(e,t,o,i,n,l,s,d,c){var u,h,f,p,g=Math.ceil(.084112*i),v=.5*o-g/2,b=.5*i-g/2,C=.008*o,m=t.type+o+i+n+(void 0!==l?l.type:"-")+(void 0!==s?s.style:"-")+(void 0!==c?c.type:"-");if(!Z.cache[m]){switch(u=a(o,i),h=u.getContext("2d"),n&&(h.shadowColor="rgba(0, 0, 0, 0.8)",h.shadowOffsetX=h.shadowOffsetY=C,h.shadowBlur=2*C,d===r.GaugeType.TYPE5?r.Orientation.WEST===c?(v=.733644*o-g/2,h.drawImage(te(g,l,s),v,b)):r.Orientation.EAST===c?(v=o*(1-.733644)-g/2,h.drawImage(te(g,l,s),v,b)):(b=.733644*i-g/2,h.drawImage(te(g,l,s),v,.6857*i)):h.drawImage(te(g,l,s),v,b),h.shadowOffsetX=h.shadowOffsetY=0,h.shadowBlur=0),t.type){case"type2":h.beginPath(),h.moveTo(.135514*o,.696261*i),h.bezierCurveTo(.214953*o,.588785*i,.317757*o,.5*i,.462616*o,.425233*i),h.bezierCurveTo(.612149*o,.345794*i,.733644*o,.317757*i,.873831*o,.322429*i),h.bezierCurveTo(.766355*o,.112149*i,.528037*o,.023364*i,.313084*o,.130841*i),h.bezierCurveTo(.09813*o,.238317*i,.028037*o,.485981*i,.135514*o,.696261*i),h.closePath(),f=h.createLinearGradient(.313084*o,.135514*i,.495528*o,.493582*i),f.addColorStop(0,"rgba(255, 255, 255, 0.275)"),f.addColorStop(1,"rgba(255, 255, 255, 0.015)");break;case"type3":h.beginPath(),h.moveTo(.084112*o,.509345*i),h.bezierCurveTo(.21028*o,.556074*i,.462616*o,.560747*i,.5*o,.560747*i),h.bezierCurveTo(.537383*o,.560747*i,.794392*o,.560747*i,.915887*o,.509345*i),h.bezierCurveTo(.915887*o,.2757*i,.738317*o,.084112*i,.5*o,.084112*i),h.bezierCurveTo(.261682*o,.084112*i,.084112*o,.2757*i,.084112*o,.509345*i),h.closePath(),f=h.createLinearGradient(0,.093457*i,0,.556073*i),f.addColorStop(0,"rgba(255, 255, 255, 0.275)"),f.addColorStop(1,"rgba(255, 255, 255, 0.015)");break;case"type4":h.beginPath(),h.moveTo(.67757*o,.24299*i),h.bezierCurveTo(.771028*o,.308411*i,.822429*o,.411214*i,.813084*o,.528037*i),h.bezierCurveTo(.799065*o,.654205*i,.719626*o,.757009*i,.593457*o,.799065*i),h.bezierCurveTo(.485981*o,.831775*i,.369158*o,.808411*i,.285046*o,.728971*i),h.bezierCurveTo(.2757*o,.719626*i,.252336*o,.714953*i,.233644*o,.728971*i),h.bezierCurveTo(.214953*o,.747663*i,.219626*o,.771028*i,.228971*o,.7757*i),h.bezierCurveTo(.331775*o,.878504*i,.476635*o,.915887*i,.616822*o,.869158*i),h.bezierCurveTo(.771028*o,.822429*i,.873831*o,.691588*i,.88785*o,.53271*i),h.bezierCurveTo(.897196*o,.38785*i,.836448*o,.257009*i,.719626*o,.182242*i),h.bezierCurveTo(.705607*o,.172897*i,.682242*o,.163551*i,.663551*o,.186915*i),h.bezierCurveTo(.654205*o,.205607*i,.668224*o,.238317*i,.67757*o,.24299*i),h.closePath(),f=h.createRadialGradient(.5*o,.5*i,0,.5*o,.5*i,.38785*o),f.addColorStop(0,"rgba(255, 255, 255, 0)"),f.addColorStop(.82,"rgba(255, 255, 255, 0)"),f.addColorStop(.83,"rgba(255, 255, 255, 0)"),f.addColorStop(1,"rgba(255, 255, 255, 0.15)"),h.beginPath(),h.moveTo(.261682*o,.224299*i),h.bezierCurveTo(.285046*o,.238317*i,.252336*o,.285046*i,.24299*o,.317757*i),h.bezierCurveTo(.24299*o,.350467*i,.271028*o,.383177*i,.271028*o,.397196*i),h.bezierCurveTo(.2757*o,.415887*i,.261682*o,.457943*i,.238317*o,.509345*i),h.bezierCurveTo(.224299*o,.542056*i,.17757*o,.612149*i,.158878*o,.612149*i),h.bezierCurveTo(.144859*o,.612149*i,.088785*o,.546728*i,.130841*o,.369158*i),h.bezierCurveTo(.140186*o,.336448*i,.214953*o,.200934*i,.261682*o,.224299*i),h.closePath(),p=h.createLinearGradient(.130841*o,.369158*i,.273839*o,.412877*i),p.addColorStop(0,"rgba(255, 255, 255, 0.275)"),p.addColorStop(1,"rgba(255, 255, 255, 0.015)"),h.fillStyle=p,h.fill();break;case"type5":h.beginPath(),h.moveTo(.084112*o,.5*i),h.bezierCurveTo(.084112*o,.271028*i,.271028*o,.084112*i,.5*o,.084112*i),h.bezierCurveTo(.700934*o,.084112*i,.864485*o,.224299*i,.906542*o,.411214*i),h.bezierCurveTo(.911214*o,.439252*i,.911214*o,.518691*i,.845794*o,.537383*i),h.bezierCurveTo(.794392*o,.546728*i,.551401*o,.411214*i,.392523*o,.457943*i),h.bezierCurveTo(.168224*o,.509345*i,.135514*o,.7757*i,.093457*o,.593457*i),h.bezierCurveTo(.088785*o,.560747*i,.084112*o,.53271*i,.084112*o,.5*i),h.closePath(),f=h.createLinearGradient(0,.084112*i,0,.644859*i),f.addColorStop(0,"rgba(255, 255, 255, 0.275)"),f.addColorStop(1,"rgba(255, 255, 255, 0.015)");break;case"type1":default:h.beginPath(),h.moveTo(.084112*o,.509345*i),h.bezierCurveTo(.205607*o,.448598*i,.336448*o,.415887*i,.5*o,.415887*i),h.bezierCurveTo(.672897*o,.415887*i,.789719*o,.443925*i,.915887*o,.509345*i),h.bezierCurveTo(.915887*o,.2757*i,.738317*o,.084112*i,.5*o,.084112*i),h.bezierCurveTo(.261682*o,.084112*i,.084112*o,.2757*i,.084112*o,.509345*i),h.closePath(),f=h.createLinearGradient(0,.088785*i,0,.490654*i),f.addColorStop(0,"rgba(255, 255, 255, 0.275)"),f.addColorStop(1,"rgba(255, 255, 255, 0.015)")}h.fillStyle=f,h.fill(),Z.cache[m]=u}return e.drawImage(Z.cache[m],0,0),this};Z.cache={};var ee=function(e,t,r,o){var i,n,l,s,d,c,u=t.toString()+r+o;return ee.cache[u]||(i=a(t,r),n=i.getContext("2d"),s=.04*Math.sqrt(t*t+r*r),s=Math.min(s,.1*(o?t:r)),d=1.3*s,c=1.33*d,n.beginPath(),n.moveTo(d,r-d),n.lineTo(t-d,r-d),n.bezierCurveTo(t-d,r-d,t-c,.7*r,t-c,.5*r),n.bezierCurveTo(t-c,c,t-d,d,t-s,d),n.lineTo(d,d),n.bezierCurveTo(d,d,c,.285714*r,c,.5*r),n.bezierCurveTo(c,.7*r,d,r-d,s,r-d),n.closePath(),l=n.createLinearGradient(0,r-s,0,s),l.addColorStop(0,"rgba(255, 255, 255, 0)"),l.addColorStop(.06,"rgba(255, 255, 255, 0)"),l.addColorStop(.07,"rgba(255, 255, 255, 0)"),l.addColorStop(.12,"rgba(255, 255, 255, 0)"),l.addColorStop(.17,"rgba(255, 255, 255, 0.013546)"),l.addColorStop(.1701,"rgba(255, 255, 255, 0)"),l.addColorStop(.79,"rgba(255, 255, 255, 0)"),l.addColorStop(.8,"rgba(255, 255, 255, 0)"),l.addColorStop(.84,"rgba(255, 255, 255, 0.082217)"),l.addColorStop(.93,"rgba(255, 255, 255, 0.288702)"),l.addColorStop(.94,"rgba(255, 255, 255, 0.298039)"),l.addColorStop(.96,"rgba(255, 255, 255, 0.119213)"),l.addColorStop(.97,"rgba(255, 255, 255, 0)"),l.addColorStop(1,"rgba(255, 255, 255, 0)"),n.fillStyle=l,n.fill(),ee.cache[u]=i),e.drawImage(ee.cache[u],0,0),this};ee.cache={};var te=function(e,t,r){var o,i,n,l=e/2,s=e/2,d=e.toString()+t.type+r.style;if(!te.cache[d]){switch(o=a(1.18889*e,1.18889*e),i=o.getContext("2d"),t.type){case"metalKnob":switch(i.beginPath(),i.moveTo(0,.5*e),i.bezierCurveTo(0,.222222*e,.222222*e,0,.5*e,0),i.bezierCurveTo(.777777*e,0,e,.222222*e,e,.5*e),i.bezierCurveTo(e,.777777*e,.777777*e,e,.5*e,e),i.bezierCurveTo(.222222*e,e,0,.777777*e,0,.5*e),i.closePath(),n=i.createLinearGradient(0,0,0,e),n.addColorStop(0,"rgb(92, 95, 101)"),n.addColorStop(.47,"rgb(46, 49, 53)"),n.addColorStop(1,"rgb(22, 23, 26)"),i.fillStyle=n,i.fill(),i.beginPath(),i.moveTo(.055555*e,.5*e),i.bezierCurveTo(.055555*e,.277777*e,.277777*e,.055555*e,.5*e,.055555*e),i.bezierCurveTo(.722222*e,.055555*e,.944444*e,.277777*e,.944444*e,.5*e),i.bezierCurveTo(.944444*e,.722222*e,.722222*e,.944444*e,.5*e,.944444*e),i.bezierCurveTo(.277777*e,.944444*e,.055555*e,.722222*e,.055555*e,.5*e),i.closePath(),n=i.createLinearGradient(0,.055555*e,0,.944443*e),
r.style){case"black":n.addColorStop(0,"rgb(43, 42, 47)"),n.addColorStop(1,"rgb(26, 27, 32)");break;case"brass":n.addColorStop(0,"rgb(150, 110, 54)"),n.addColorStop(1,"rgb(124, 95, 61)");break;case"silver":default:n.addColorStop(0,"rgb(204, 204, 204)"),n.addColorStop(1,"rgb(87, 92, 98)")}i.fillStyle=n,i.fill(),i.beginPath(),i.moveTo(.777777*e,.833333*e),i.bezierCurveTo(.722222*e,.722222*e,.611111*e,.666666*e,.5*e,.666666*e),i.bezierCurveTo(.388888*e,.666666*e,.277777*e,.722222*e,.222222*e,.833333*e),i.bezierCurveTo(.277777*e,.888888*e,.388888*e,.944444*e,.5*e,.944444*e),i.bezierCurveTo(.611111*e,.944444*e,.722222*e,.888888*e,.777777*e,.833333*e),i.closePath(),n=i.createRadialGradient(.555555*e,.944444*e,0,.555555*e,.944444*e,.388888*e),n.addColorStop(0,"rgba(255, 255, 255, 0.6)"),n.addColorStop(1,"rgba(255, 255, 255, 0)"),i.fillStyle=n,i.fill(),i.beginPath(),i.moveTo(.944444*e,.277777*e),i.bezierCurveTo(.833333*e,.111111*e,.666666*e,0,.5*e,0),i.bezierCurveTo(.333333*e,0,.166666*e,.111111*e,.055555*e,.277777*e),i.bezierCurveTo(.166666*e,.333333*e,.333333*e,.388888*e,.5*e,.388888*e),i.bezierCurveTo(.666666*e,.388888*e,.833333*e,.333333*e,.944444*e,.277777*e),i.closePath(),n=i.createRadialGradient(.5*e,0,0,.5*e,0,.583333*e),n.addColorStop(0,"rgba(255, 255, 255, 0.749019)"),n.addColorStop(1,"rgba(255, 255, 255, 0)"),i.fillStyle=n,i.fill(),i.beginPath(),i.moveTo(.277777*e,.555555*e),i.bezierCurveTo(.277777*e,.388888*e,.388888*e,.277777*e,.5*e,.277777*e),i.bezierCurveTo(.611111*e,.277777*e,.777777*e,.388888*e,.777777*e,.555555*e),i.bezierCurveTo(.777777*e,.666666*e,.611111*e,.777777*e,.5*e,.777777*e),i.bezierCurveTo(.388888*e,.777777*e,.277777*e,.666666*e,.277777*e,.555555*e),i.closePath(),n=i.createLinearGradient(0,.277777*e,0,.722221*e),n.addColorStop(0,"#000000"),n.addColorStop(1,"rgb(204, 204, 204)"),i.fillStyle=n,i.fill(),i.beginPath(),i.moveTo(.333333*e,.555555*e),i.bezierCurveTo(.333333*e,.444444*e,.388888*e,.333333*e,.5*e,.333333*e),i.bezierCurveTo(.611111*e,.333333*e,.722222*e,.444444*e,.722222*e,.555555*e),i.bezierCurveTo(.722222*e,.611111*e,.611111*e,.722222*e,.5*e,.722222*e),i.bezierCurveTo(.388888*e,.722222*e,.333333*e,.611111*e,.333333*e,.555555*e),i.closePath(),n=i.createLinearGradient(0,.333333*e,0,.666666*e),n.addColorStop(0,"rgb(10, 9, 1)"),n.addColorStop(1,"rgb(42, 41, 37)"),i.fillStyle=n,i.fill();break;case"standardKnob":switch(n=i.createLinearGradient(0,0,0,e),n.addColorStop(0,"rgb(180, 180, 180)"),n.addColorStop(.46,"rgb(63, 63, 63)"),n.addColorStop(1,"rgb(40, 40, 40)"),i.fillStyle=n,i.beginPath(),i.arc(l,s,e/2,0,y,!0),i.closePath(),i.fill(),n=i.createLinearGradient(0,e-.77*e,0,e-.77*e+.77*e),r.style){case"black":n.addColorStop(0,"rgb(191, 191, 191)"),n.addColorStop(.5,"rgb(45, 44, 49)"),n.addColorStop(1,"rgb(125, 126, 128)");break;case"brass":n.addColorStop(0,"rgb(223, 208, 174)"),n.addColorStop(.5,"rgb(123, 95, 63)"),n.addColorStop(1,"rgb(207, 190, 157)");break;case"silver":default:n.addColorStop(0,"rgb(215, 215, 215)"),n.addColorStop(.5,"rgb(116, 116, 116)"),n.addColorStop(1,"rgb(215, 215, 215)")}i.fillStyle=n,i.beginPath(),i.arc(l,s,.77*e/2,0,y,!0),i.closePath(),i.fill(),n=i.createRadialGradient(l,s,0,l,s,.77*e/2),n.addColorStop(0,"rgba(0, 0, 0, 0)"),n.addColorStop(.75,"rgba(0, 0, 0, 0)"),n.addColorStop(.76,"rgba(0, 0, 0, 0.01)"),n.addColorStop(1,"rgba(0, 0, 0, 0.2)"),i.fillStyle=n,i.beginPath(),i.arc(l,s,.77*e/2,0,y,!0),i.closePath(),i.fill()}te.cache[d]=o}return te.cache[d]};te.cache={};var re=function(t,r,o){var i,n,l,s=t/2,d=t/2,c=t.toString()+r+o.outerColor_ON;if(!re.cache[c]){switch(i=a(t,t),n=i.getContext("2d"),r){case 0:l=n.createRadialGradient(s,d,0,s,d,.5*t/2),l.addColorStop(0,o.innerColor1_OFF),l.addColorStop(.2,o.innerColor2_OFF),l.addColorStop(1,o.outerColor_OFF),n.fillStyle=l,n.beginPath(),n.arc(s,d,.5*t/2,0,y,!0),n.closePath(),n.fill(),l=n.createRadialGradient(s,d,0,s,d,.5*t/2),l.addColorStop(0,"rgba(0, 0, 0, 0)"),l.addColorStop(.8,"rgba(0, 0, 0, 0)"),l.addColorStop(1,"rgba(0, 0, 0, 0.4)"),n.fillStyle=l,n.beginPath(),n.arc(s,d,.5*t/2,0,y,!0),n.closePath(),n.fill(),l=n.createLinearGradient(0,.35*t,0,.35*t+.15*t),l.addColorStop(0,"rgba(255, 255, 255, 0.4)"),l.addColorStop(1,"rgba(255, 255, 255, 0)"),n.fillStyle=l,n.beginPath(),n.arc(s,.35*t+.2*t/2,.2*t,0,y,!0),n.closePath(),n.fill();break;case 1:l=n.createRadialGradient(s,d,0,s,d,.5*t/2),l.addColorStop(0,o.innerColor1_ON),l.addColorStop(.2,o.innerColor2_ON),l.addColorStop(1,o.outerColor_ON),n.fillStyle=l,n.beginPath(),n.arc(s,d,.5*t/2,0,y,!0),n.closePath(),n.fill(),l=n.createRadialGradient(s,d,0,s,d,.5*t/2),l.addColorStop(0,"rgba(0, 0, 0, 0)"),l.addColorStop(.8,"rgba(0, 0, 0, 0)"),l.addColorStop(1,"rgba(0, 0, 0, 0.4)"),n.fillStyle=l,n.beginPath(),n.arc(s,d,.5*t/2,0,y,!0),n.closePath(),n.fill(),l=n.createLinearGradient(0,.35*t,0,.35*t+.15*t),l.addColorStop(0,"rgba(255, 255, 255, 0.4)"),l.addColorStop(1,"rgba(255, 255, 255, 0)"),n.fillStyle=l,n.beginPath(),n.arc(s,.35*t+.2*t/2,.2*t,0,y,!0),n.closePath(),n.fill(),l=n.createRadialGradient(s,d,0,s,d,t/2),l.addColorStop(0,e(o.coronaColor,0).color),l.addColorStop(.6,e(o.coronaColor,.4).color),l.addColorStop(.7,e(o.coronaColor,.25).color),l.addColorStop(.8,e(o.coronaColor,.15).color),l.addColorStop(.85,e(o.coronaColor,.05).color),l.addColorStop(1,e(o.coronaColor,0).color),n.fillStyle=l,n.beginPath(),n.arc(s,d,t/2,0,y,!0),n.closePath(),n.fill()}re.cache[c]=i}return re.cache[c]};re.cache={};var oe=function(e,t,r){var o,i,l,s=0,d=0,c=e,u=t,h=.095*Math.min(e,t),f=1,p=1,g=e-2,v=t-2,b=h-1,C=e.toString()+t+JSON.stringify(r);return oe.cache[C]||(o=a(e,t),i=o.getContext("2d"),l=i.createLinearGradient(0,d,0,d+u),l.addColorStop(0,"#4c4c4c"),l.addColorStop(.08,"#666666"),l.addColorStop(.92,"#666666"),l.addColorStop(1,"#e6e6e6"),i.fillStyle=l,n(i,s,d,c,u,h),i.fill(),l=i.createLinearGradient(0,p,0,p+v),l.addColorStop(0,r.gradientStartColor),l.addColorStop(.03,r.gradientFraction1Color),l.addColorStop(.49,r.gradientFraction2Color),l.addColorStop(.5,r.gradientFraction3Color),l.addColorStop(1,r.gradientStopColor),i.fillStyle=l,n(i,f,p,g,v,b),i.fill(),oe.cache[C]=o),oe.cache[C]};oe.cache={};var ie=function(e,t,r,o){var i,n,a=e.toString()+t+r+o;return ie.cache[a]||(i=_.createElement("canvas"),n=i.getContext("2d"),i.width=e,i.height=e,n.fillStyle=t,r?(n.beginPath(),n.moveTo(.5*e,e),n.lineTo(0,0),n.lineTo(e,0),n.closePath(),n.fill()):o?(n.beginPath(),n.moveTo(e,.5*e),n.lineTo(0,0),n.lineTo(0,e),n.closePath(),n.fill()):(n.beginPath(),n.moveTo(.5*e,0),n.lineTo(e,e),n.lineTo(0,e),n.closePath(),n.fill()),ie.cache[a]=i),ie.cache[a]};ie.cache={};var ne=function(t,r,o){var i,n,l,s=2*t,d=r.state+t+JSON.stringify(o),c=function(){var i=o[0];"up"===r.state?(l=n.createRadialGradient(.5*t,.2*s,0,.5*t,.2*s,.5*t),l.addColorStop(0,i.innerColor1_ON),l.addColorStop(.2,i.innerColor2_ON),l.addColorStop(1,i.outerColor_ON)):(l=n.createLinearGradient(0,0,0,.5*s),l.addColorStop(0,"#323232"),l.addColorStop(1,"#5c5c5c")),n.fillStyle=l,n.beginPath(),n.moveTo(.5*t,0),n.lineTo(t,.2*s),n.lineTo(.752*t,.2*s),n.lineTo(.752*t,.37*s),n.lineTo(.252*t,.37*s),n.lineTo(.252*t,.2*s),n.lineTo(0,.2*s),n.closePath(),n.fill(),"up"!==r.state?(n.strokeStyle="rgba(0, 0, 0, 0.4)",n.beginPath(),n.moveTo(0,.2*s),n.lineTo(.5*t,0),n.lineTo(t,.2*s),n.moveTo(.252*t,.2*s),n.lineTo(.252*t,.37*s),n.stroke(),n.strokeStyle="rgba(255, 255, 255, 0.3)",n.beginPath(),n.moveTo(.252*t,.37*s),n.lineTo(.752*t,.37*s),n.lineTo(.752*t,.2*s),n.lineTo(t,.2*s),n.stroke()):(l=n.createRadialGradient(.5*t,.2*s,0,.5*t,.2*s,.7*t),l.addColorStop(0,e(i.coronaColor,0).color),l.addColorStop(.5,e(i.coronaColor,.3).color),l.addColorStop(.7,e(i.coronaColor,.2).color),l.addColorStop(.8,e(i.coronaColor,.1).color),l.addColorStop(.85,e(i.coronaColor,.05).color),l.addColorStop(1,e(i.coronaColor,0).color),n.fillStyle=l,n.beginPath(),n.arc(.5*t,.2*s,.7*t,0,y,!0),n.closePath(),n.fill())},u=function(){var i=o[1];n.beginPath(),"steady"===r.state?(l=i.outerColor_ON,n.fillStyle=l,n.rect(.128*t,.41*s,.744*t,.074*s),n.rect(.128*t,.516*s,.744*t,.074*s),n.closePath(),n.fill()):(l=n.createLinearGradient(0,.41*s,0,.41*s+.074*s),l.addColorStop(0,"#323232"),l.addColorStop(1,"#5c5c5c"),n.fillStyle=l,n.rect(.128*t,.41*s,.744*t,.074*s),n.closePath(),n.fill(),l=n.createLinearGradient(0,.516*s,0,.516*s+.074*s),l.addColorStop(0,"#323232"),l.addColorStop(1,"#5c5c5c"),n.fillStyle=l,n.rect(.128*t,.516*s,.744*t,.074*s),n.closePath(),n.fill()),"steady"!==r.state?(n.strokeStyle="rgba(0, 0, 0, 0.4)",n.beginPath(),n.moveTo(.128*t,.41*s+.074*s),n.lineTo(.128*t,.41*s),n.lineTo(.128*t+.744*t,.41*s),n.stroke(),n.beginPath(),n.moveTo(.128*t,.516*s+.074*s),n.lineTo(.128*t,.516*s),n.lineTo(.128*t+.744*t,.516*s),n.stroke(),n.strokeStyle="rgba(255, 255, 255, 0.3)",n.beginPath(),n.moveTo(.128*t+.744*t,.41*s),n.lineTo(.128*t+.744*t,.41*s+.074*s),n.lineTo(.128*t,.41*s+.074*s),n.stroke(),n.beginPath(),n.moveTo(.128*t+.744*t,.516*s),n.lineTo(.128*t+.744*t,.516*s+.074*s),n.lineTo(.128*t,.516*s+.074*s),n.stroke()):(l=n.createRadialGradient(.5*t,.5*s,0,.5*t,.5*s,.7*t),l.addColorStop(0,e(i.coronaColor,0).color),l.addColorStop(.5,e(i.coronaColor,.3).color),l.addColorStop(.7,e(i.coronaColor,.2).color),l.addColorStop(.8,e(i.coronaColor,.1).color),l.addColorStop(.85,e(i.coronaColor,.05).color),l.addColorStop(1,e(i.coronaColor,0).color),n.fillStyle=l,n.beginPath(),n.arc(.5*t,.5*s,.7*t,0,y,!0),n.closePath(),n.fill())},h=function(){var i=o[2];"down"===r.state?(l=n.createRadialGradient(.5*t,.8*s,0,.5*t,.8*s,.5*t),l.addColorStop(0,i.innerColor1_ON),l.addColorStop(.2,i.innerColor2_ON),l.addColorStop(1,i.outerColor_ON)):(l=n.createLinearGradient(0,.63*s,0,s),l.addColorStop(0,"#323232"),l.addColorStop(1,"#5c5c5c")),n.beginPath(),n.fillStyle=l,n.moveTo(.5*t,s),n.lineTo(t,.8*s),n.lineTo(.725*t,.8*s),n.lineTo(.725*t,.63*s),n.lineTo(.252*t,.63*s),n.lineTo(.252*t,.8*s),n.lineTo(0,.8*s),n.closePath(),n.fill(),"down"!==r.state?(n.strokeStyle="rgba(0, 0, 0, 0.4)",n.beginPath(),n.moveTo(0,.8*s),n.lineTo(.252*t,.8*s),n.moveTo(.252*t,.63*s),n.lineTo(.752*t,.63*s),n.stroke(),n.beginPath(),n.moveTo(.752*t,.8*s),n.lineTo(t,.8*s),n.stroke(),n.strokeStyle="rgba(255, 255, 255, 0.3)",n.beginPath(),n.moveTo(0,.8*s),n.lineTo(.5*t,s),n.lineTo(t,.8*s),n.stroke(),n.beginPath(),n.moveTo(.752*t,.8*s),n.lineTo(.752*t,.63*s),n.stroke()):(l=n.createRadialGradient(.5*t,.8*s,0,.5*t,.8*s,.7*t),l.addColorStop(0,e(i.coronaColor,0).color),l.addColorStop(.5,e(i.coronaColor,.3).color),l.addColorStop(.7,e(i.coronaColor,.2).color),l.addColorStop(.8,e(i.coronaColor,.1).color),l.addColorStop(.85,e(i.coronaColor,.05).color),l.addColorStop(1,e(i.coronaColor,0).color),n.fillStyle=l,n.beginPath(),n.arc(.5*t,.8*s,.7*t,0,y,!0),n.closePath(),n.fill())};if(!ne.cache[d]){switch(i=a(2*t,4*t),n=i.getContext("2d"),n.translate(.5*t,.5*t),r.state){case"up":h(),u(),c();break;case"steady":h(),c(),u();break;case"down":default:c(),u(),h()}ne.cache[d]=i}return ne.cache[d]};ne.cache={};var ae=function(e,t,o,i,n,a,l,s,d,c){c=void 0===c?c=r.GaugeType.TYPE1:c,e.save(),e.textAlign=s?"center":"left",e.textBaseline="middle",e.strokeStyle=a.labelColor.getRgbaColor(),e.fillStyle=a.labelColor.getRgbaColor(),s?(e.font=.046728*t+"px "+x,e.fillText(i,t/2,.3*o,.3*t),e.fillText(n,t/2,.38*o,.3*t)):l?(e.font=.1*t+"px "+x,e.save(),e.translate(.671428*t,.1375*o),e.rotate(1.570796),e.fillText(i,0,0),e.translate(-.671428*t,-.1375*o),e.restore(),e.font=.071428*t+"px "+x,d?"type2"===c.type?(e.textAlign="right",e.fillText(n,.36*t,.79*o,.25*t)):e.fillText(n,.63*t,.85*o,.2*t):(e.textAlign="center","type2"===c.type?e.fillText(n,t/2,.92*o,.2*t):e.fillText(n,t/2,.89*o,.2*t))):(e.font=.035*t+"px "+x,e.fillText(i,.15*t,.25*o,.3*t),e.font=.025*t+"px "+x,e.fillText(n,.0625*t,.7*o,.07*t)),e.restore()},le=l(12,12,function(e){var t,r=e.canvas.width,o=e.canvas.height,i=0,n=0;e.save(),e.save(),e.beginPath(),e.rect(0,0,.5*r,.5*o),e.closePath(),e.restore(),t=e.createLinearGradient(0,n*o,0,.5*o+n*o),t.addColorStop(0,"rgb(35, 35, 35)"),t.addColorStop(1,"rgb(23, 23, 23)"),e.fillStyle=t,e.fill(),e.save(),e.beginPath(),e.rect(.083333*r,0,.333333*r,.416666*o),e.closePath(),e.restore(),i=.083333,n=0,t=e.createLinearGradient(0,n*o,0,.416666*o+n*o),t.addColorStop(0,"rgb(38, 38, 38)"),t.addColorStop(1,"rgb(30, 30, 30)"),e.fillStyle=t,e.fill(),e.save(),e.beginPath(),e.rect(.5*r,.5*o,.5*r,.5*o),e.closePath(),e.restore(),i=.5,n=.5,t=e.createLinearGradient(0,n*o,0,.5*o+n*o),t.addColorStop(0,"rgb(35, 35, 35)"),t.addColorStop(1,"rgb(23, 23, 23)"),e.fillStyle=t,e.fill(),e.save(),e.beginPath(),e.rect(.583333*r,.5*o,.333333*r,.416666*o),e.closePath(),e.restore(),i=.583333,n=.5,t=e.createLinearGradient(0,n*o,0,.416666*o+n*o),t.addColorStop(0,"rgb(38, 38, 38)"),t.addColorStop(1,"rgb(30, 30, 30)"),e.fillStyle=t,e.fill(),e.save(),e.beginPath(),e.rect(.5*r,0,.5*r,.5*o),e.closePath(),e.restore(),i=.5,n=0,t=e.createLinearGradient(0,n*o,0,.5*o+n*o),t.addColorStop(0,"#303030"),t.addColorStop(1,"rgb(40, 40, 40)"),e.fillStyle=t,e.fill(),e.save(),e.beginPath(),e.rect(.583333*r,.083333*o,.333333*r,.416666*o),e.closePath(),e.restore(),i=.583333,n=.083333,t=e.createLinearGradient(0,n*o,0,.416666*o+n*o),t.addColorStop(0,"rgb(53, 53, 53)"),t.addColorStop(1,"rgb(45, 45, 45)"),e.fillStyle=t,e.fill(),e.save(),e.beginPath(),e.rect(0,.5*o,.5*r,.5*o),e.closePath(),e.restore(),i=0,n=.5,t=e.createLinearGradient(0,n*o,0,.5*o+n*o),t.addColorStop(0,"#303030"),t.addColorStop(1,"#282828"),e.fillStyle=t,e.fill(),e.save(),e.beginPath(),e.rect(.083333*r,.583333*o,.333333*r,.416666*o),e.closePath(),e.restore(),i=.083333,n=.583333,t=e.createLinearGradient(0,n*o,0,.416666*o+n*o),t.addColorStop(0,"#353535"),t.addColorStop(1,"#2d2d2d"),e.fillStyle=t,e.fill(),e.restore()}),se=l(15,15,function(e){var t,r=e.canvas.width,o=e.canvas.height;e.save(),e.save(),e.beginPath(),e.rect(0,0,r,o),e.closePath(),e.restore(),e.fillStyle="#1D2123",e.fill(),e.save(),e.beginPath(),e.moveTo(0,.266666*o),e.bezierCurveTo(0,.4*o,.066666*r,.466666*o,.2*r,.466666*o),e.bezierCurveTo(.333333*r,.466666*o,.4*r,.4*o,.4*r,.266666*o),e.bezierCurveTo(.4*r,.133333*o,.333333*r,.066666*o,.2*r,.066666*o),e.bezierCurveTo(.066666*r,.066666*o,0,.133333*o,0,.266666*o),e.closePath(),t=e.createLinearGradient(0,.066666*o,0,.466666*o),t.addColorStop(0,"#000000"),t.addColorStop(1,"#444444"),e.fillStyle=t,e.fill(),e.save(),e.beginPath(),e.moveTo(0,.2*o),e.bezierCurveTo(0,.333333*o,.066666*r,.4*o,.2*r,.4*o),e.bezierCurveTo(.333333*r,.4*o,.4*r,.333333*o,.4*r,.2*o),e.bezierCurveTo(.4*r,.066666*o,.333333*r,0,.2*r,0),e.bezierCurveTo(.066666*r,0,0,.066666*o,0,.2*o),e.closePath(),e.fillStyle="#050506",e.fill(),e.save(),e.beginPath(),e.moveTo(.466666*r,.733333*o),e.bezierCurveTo(.466666*r,.866666*o,.533333*r,.933333*o,.666666*r,.933333*o),e.bezierCurveTo(.8*r,.933333*o,.866666*r,.866666*o,.866666*r,.733333*o),e.bezierCurveTo(.866666*r,.6*o,.8*r,.533333*o,.666666*r,.533333*o),e.bezierCurveTo(.533333*r,.533333*o,.466666*r,.6*o,.466666*r,.733333*o),e.closePath(),t=e.createLinearGradient(0,.533333*o,0,.933333*o),t.addColorStop(0,"#000000"),t.addColorStop(1,"#444444"),e.fillStyle=t,e.fill(),e.save(),e.beginPath(),e.moveTo(.466666*r,.666666*o),e.bezierCurveTo(.466666*r,.8*o,.533333*r,.866666*o,.666666*r,.866666*o),e.bezierCurveTo(.8*r,.866666*o,.866666*r,.8*o,.866666*r,.666666*o),e.bezierCurveTo(.866666*r,.533333*o,.8*r,.466666*o,.666666*r,.466666*o),e.bezierCurveTo(.533333*r,.466666*o,.466666*r,.533333*o,.466666*r,.666666*o),e.closePath(),e.fillStyle="#050506",e.fill(),e.restore()}),de=function(e,t,r,o,i){function n(e,t){return e+=(2*Math.random()-1)*t|0,0>e?0:e>255?255:e}function l(e){return 0>e?0:e>255?255:e}function s(e,t,r,o,i,n){var a,l,s,d,c,u,h,f;for(i>=r&&(i=r-1),d=1/(2*i+1),c=0,l=0;o>l;l++){for(u=h=f=0,a=0;i>a;a++)s=4*(c+a),u+=e.data[s],h+=e.data[s+1],f+=e.data[s+2];for(a=0;r>a;a++)a>i&&(s=4*(c-i-1),u-=e.data[s],h-=e.data[s+1],f-=e.data[s+2]),r>a+i&&(s=4*(c+i),u+=e.data[s],h+=e.data[s+1],f+=e.data[s+2]),s=4*c,t.data[s]=u*d|0,t.data[s+1]=h*d|0,t.data[s+2]=f*d|0,t.data[s+3]=n,c++}}return this.fill=function(d,c,u,h){var f,p,g,v,b,C,m,y,S,w,_,k,x,P,E,R,F,A,D=255,L=e>>16&255,M=e>>8&255,j=255&e,I=0,V=255*r;if(d=Math.floor(d),c=Math.floor(c),u=Math.ceil(u),h=Math.ceil(h),b=u-d,C=h-c,m=a(b,C),y=m.getContext("2d"),S=y.createImageData(b,C),w=y.createImageData(b,C),0!==i)for(v=[],f=0;b>f;f++)v[f]=255*i*Math.sin(f/b*T)|0;for(g=0;C>g;g++)for(0!==t&&(_=k=x=0),p=0;b>p;p++)P=g*b*4+4*p,E=L,R=M,F=j,0!==i&&(A=v[p],E+=A,R+=A,F+=A),o?(I=(2*Math.random()-1)*V|0,S.data[P]=l(E+I),S.data[P+1]=l(R+I),S.data[P+2]=l(F+I),S.data[P+3]=D):(S.data[P]=n(E,V),S.data[P+1]=n(R,V),S.data[P+2]=n(F,V),S.data[P+3]=D);return t>0?(s(S,w,b,C,t,D),y.putImageData(w,d,c)):y.putImageData(S,d,c),m},this},ce=function(e,t,r,o){function i(){n=f(e,255),a=f(t,255),l=f(r,255),s=f(o,1)}var n,a,l,s;1===arguments.length?(r=parseInt(e.substr(5,2),16),t=parseInt(e.substr(3,2),16),e=parseInt(e.substr(1,2),16),o=1):3===arguments.length&&(o=1),i(),this.getRed=function(){return n},this.setRed=function(e){n=f(e,255)},this.getGreen=function(){return a},this.setGreen=function(e){a=f(e,255)},this.getBlue=function(){return l},this.setBlue=function(e){l=f(e,255)},this.getAlpha=function(){return s},this.setAlpha=function(e){s=f(e,1)},this.getRgbaColor=function(){return"rgba("+n+", "+a+", "+l+", "+s+")"},this.getRgbColor=function(){return"rgb("+n+", "+a+", "+l+")"},this.getHexColor=function(){return"#"+n.toString(16)+a.toString(16)+l.toString(16)}},ue=function(e,r){var o,i=e.length-1;for(o=0;i>=o;o++)e[o]=y*e[o]-T;this.fillCircle=function(n,l,s,d,c){var u,h,f,p,g,v,b,C,m,y,T,S,w,_=Math.ceil(c),k=2*_;for(h=n.createImageData(k,k),f=255,g=0;k>g;g++)for(b=_-g,C=b*b,p=0;k>p;p++)if(v=p-_,m=Math.sqrt(v*v+C),_>=m&&m>=d){for(u=Math.atan2(v,b),o=0;i>o;o++)u>=e[o]&&u<e[o+1]&&(T=t(r[o],r[o+1],e[o+1]-e[o],u-e[o],!0));y=(k-g)*k*4+4*p,h.data[y]=T[0],h.data[y+1]=T[1],h.data[y+2]=T[2],h.data[y+3]=f}S=a(k,k),w=S.getContext("2d"),w.putImageData(h,0,0),n.drawImage(S,l-_,s-_)},this.fillRect=function(n,l,s,d,c,u,h){var f,p,g,v,b,C,m,y,T,S,w,_,k;for(d=Math.ceil(d),c=Math.ceil(c),p=d/2,g=c/2,u=Math.ceil(u),h=Math.ceil(h),v=n.createImageData(d,c),b=255,m=0;c>m;m++)for(T=g-m,C=0;d>C;C++){for(m>h&&c-h>m&&C>u&&d-u>C&&(C=d-u),y=C-p,f=Math.atan2(y,T),o=0;i>o;o++)f>=e[o]&&f<e[o+1]&&(w=t(r[o],r[o+1],e[o+1]-e[o],f-e[o],!0));S=(c-m)*d*4+4*C,v.data[S]=w[0],v.data[S+1]=w[0],v.data[S+2]=w[0],v.data[S+3]=b}_=a(d,c),k=_.getContext("2d"),k.putImageData(v,0,0),n.drawImage(_,l-p,s-g)}},he=function(e,r,o,i){this.getColorAt=function(e){var r,n,a=0,l=0,s=1,d=1;for(e=0>e?0:e>1?1:e,r=0;r<o.length;r++){if(o[r]<e&&a<o[r]&&(a=o[r],l=r),o[r]===e)return i[r];o[r]>e&&s>=o[r]&&(s=o[r],d=r)}return n=(e-a)/(s-a),t(i[l],i[d],1,n)},this.getStart=function(){return e},this.getEnd=function(){return r}};Math.log10=function(e){return Math.log(e)/Math.LN10};var fe,pe=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout(e,62.5)}}();!function(){fe=function(e,t,r,o,i,n){this.gradientStart=e,this.gradientFraction=t,this.gradientStop=r,this.labelColor=o,this.symbolColor=i,this.name=n}}();var ge;!function(){ge=function(e,t,r,o,i,n){this.gradientStartColor=e,this.gradientFraction1Color=t,this.gradientFraction2Color=r,this.gradientFraction3Color=o,this.gradientStopColor=i,this.textColor=n}}();var ve;!function(){ve=function(e,t,r,o,i,n){this.veryDark=e,this.dark=t,this.medium=r,this.light=o,this.lighter=i,this.veryLight=n}}();var be;!function(){be=function(e,t,r,o,i,n,a){this.innerColor1_ON=e,this.innerColor2_ON=t,this.outerColor_ON=r,this.coronaColor=o,this.innerColor1_OFF=i,this.innerColor2_OFF=n,this.outerColor_OFF=a}}();var Ce;!function(){Ce=function(e){this.type=e}}();var me;!function(){me=function(e){this.type=e}}();var ye;!function(){ye=function(e){this.type=e}}();var Te;!function(){Te=function(e){this.style=e}}();var Se;!function(){Se=function(e){this.design=e}}();var we;!function(){we=function(e){this.type=e}}();var _e;!function(){_e=function(e){this.type=e}}();var ke;!function(){ke=function(e){this.format=e}}();var xe;!function(){xe=function(e){this.type=e}}();var Pe;!function(){Pe=function(e){this.state=e}}();var Ee={DARK_GRAY:new fe(new ce(0,0,0,1),new ce(51,51,51,1),new ce(153,153,153,1),new ce(255,255,255,1),new ce(180,180,180,1),"DARK_GRAY"),SATIN_GRAY:new fe(new ce(45,57,57,1),new ce(45,57,57,1),new ce(45,57,57,1),new ce(167,184,180,1),new ce(137,154,150,1),"SATIN_GRAY"),LIGHT_GRAY:new fe(new ce(130,130,130,1),new ce(181,181,181,1),new ce(253,253,253,1),new ce(0,0,0,1),new ce(80,80,80,1),"LIGHT_GRAY"),WHITE:new fe(new ce(255,255,255,1),new ce(255,255,255,1),new ce(255,255,255,1),new ce(0,0,0,1),new ce(80,80,80,1),"WHITE"),BLACK:new fe(new ce(0,0,0,1),new ce(0,0,0,1),new ce(0,0,0,1),new ce(255,255,255,1),new ce(150,150,150,1),"BLACK"),BEIGE:new fe(new ce(178,172,150,1),new ce(204,205,184,1),new ce(231,231,214,1),new ce(0,0,0,1),new ce(80,80,80,1),"BEIGE"),BROWN:new fe(new ce(245,225,193,1),new ce(245,225,193,1),new ce(255,250,240,1),new ce(109,73,47,1),new ce(89,53,27,1),"BROWN"),RED:new fe(new ce(198,93,95,1),new ce(212,132,134,1),new ce(242,218,218,1),new ce(0,0,0,1),new ce(90,0,0,1),"RED"),GREEN:new fe(new ce(65,120,40,1),new ce(129,171,95,1),new ce(218,237,202,1),new ce(0,0,0,1),new ce(0,90,0,1),"GREEN"),BLUE:new fe(new ce(45,83,122,1),new ce(115,144,170,1),new ce(227,234,238,1),new ce(0,0,0,1),new ce(0,0,90,1),"BLUE"),ANTHRACITE:new fe(new ce(50,50,54,1),new ce(47,47,51,1),new ce(69,69,74,1),new ce(250,250,250,1),new ce(180,180,180,1),"ANTHRACITE"),MUD:new fe(new ce(80,86,82,1),new ce(70,76,72,1),new ce(57,62,58,1),new ce(255,255,240,1),new ce(225,225,210,1),"MUD"),PUNCHED_SHEET:new fe(new ce(50,50,54,1),new ce(47,47,51,1),new ce(69,69,74,1),new ce(255,255,255,1),new ce(180,180,180,1),"PUNCHED_SHEET"),CARBON:new fe(new ce(50,50,54,1),new ce(47,47,51,1),new ce(69,69,74,1),new ce(255,255,255,1),new ce(180,180,180,1),"CARBON"),STAINLESS:new fe(new ce(130,130,130,1),new ce(181,181,181,1),new ce(253,253,253,1),new ce(0,0,0,1),new ce(80,80,80,1),"STAINLESS"),BRUSHED_METAL:new fe(new ce(50,50,54,1),new ce(47,47,51,1),new ce(69,69,74,1),new ce(0,0,0,1),new ce(80,80,80,1),"BRUSHED_METAL"),BRUSHED_STAINLESS:new fe(new ce(50,50,54,1),new ce(47,47,51,1),new ce(110,110,112,1),new ce(0,0,0,1),new ce(80,80,80,1),"BRUSHED_STAINLESS"),TURNED:new fe(new ce(130,130,130,1),new ce(181,181,181,1),new ce(253,253,253,1),new ce(0,0,0,1),new ce(80,80,80,1),"TURNED")},Re={BEIGE:new ge("#c8c8b1","rgb(241, 237, 207)","rgb(234, 230, 194)","rgb(225, 220, 183)","rgb(237, 232, 191)","#000000"),BLUE:new ge("#ffffff","rgb(231, 246, 255)","rgb(170, 224, 255)","rgb(136, 212, 255)","rgb(192, 232, 255)","#124564"),ORANGE:new ge("#ffffff","rgb(255, 245, 225)","rgb(255, 217, 147)","rgb(255, 201, 104)","rgb(255, 227, 173)","#503700"),RED:new ge("#ffffff","rgb(255, 225, 225)","rgb(253, 152, 152)","rgb(252, 114, 115)","rgb(254, 178, 178)","#4f0c0e"),YELLOW:new ge("#ffffff","rgb(245, 255, 186)","rgb(210, 255, 0)","rgb(158, 205, 0)","rgb(210, 255, 0)","#405300"),WHITE:new ge("#ffffff","#ffffff","rgb(241, 246, 242)","rgb(229, 239, 244)","#ffffff","#000000"),GRAY:new ge("#414141","rgb(117, 117, 117)","rgb(87, 87, 87)","#414141","rgb(81, 81, 81)","#ffffff"),BLACK:new ge("#414141","#666666","#333333","#000000","#333333","#cccccc"),GREEN:new ge("rgb(33, 67, 67)","rgb(33, 67, 67)","rgb(29, 58, 58)","rgb(28, 57, 57)","rgb(23, 46, 46)","rgba(0, 185, 165, 255)"),BLUE2:new ge("rgb(0, 68, 103)","rgb(8, 109, 165)","rgb(0, 72, 117)","rgb(0, 72, 117)","rgb(0, 68, 103)","rgb(111, 182, 228)"),BLUE_BLACK:new ge("rgb(22, 125, 212)","rgb(3, 162, 254)","rgb(3, 162, 254)","rgb(3, 162, 254)","rgb(11, 172, 244)","#000000"),BLUE_DARKBLUE:new ge("rgb(18, 33, 88)","rgb(18, 33, 88)","rgb(19, 30, 90)","rgb(17, 31, 94)","rgb(21, 25, 90)","rgb(23, 99, 221)"),BLUE_GRAY:new ge("rgb(135, 174, 255)","rgb(101, 159, 255)","rgb(44, 93, 255)","rgb(27, 65, 254)","rgb(12, 50, 255)","#b2b4ed"),STANDARD:new ge("rgb(131, 133, 119)","rgb(176, 183, 167)","rgb(165, 174, 153)","rgb(166, 175, 156)","rgb(175, 184, 165)","rgb(35, 42, 52)"),STANDARD_GREEN:new ge("#ffffff","rgb(219, 230, 220)","rgb(179, 194, 178)","rgb(153, 176, 151)","rgb(114, 138, 109)","#080C06"),BLUE_BLUE:new ge("rgb(100, 168, 253)","rgb(100, 168, 253)","rgb(95, 160, 250)","rgb(80, 144, 252)","rgb(74, 134, 255)","#002cbb"),RED_DARKRED:new ge("rgb(72, 36, 50)","rgb(185, 111, 110)","rgb(148, 66, 72)","rgb(83, 19, 20)","rgb(7, 6, 14)","#FE8B92"),DARKBLUE:new ge("rgb(14, 24, 31)","rgb(46, 105, 144)","rgb(19, 64, 96)","rgb(6, 20, 29)","rgb(8, 9, 10)","#3DB3FF"),LILA:new ge("rgb(175, 164, 255)","rgb(188, 168, 253)","rgb(176, 159, 255)","rgb(174, 147, 252)","rgb(168, 136, 233)","#076148"),BLACKRED:new ge("rgb(8, 12, 11)","rgb(10, 11, 13)","rgb(11, 10, 15)","rgb(7, 13, 9)","rgb(9, 13, 14)","#B50026"),DARKGREEN:new ge("rgb(25, 85, 0)","rgb(47, 154, 0)","rgb(30, 101, 0)","rgb(30, 101, 0)","rgb(25, 85, 0)","#233123"),AMBER:new ge("rgb(182, 71, 0)","rgb(236, 155, 25)","rgb(212, 93, 5)","rgb(212, 93, 5)","rgb(182, 71, 0)","#593A0A"),LIGHTBLUE:new ge("rgb(125, 146, 184)","rgb(197, 212, 231)","rgb(138, 155, 194)","rgb(138, 155, 194)","rgb(125, 146, 184)","#090051"),SECTIONS:new ge("#b2b2b2","#ffffff","#c4c4c4","#c4c4c4","#b2b2b2","#000000")},Fe={RED:new ve(new ce(82,0,0,1),new ce(158,0,19,1),new ce(213,0,25,1),new ce(240,82,88,1),new ce(255,171,173,1),new ce(255,217,218,1)),GREEN:new ve(new ce(8,54,4,1),new ce(0,107,14,1),new ce(15,148,0,1),new ce(121,186,37,1),new ce(190,231,141,1),new ce(234,247,218,1)),BLUE:new ve(new ce(0,11,68,1),new ce(0,73,135,1),new ce(0,108,201,1),new ce(0,141,242,1),new ce(122,200,255,1),new ce(204,236,255,1)),ORANGE:new ve(new ce(118,83,30,1),new ce(215,67,0,1),new ce(240,117,0,1),new ce(255,166,0,1),new ce(255,255,128,1),new ce(255,247,194,1)),YELLOW:new ve(new ce(41,41,0,1),new ce(102,102,0,1),new ce(177,165,0,1),new ce(255,242,0,1),new ce(255,250,153,1),new ce(255,252,204,1)),CYAN:new ve(new ce(15,109,109,1),new ce(0,109,144,1),new ce(0,144,191,1),new ce(0,174,239,1),new ce(153,223,249,1),new ce(204,239,252,1)),MAGENTA:new ve(new ce(98,0,114,1),new ce(128,24,72,1),new ce(191,36,107,1),new ce(255,48,143,1),new ce(255,172,210,1),new ce(255,214,23,1)),WHITE:new ve(new ce(210,210,210,1),new ce(220,220,220,1),new ce(235,235,235,1),new ce(255,255,255,1),new ce(255,255,255,1),new ce(255,255,255,1)),GRAY:new ve(new ce(25,25,25,1),new ce(51,51,51,1),new ce(76,76,76,1),new ce(128,128,128,1),new ce(204,204,204,1),new ce(243,243,243,1)),BLACK:new ve(new ce(0,0,0,1),new ce(5,5,5,1),new ce(10,10,10,1),new ce(15,15,15,1),new ce(20,20,20,1),new ce(25,25,25,1)),RAITH:new ve(new ce(0,32,65,1),new ce(0,65,125,1),new ce(0,106,172,1),new ce(130,180,214,1),new ce(148,203,242,1),new ce(191,229,255,1)),GREEN_LCD:new ve(new ce(0,55,45,1),new ce(15,109,93,1),new ce(0,185,165,1),new ce(48,255,204,1),new ce(153,255,227,1),new ce(204,255,241,1)),JUG_GREEN:new ve(new ce(0,56,0,1),new ce(32,69,36,1),new ce(50,161,0,1),new ce(129,206,0,1),new ce(190,231,141,1),new ce(234,247,218,1))},Ae={RED_LED:new be("#FF9A89","#FF9A89","#FF3300","#FF8D70","#7E1C00","#7E1C00","#641B00"),GREEN_LED:new be("#9AFF89","#9AFF89","#59FF2A","#A5FF00","#1C7E00","#1C7E00","#1B6400"),BLUE_LED:new be("#899AFF","#899AFF","#0033FF","#708DFF","#001C7E","#001C7E","#001B64"),ORANGE_LED:new be("#FEA23F","#FEA23F","#FD6C00","#FD6C00","#592800","#592800","#421F00"),YELLOW_LED:new be("#FFFF62","#FFFF62","#FFFF00","#FFFF00","#6B6D00","#6B6D00","#515300"),CYAN_LED:new be("#00FFFF","#00FFFF","#1BC3C3","#00FFFF","#083B3B","#083B3B","#052727"),MAGENTA_LED:new be("#D300FF","#D300FF","#8600CB","#C300FF","#38004B","#38004B","#280035")},De={TYPE1:new Ce("type1"),TYPE2:new Ce("type2"),TYPE3:new Ce("type3"),TYPE4:new Ce("type4"),TYPE5:new Ce("type5")},Le={NORTH:new me("north"),SOUTH:new me("south"),EAST:new me("east"),WEST:new me("west")},Me={STANDARD_KNOB:new ye("standardKnob"),METAL_KNOB:new ye("metalKnob")},je={BLACK:new Te("black"),BRASS:new Te("brass"),SILVER:new Te("silver")},Ie={BLACK_METAL:new Se("blackMetal"),METAL:new Se("metal"),SHINY_METAL:new Se("shinyMetal"),BRASS:new Se("brass"),STEEL:new Se("steel"),CHROME:new Se("chrome"),GOLD:new Se("gold"),ANTHRACITE:new Se("anthracite"),TILTED_GRAY:new Se("tiltedGray"),TILTED_BLACK:new Se("tiltedBlack"),GLOSSY_METAL:new Se("glossyMetal")},Ve={TYPE1:new we("type1"),TYPE2:new we("type2"),TYPE3:new we("type3"),TYPE4:new we("type4"),TYPE5:new we("type5"),TYPE6:new we("type6"),TYPE7:new we("type7"),TYPE8:new we("type8"),TYPE9:new we("type9"),TYPE10:new we("type10"),TYPE11:new we("type11"),TYPE12:new we("type12"),TYPE13:new we("type13"),TYPE14:new we("type14"),TYPE15:new we("type15"),TYPE16:new we("type16")},Oe={TYPE1:new _e("type1"),TYPE2:new _e("type2"),TYPE3:new _e("type3"),TYPE4:new _e("type4"),TYPE5:new _e("type5")},ze={STANDARD:new ke("standard"),FRACTIONAL:new ke("fractional"),SCIENTIFIC:new ke("scientific")},Ge={NORMAL:new xe("normal"),HORIZONTAL:new xe("horizontal"),TANGENT:new xe("tangent")},Be={UP:new Pe("up"),STEADY:new Pe("steady"),DOWN:new Pe("down"),OFF:new Pe("off")};return{Radial:P,RadialBargraph:E,RadialVertical:R,Linear:F,LinearBargraph:A,DisplaySingle:D,DisplayMulti:L,Level:M,Compass:j,WindDirection:I,Horizon:V,Led:O,Clock:z,Battery:G,StopWatch:B,Altimeter:N,TrafficLight:H,LightBulb:U,Odometer:Y,drawFrame:q,drawBackground:X,drawForeground:Z,rgbaColor:ce,ConicalGradient:ue,setAlpha:e,getColorFromFraction:t,gradientWrapper:he,BackgroundColor:Ee,LcdColor:Re,ColorDef:Fe,LedColor:Ae,GaugeType:De,Orientation:Le,FrameDesign:Ie,PointerType:Ve,ForegroundType:Oe,KnobType:Me,KnobStyle:je,LabelNumberFormat:ze,TickLabelOrientation:Ge,TrendState:Be,Section:o}}();e.exports=r},function(e,t,r){function o(e,t){this.host=e,this.port=t}var i=r(10),n=r(15),a=r(7)("signalk:client"),l=r(6),s=r(11)(r(12),l);r(18).inherits(o,i),o.prototype.get=function(e){return s("GET","http://"+this.host+":"+this.port+"/signalk/v1/api"+e).then(function(e){return e.res.body})},o.prototype.connect=function(e){a("connect");var t=this.host,r=this.port;return e&&(t=e.host||t,r=e.port||r),t&&r?this.connectDelta(e.host+":"+e.port,e.onData,e.onConnect,e.onDisconnect,e.onError):this.discoverAndConnect(e)},o.prototype.discoverAndConnect=function(e){a("discoverAndConnect");var t=this;try{var o=r(!function(){var e=new Error('Cannot find module "mdns"');throw e.code="MODULE_NOT_FOUND",e}())}catch(i){return void console.log("Discovery requires mdns, please install it with 'npm install mdns' or specify host and port")}return new l(function(e,t){var r=o.createBrowser(o.tcp("signalk-ws"));r.on("serviceUp",function(t){a("Discovered signalk-ws with txtRecord:"+JSON.stringify(t.txtRecord,null,2)),e(t)}),a("Starting mdns discovery"),r.start()}).then(function(r){return t.host=r.host,t.port=r.port,a("Discovered "+t.host+":"+t.port),t.emit("discovery",r),t.connectDelta(r.host+":"+r.port,e.onData,e.onConnect,e.onDisconnect,e.onError)})},o.prototype.connectDelta=function(e,t,r,o,i){a("Connecting to "+e);var l="ws://"+e+"/signalk/v1/stream?stream=delta&context=self";if("undefined"!=typeof Primus){a("Using Primus");var s=Primus.connect(l,{reconnect:{maxDelay:15e3,minDelay:500,retries:1/0}});return s.on("data",t),{disconnect:function(){s.destroy(),a("Disconnected")}}}a("Using ws");var d=new n(l);return d.onopen=function(e){if(a("open"),r)r(d);else{var t='{"context":"vessels.self","subscribe":[{"path":"*"}]}';d.send(t)}},d.onerror=function(e){a("error:"+e),i&&i(e)},d.onmessage=function(e){t(JSON.parse(e.data))},{disconnect:function(){d.close(),a("Disconnected")}}},o.prototype.getSelf=function(e){return s("GET","http://"+(e||this.host+":"+this.port)+"/signalk/v1/api/vessels/self")},o.prototype.getSelfMatcher=function(e){return this.getSelf(e||this.host+":"+this.port).then(function(e){var t=e.body,r=t.mmsi||t.uuid;if(r){var o="vessels."+r;return function(e){return"self"===e.context||"vessels.self"===e.context||e.context===o}}return function(e){return!0}})},e.exports={Client:o}},function(e,t,r){
(function(t,r,o){/* @preserve
	 * The MIT License (MIT)
	 * 
	 * Copyright (c) 2013-2015 Petka Antonov
	 * 
	 * Permission is hereby granted, free of charge, to any person obtaining a copy
	 * of this software and associated documentation files (the "Software"), to deal
	 * in the Software without restriction, including without limitation the rights
	 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
	 * copies of the Software, and to permit persons to whom the Software is
	 * furnished to do so, subject to the following conditions:
	 * 
	 * The above copyright notice and this permission notice shall be included in
	 * all copies or substantial portions of the Software.
	 * 
	 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
	 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
	 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.  IN NO EVENT SHALL THE
	 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
	 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
	 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
	 * THE SOFTWARE.
	 * 
	 */
!function(t){e.exports=t()}(function(){var e,i,n;return function a(e,t,r){function o(n,l){if(!t[n]){if(!e[n]){var s="function"==typeof _dereq_&&_dereq_;if(!l&&s)return s(n,!0);if(i)return i(n,!0);var d=new Error("Cannot find module '"+n+"'");throw d.code="MODULE_NOT_FOUND",d}var c=t[n]={exports:{}};e[n][0].call(c.exports,function(t){var r=e[n][1][t];return o(r?r:t)},c,c.exports,a,e,t,r)}return t[n].exports}for(var i="function"==typeof _dereq_&&_dereq_,n=0;n<r.length;n++)o(r[n]);return o}({1:[function(e,t,r){"use strict";t.exports=function(e){function t(e){var t=new r(e),o=t.promise();return t.setHowMany(1),t.setUnwrap(),t.init(),o}var r=e._SomePromiseArray;e.any=function(e){return t(e)},e.prototype.any=function(){return t(this)}}},{}],2:[function(e,t,r){"use strict";function o(){this._isTickUsed=!1,this._lateQueue=new c(16),this._normalQueue=new c(16),this._trampolineEnabled=!0;var e=this;this.drainQueues=function(){e._drainQueues()},this._schedule=d.isStatic?d(this.drainQueues):d}function i(e,t,r){this._lateQueue.push(e,t,r),this._queueTick()}function n(e,t,r){this._normalQueue.push(e,t,r),this._queueTick()}function a(e){this._normalQueue._pushOne(e),this._queueTick()}var l;try{throw new Error}catch(s){l=s}var d=e("./schedule.js"),c=e("./queue.js"),u=e("./util.js");o.prototype.disableTrampolineIfNecessary=function(){u.hasDevTools&&(this._trampolineEnabled=!1)},o.prototype.enableTrampoline=function(){this._trampolineEnabled||(this._trampolineEnabled=!0,this._schedule=function(e){setTimeout(e,0)})},o.prototype.haveItemsQueued=function(){return this._normalQueue.length()>0},o.prototype.throwLater=function(e,t){if(1===arguments.length&&(t=e,e=function(){throw t}),"undefined"!=typeof setTimeout)setTimeout(function(){e(t)},0);else try{this._schedule(function(){e(t)})}catch(r){throw new Error("No async scheduler available\n\n    See http://goo.gl/m3OTXk\n")}},u.hasDevTools?(d.isStatic&&(d=function(e){setTimeout(e,0)}),o.prototype.invokeLater=function(e,t,r){this._trampolineEnabled?i.call(this,e,t,r):this._schedule(function(){setTimeout(function(){e.call(t,r)},100)})},o.prototype.invoke=function(e,t,r){this._trampolineEnabled?n.call(this,e,t,r):this._schedule(function(){e.call(t,r)})},o.prototype.settlePromises=function(e){this._trampolineEnabled?a.call(this,e):this._schedule(function(){e._settlePromises()})}):(o.prototype.invokeLater=i,o.prototype.invoke=n,o.prototype.settlePromises=a),o.prototype.invokeFirst=function(e,t,r){this._normalQueue.unshift(e,t,r),this._queueTick()},o.prototype._drainQueue=function(e){for(;e.length()>0;){var t=e.shift();if("function"==typeof t){var r=e.shift(),o=e.shift();t.call(r,o)}else t._settlePromises()}},o.prototype._drainQueues=function(){this._drainQueue(this._normalQueue),this._reset(),this._drainQueue(this._lateQueue)},o.prototype._queueTick=function(){this._isTickUsed||(this._isTickUsed=!0,this._schedule(this.drainQueues))},o.prototype._reset=function(){this._isTickUsed=!1},t.exports=new o,t.exports.firstLineError=l},{"./queue.js":28,"./schedule.js":31,"./util.js":38}],3:[function(e,t,r){"use strict";t.exports=function(e,t,r){var o=function(e,t){this._reject(t)},i=function(e,t){t.promiseRejectionQueued=!0,t.bindingPromise._then(o,o,null,this,e)},n=function(e,t){this._isPending()&&this._resolveCallback(t.target)},a=function(e,t){t.promiseRejectionQueued||this._reject(e)};e.prototype.bind=function(o){var l=r(o),s=new e(t);s._propagateFrom(this,1);var d=this._target();if(s._setBoundTo(l),l instanceof e){var c={promiseRejectionQueued:!1,promise:s,target:d,bindingPromise:l};d._then(t,i,s._progress,s,c),l._then(n,a,s._progress,s,c)}else s._resolveCallback(d);return s},e.prototype._setBoundTo=function(e){void 0!==e?(this._bitField=131072|this._bitField,this._boundTo=e):this._bitField=-131073&this._bitField},e.prototype._isBound=function(){return 131072===(131072&this._bitField)},e.bind=function(o,i){var n=r(o),a=new e(t);return a._setBoundTo(n),n instanceof e?n._then(function(){a._resolveCallback(i)},a._reject,a._progress,a,null):a._resolveCallback(i),a}}},{}],4:[function(e,t,r){"use strict";function o(){try{Promise===n&&(Promise=i)}catch(e){}return n}var i;"undefined"!=typeof Promise&&(i=Promise);var n=e("./promise.js")();n.noConflict=o,t.exports=n},{"./promise.js":23}],5:[function(e,t,r){"use strict";var o=Object.create;if(o){var i=o(null),n=o(null);i[" size"]=n[" size"]=0}t.exports=function(t){function r(e,r){var o;if(null!=e&&(o=e[r]),"function"!=typeof o){var i="Object "+l.classString(e)+" has no method '"+l.toString(r)+"'";throw new t.TypeError(i)}return o}function o(e){var t=this.pop(),o=r(e,t);return o.apply(e,this)}function i(e){return e[this]}function n(e){var t=+this;return 0>t&&(t=Math.max(0,t+e.length)),e[t]}var a,l=e("./util.js"),s=l.canEvaluate;l.isIdentifier;t.prototype.call=function(e){for(var t=arguments.length,r=new Array(t-1),i=1;t>i;++i)r[i-1]=arguments[i];return r.push(e),this._then(o,void 0,void 0,r,void 0)},t.prototype.get=function(e){var t,r="number"==typeof e;if(r)t=n;else if(s){var o=a(e);t=null!==o?o:i}else t=i;return this._then(t,void 0,void 0,e,void 0)}}},{"./util.js":38}],6:[function(e,t,r){"use strict";t.exports=function(t){var r=e("./errors.js"),o=e("./async.js"),i=r.CancellationError;t.prototype._cancel=function(e){if(!this.isCancellable())return this;for(var t,r=this;void 0!==(t=r._cancellationParent)&&t.isCancellable();)r=t;this._unsetCancellable(),r._target()._rejectCallback(e,!1,!0)},t.prototype.cancel=function(e){return this.isCancellable()?(void 0===e&&(e=new i),o.invokeLater(this._cancel,this,e),this):this},t.prototype.cancellable=function(){return this._cancellable()?this:(o.enableTrampoline(),this._setCancellable(),this._cancellationParent=void 0,this)},t.prototype.uncancellable=function(){var e=this.then();return e._unsetCancellable(),e},t.prototype.fork=function(e,t,r){var o=this._then(e,t,r,void 0,void 0);return o._setCancellable(),o._cancellationParent=void 0,o}}},{"./async.js":2,"./errors.js":13}],7:[function(e,r,o){"use strict";r.exports=function(){function r(e){this._parent=e;var t=this._length=1+(void 0===e?0:e._length);T(this,r),t>32&&this.uncycle()}function o(e,t){for(var r=0;r<t.length-1;++r)t[r].push("From previous event:"),t[r]=t[r].join("\n");return r<t.length&&(t[r]=t[r].join("\n")),e+"\n"+t.join("\n")}function i(e){for(var t=0;t<e.length;++t)(0===e[t].length||t+1<e.length&&e[t][0]===e[t+1][0])&&(e.splice(t,1),t--)}function n(e){for(var t=e[0],r=1;r<e.length;++r){for(var o=e[r],i=t.length-1,n=t[i],a=-1,l=o.length-1;l>=0;--l)if(o[l]===n){a=l;break}for(var l=a;l>=0;--l){var s=o[l];if(t[i]!==s)break;t.pop(),i--}t=o}}function a(e){for(var t=[],r=0;r<e.length;++r){var o=e[r],i=g.test(o)||"    (No stack trace)"===o,n=i&&C(o);i&&!n&&(b&&" "!==o.charAt(0)&&(o="    "+o),t.push(o))}return t}function l(e){for(var t=e.stack.replace(/\s+$/g,"").split("\n"),r=0;r<t.length;++r){var o=t[r];if("    (No stack trace)"===o||g.test(o))break}return r>0&&(t=t.slice(r)),t}function s(e){var t;if("function"==typeof e)t="[function "+(e.name||"anonymous")+"]";else{t=e.toString();var r=/\[object [a-zA-Z0-9$_]+\]/;if(r.test(t))try{var o=JSON.stringify(e);t=o}catch(i){}0===t.length&&(t="(empty array)")}return"(<"+d(t)+">, no stack trace)"}function d(e){var t=41;return e.length<t?e:e.substr(0,t-3)+"..."}function c(e){var t=e.match(m);return t?{fileName:t[1],line:parseInt(t[2],10)}:void 0}var u,h=e("./async.js"),f=e("./util.js"),p=/[\\\/]bluebird[\\\/]js[\\\/](main|debug|zalgo|instrumented)/,g=null,v=null,b=!1;f.inherits(r,Error),r.prototype.uncycle=function(){var e=this._length;if(!(2>e)){for(var t=[],r={},o=0,i=this;void 0!==i;++o)t.push(i),i=i._parent;e=this._length=o;for(var o=e-1;o>=0;--o){var n=t[o].stack;void 0===r[n]&&(r[n]=o)}for(var o=0;e>o;++o){var a=t[o].stack,l=r[a];if(void 0!==l&&l!==o){l>0&&(t[l-1]._parent=void 0,t[l-1]._length=1),t[o]._parent=void 0,t[o]._length=1;var s=o>0?t[o-1]:this;e-1>l?(s._parent=t[l+1],s._parent.uncycle(),s._length=s._parent._length+1):(s._parent=void 0,s._length=1);for(var d=s._length+1,c=o-2;c>=0;--c)t[c]._length=d,d++;return}}}},r.prototype.parent=function(){return this._parent},r.prototype.hasParent=function(){return void 0!==this._parent},r.prototype.attachExtraTrace=function(e){if(!e.__stackCleaned__){this.uncycle();for(var t=r.parseStackAndMessage(e),l=t.message,s=[t.stack],d=this;void 0!==d;)s.push(a(d.stack.split("\n"))),d=d._parent;n(s),i(s),f.notEnumerableProp(e,"stack",o(l,s)),f.notEnumerableProp(e,"__stackCleaned__",!0)}},r.parseStackAndMessage=function(e){var t=e.stack,r=e.toString();return t="string"==typeof t&&t.length>0?l(e):["    (No stack trace)"],{message:r,stack:a(t)}},r.formatAndLogError=function(e,t){if("undefined"!=typeof console){var r;if("object"==typeof e||"function"==typeof e){var o=e.stack;r=t+v(o,e)}else r=t+String(e);"function"==typeof u?u(r):("function"==typeof console.log||"object"==typeof console.log)&&console.log(r)}},r.unhandledRejection=function(e){r.formatAndLogError(e,"^--- With additional stack trace: ")},r.isSupported=function(){return"function"==typeof T},r.fireRejectionEvent=function(e,t,o,i){var n=!1;try{"function"==typeof t&&(n=!0,"rejectionHandled"===e?t(i):t(o,i))}catch(a){h.throwLater(a)}var l=!1;try{l=S(e,o,i)}catch(a){l=!0,h.throwLater(a)}var s=!1;if(y)try{s=y(e.toLowerCase(),{reason:o,promise:i})}catch(a){s=!0,h.throwLater(a)}l||n||s||"unhandledRejection"!==e||r.formatAndLogError(o,"Unhandled rejection ")};var C=function(){return!1},m=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;r.setBounds=function(e,t){if(r.isSupported()){for(var o,i,n=e.stack.split("\n"),a=t.stack.split("\n"),l=-1,s=-1,d=0;d<n.length;++d){var u=c(n[d]);if(u){o=u.fileName,l=u.line;break}}for(var d=0;d<a.length;++d){var u=c(a[d]);if(u){i=u.fileName,s=u.line;break}}0>l||0>s||!o||!i||o!==i||l>=s||(C=function(e){if(p.test(e))return!0;var t=c(e);return t&&t.fileName===o&&l<=t.line&&t.line<=s?!0:!1})}};var y,T=function(){var e=/^\s*at\s*/,t=function(e,t){return"string"==typeof e?e:void 0!==t.name&&void 0!==t.message?t.toString():s(t)};if("number"==typeof Error.stackTraceLimit&&"function"==typeof Error.captureStackTrace){Error.stackTraceLimit=Error.stackTraceLimit+6,g=e,v=t;var r=Error.captureStackTrace;return C=function(e){return p.test(e)},function(e,t){Error.stackTraceLimit=Error.stackTraceLimit+6,r(e,t),Error.stackTraceLimit=Error.stackTraceLimit-6}}var o=new Error;if("string"==typeof o.stack&&o.stack.split("\n")[0].indexOf("stackDetection@")>=0)return g=/@/,v=t,b=!0,function(e){e.stack=(new Error).stack};var i;try{throw new Error}catch(n){i="stack"in n}return"stack"in o||!i||"number"!=typeof Error.stackTraceLimit?(v=function(e,t){return"string"==typeof e?e:"object"!=typeof t&&"function"!=typeof t||void 0===t.name||void 0===t.message?s(t):t.toString()},null):(g=e,v=t,function(e){Error.stackTraceLimit=Error.stackTraceLimit+6;try{throw new Error}catch(t){e.stack=t.stack}Error.stackTraceLimit=Error.stackTraceLimit-6})}([]),S=function(){if(f.isNode)return function(e,r,o){return"rejectionHandled"===e?t.emit(e,o):t.emit(e,r,o)};var e=!1,r=!0;try{var o=new self.CustomEvent("test");e=o instanceof CustomEvent}catch(i){}if(!e)try{var n=document.createEvent("CustomEvent");n.initCustomEvent("testingtheevent",!1,!0,{}),self.dispatchEvent(n)}catch(i){r=!1}r&&(y=function(t,r){var o;return e?o=new self.CustomEvent(t,{detail:r,bubbles:!1,cancelable:!0}):self.dispatchEvent&&(o=document.createEvent("CustomEvent"),o.initCustomEvent(t,!1,!0,r)),o?!self.dispatchEvent(o):!1});var a={};return a.unhandledRejection="onunhandledRejection".toLowerCase(),a.rejectionHandled="onrejectionHandled".toLowerCase(),function(e,t,r){var o=a[e],i=self[o];return i?("rejectionHandled"===e?i.call(self,r):i.call(self,t,r),!0):!1}}();return"undefined"!=typeof console&&"undefined"!=typeof console.warn&&(u=function(e){console.warn(e)},f.isNode&&t.stderr.isTTY?u=function(e){t.stderr.write("[31m"+e+"[39m\n")}:f.isNode||"string"!=typeof(new Error).stack||(u=function(e){console.warn("%c"+e,"color: red")})),r}},{"./async.js":2,"./util.js":38}],8:[function(e,t,r){"use strict";t.exports=function(t){function r(e,t,r){this._instances=e,this._callback=t,this._promise=r}function o(e,t){var r={},o=a(e).call(r,t);if(o===l)return o;var i=s(r);return i.length?(l.e=new d("Catch filter must inherit from Error or be a simple predicate function\n\n    See http://goo.gl/o84o68\n"),l):o}var i=e("./util.js"),n=e("./errors.js"),a=i.tryCatch,l=i.errorObj,s=e("./es5.js").keys,d=n.TypeError;return r.prototype.doFilter=function(e){for(var r=this._callback,i=this._promise,n=i._boundValue(),s=0,d=this._instances.length;d>s;++s){var c=this._instances[s],u=c===Error||null!=c&&c.prototype instanceof Error;if(u&&e instanceof c){var h=a(r).call(n,e);return h===l?(t.e=h.e,t):h}if("function"==typeof c&&!u){var f=o(c,e);if(f===l){e=l.e;break}if(f){var h=a(r).call(n,e);return h===l?(t.e=h.e,t):h}}}return t.e=e,t},r}},{"./errors.js":13,"./es5.js":14,"./util.js":38}],9:[function(e,t,r){"use strict";t.exports=function(e,t,r){function o(){this._trace=new t(n())}function i(){return r()?new o:void 0}function n(){var e=a.length-1;return e>=0?a[e]:void 0}var a=[];return o.prototype._pushContext=function(){r()&&void 0!==this._trace&&a.push(this._trace)},o.prototype._popContext=function(){r()&&void 0!==this._trace&&a.pop()},e.prototype._peekContext=n,e.prototype._pushContext=o.prototype._pushContext,e.prototype._popContext=o.prototype._popContext,i}},{}],10:[function(e,r,o){"use strict";r.exports=function(r,o){var i,n,a=r._getDomain,l=e("./async.js"),s=e("./errors.js").Warning,d=e("./util.js"),c=d.canAttachTrace,u=d.isNode&&(!!t.env.BLUEBIRD_DEBUG||"development"===t.env.NODE_ENV);return d.isNode&&0==t.env.BLUEBIRD_DEBUG&&(u=!1),u&&l.disableTrampolineIfNecessary(),r.prototype._ignoreRejections=function(){this._unsetRejectionIsUnhandled(),this._bitField=16777216|this._bitField},r.prototype._ensurePossibleRejectionHandled=function(){0===(16777216&this._bitField)&&(this._setRejectionIsUnhandled(),l.invokeLater(this._notifyUnhandledRejection,this,void 0))},r.prototype._notifyUnhandledRejectionIsHandled=function(){o.fireRejectionEvent("rejectionHandled",i,void 0,this)},r.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var e=this._getCarriedStackTrace()||this._settledValue;this._setUnhandledRejectionIsNotified(),o.fireRejectionEvent("unhandledRejection",n,e,this)}},r.prototype._setUnhandledRejectionIsNotified=function(){this._bitField=524288|this._bitField},r.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField=-524289&this._bitField},r.prototype._isUnhandledRejectionNotified=function(){return(524288&this._bitField)>0},r.prototype._setRejectionIsUnhandled=function(){this._bitField=2097152|this._bitField},r.prototype._unsetRejectionIsUnhandled=function(){this._bitField=-2097153&this._bitField,this._isUnhandledRejectionNotified()&&(this._unsetUnhandledRejectionIsNotified(),this._notifyUnhandledRejectionIsHandled())},r.prototype._isRejectionUnhandled=function(){return(2097152&this._bitField)>0},r.prototype._setCarriedStackTrace=function(e){this._bitField=1048576|this._bitField,this._fulfillmentHandler0=e},r.prototype._isCarryingStackTrace=function(){return(1048576&this._bitField)>0},r.prototype._getCarriedStackTrace=function(){return this._isCarryingStackTrace()?this._fulfillmentHandler0:void 0},r.prototype._captureStackTrace=function(){return u&&(this._trace=new o(this._peekContext())),this},r.prototype._attachExtraTrace=function(e,t){if(u&&c(e)){var r=this._trace;if(void 0!==r&&t&&(r=r._parent),void 0!==r)r.attachExtraTrace(e);else if(!e.__stackCleaned__){var i=o.parseStackAndMessage(e);d.notEnumerableProp(e,"stack",i.message+"\n"+i.stack.join("\n")),d.notEnumerableProp(e,"__stackCleaned__",!0)}}},r.prototype._warn=function(e){var t=new s(e),r=this._peekContext();if(r)r.attachExtraTrace(t);else{var i=o.parseStackAndMessage(t);t.stack=i.message+"\n"+i.stack.join("\n")}o.formatAndLogError(t,"")},r.onPossiblyUnhandledRejection=function(e){var t=a();n="function"==typeof e?null===t?e:t.bind(e):void 0},r.onUnhandledRejectionHandled=function(e){var t=a();i="function"==typeof e?null===t?e:t.bind(e):void 0},r.longStackTraces=function(){if(l.haveItemsQueued()&&u===!1)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/DT1qyG\n");u=o.isSupported(),u&&l.disableTrampolineIfNecessary()},r.hasLongStackTraces=function(){return u&&o.isSupported()},o.isSupported()||(r.longStackTraces=function(){},u=!1),function(){return u}}},{"./async.js":2,"./errors.js":13,"./util.js":38}],11:[function(e,t,r){"use strict";var o=e("./util.js"),i=o.isPrimitive;t.exports=function(e){var t=function(){return this},r=function(){throw this},o=function(){},n=function(){throw void 0},a=function(e,t){return 1===t?function(){throw e}:2===t?function(){return e}:void 0};e.prototype["return"]=e.prototype.thenReturn=function(r){return void 0===r?this.then(o):i(r)?this._then(a(r,2),void 0,void 0,void 0,void 0):(r instanceof e&&r._ignoreRejections(),this._then(t,void 0,void 0,r,void 0))},e.prototype["throw"]=e.prototype.thenThrow=function(e){return void 0===e?this.then(n):i(e)?this._then(a(e,1),void 0,void 0,void 0,void 0):this._then(r,void 0,void 0,e,void 0)}}},{"./util.js":38}],12:[function(e,t,r){"use strict";t.exports=function(e,t){var r=e.reduce;e.prototype.each=function(e){return r(this,e,null,t)},e.each=function(e,o){return r(e,o,null,t)}}},{}],13:[function(e,t,r){"use strict";function o(e,t){function r(o){return this instanceof r?(u(this,"message","string"==typeof o?o:t),u(this,"name",e),void(Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):Error.call(this))):new r(o)}return c(r,Error),r}function i(e){return this instanceof i?(u(this,"name","OperationalError"),u(this,"message",e),this.cause=e,this.isOperational=!0,void(e instanceof Error?(u(this,"message",e.message),u(this,"stack",e.stack)):Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor))):new i(e)}var n,a,l=e("./es5.js"),s=l.freeze,d=e("./util.js"),c=d.inherits,u=d.notEnumerableProp,h=o("Warning","warning"),f=o("CancellationError","cancellation error"),p=o("TimeoutError","timeout error"),g=o("AggregateError","aggregate error");try{n=TypeError,a=RangeError}catch(v){n=o("TypeError","type error"),a=o("RangeError","range error")}for(var b="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),C=0;C<b.length;++C)"function"==typeof Array.prototype[b[C]]&&(g.prototype[b[C]]=Array.prototype[b[C]]);l.defineProperty(g.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),g.prototype.isOperational=!0;var m=0;g.prototype.toString=function(){var e=Array(4*m+1).join(" "),t="\n"+e+"AggregateError of:\n";m++,e=Array(4*m+1).join(" ");for(var r=0;r<this.length;++r){for(var o=this[r]===this?"[Circular AggregateError]":this[r]+"",i=o.split("\n"),n=0;n<i.length;++n)i[n]=e+i[n];o=i.join("\n"),t+=o+"\n"}return m--,t},c(i,Error);var y=Error.__BluebirdErrorTypes__;y||(y=s({CancellationError:f,TimeoutError:p,OperationalError:i,RejectionError:i,AggregateError:g}),u(Error,"__BluebirdErrorTypes__",y)),t.exports={Error:Error,TypeError:n,RangeError:a,CancellationError:y.CancellationError,OperationalError:y.OperationalError,TimeoutError:y.TimeoutError,AggregateError:y.AggregateError,Warning:h}},{"./es5.js":14,"./util.js":38}],14:[function(e,t,r){var o=function(){"use strict";return void 0===this}();if(o)t.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,getDescriptor:Object.getOwnPropertyDescriptor,keys:Object.keys,names:Object.getOwnPropertyNames,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:o,propertyIsWritable:function(e,t){var r=Object.getOwnPropertyDescriptor(e,t);return!(r&&!r.writable&&!r.set)}};else{var i={}.hasOwnProperty,n={}.toString,a={}.constructor.prototype,l=function(e){var t=[];for(var r in e)i.call(e,r)&&t.push(r);return t},s=function(e,t){return{value:e[t]}},d=function(e,t,r){return e[t]=r.value,e},c=function(e){return e},u=function(e){try{return Object(e).constructor.prototype}catch(t){return a}},h=function(e){try{return"[object Array]"===n.call(e)}catch(t){return!1}};t.exports={isArray:h,keys:l,names:l,defineProperty:d,getDescriptor:s,freeze:c,getPrototypeOf:u,isES5:o,propertyIsWritable:function(){return!0}}}},{}],15:[function(e,t,r){"use strict";t.exports=function(e,t){var r=e.map;e.prototype.filter=function(e,o){return r(this,e,o,t)},e.filter=function(e,o,i){return r(e,o,i,t)}}},{}],16:[function(e,t,r){"use strict";t.exports=function(t,r,o){function i(){return this}function n(){throw this}function a(e){return function(){return e}}function l(e){return function(){throw e}}function s(e,t,r){var o;return o=h(t)?r?a(t):l(t):r?i:n,e._then(o,f,void 0,t,void 0)}function d(e){var i=this.promise,n=this.handler,a=i._isBound()?n.call(i._boundValue()):n();if(void 0!==a){var l=o(a,i);if(l instanceof t)return l=l._target(),s(l,e,i.isFulfilled())}return i.isRejected()?(r.e=e,r):e}function c(e){var r=this.promise,i=this.handler,n=r._isBound()?i.call(r._boundValue(),e):i(e);if(void 0!==n){var a=o(n,r);if(a instanceof t)return a=a._target(),s(a,e,!0)}return e}var u=e("./util.js"),h=u.isPrimitive,f=u.thrower;t.prototype._passThroughHandler=function(e,t){if("function"!=typeof e)return this.then();var r={promise:this,handler:e};return this._then(t?d:c,t?d:void 0,void 0,r,void 0)},t.prototype.lastly=t.prototype["finally"]=function(e){return this._passThroughHandler(e,!0)},t.prototype.tap=function(e){return this._passThroughHandler(e,!1)}}},{"./util.js":38}],17:[function(e,t,r){"use strict";t.exports=function(t,r,o,i){function n(e,r,o){for(var n=0;n<r.length;++n){o._pushContext();var a=u(r[n])(e);if(o._popContext(),a===c){o._pushContext();var l=t.reject(c.e);return o._popContext(),l}var s=i(a,o);if(s instanceof t)return s}return null}function a(e,r,i,n){var a=this._promise=new t(o);a._captureStackTrace(),this._stack=n,this._generatorFunction=e,this._receiver=r,this._generator=void 0,this._yieldHandlers="function"==typeof i?[i].concat(h):h}var l=e("./errors.js"),s=l.TypeError,d=e("./util.js"),c=d.errorObj,u=d.tryCatch,h=[];a.prototype.promise=function(){return this._promise},a.prototype._run=function(){this._generator=this._generatorFunction.call(this._receiver),this._receiver=this._generatorFunction=void 0,this._next(void 0)},a.prototype._continue=function(e){if(e===c)return this._promise._rejectCallback(e.e,!1,!0);var r=e.value;if(e.done===!0)this._promise._resolveCallback(r);else{var o=i(r,this._promise);if(!(o instanceof t)&&(o=n(o,this._yieldHandlers,this._promise),null===o))return void this._throw(new s("A value %s was yielded that could not be treated as a promise\n\n    See http://goo.gl/4Y4pDk\n\n".replace("%s",r)+"From coroutine:\n"+this._stack.split("\n").slice(1,-7).join("\n")));o._then(this._next,this._throw,void 0,this,null)}},a.prototype._throw=function(e){this._promise._attachExtraTrace(e),this._promise._pushContext();var t=u(this._generator["throw"]).call(this._generator,e);this._promise._popContext(),this._continue(t)},a.prototype._next=function(e){this._promise._pushContext();var t=u(this._generator.next).call(this._generator,e);this._promise._popContext(),this._continue(t)},t.coroutine=function(e,t){if("function"!=typeof e)throw new s("generatorFunction must be a function\n\n    See http://goo.gl/6Vqhm0\n");var r=Object(t).yieldHandler,o=a,i=(new Error).stack;return function(){var t=e.apply(this,arguments),n=new o(void 0,void 0,r,i);return n._generator=t,n._next(void 0),n.promise()}},t.coroutine.addYieldHandler=function(e){if("function"!=typeof e)throw new s("fn must be a function\n\n    See http://goo.gl/916lJJ\n");h.push(e)},t.spawn=function(e){if("function"!=typeof e)return r("generatorFunction must be a function\n\n    See http://goo.gl/6Vqhm0\n");var o=new a(e,this),i=o.promise();return o._run(t.spawn),i}}},{"./errors.js":13,"./util.js":38}],18:[function(e,t,r){"use strict";t.exports=function(t,r,o,i){var n=e("./util.js");n.canEvaluate,n.tryCatch,n.errorObj;t.join=function(){var e,t=arguments.length-1;if(t>0&&"function"==typeof arguments[t]){e=arguments[t];var o}for(var i=arguments.length,n=new Array(i),a=0;i>a;++a)n[a]=arguments[a];e&&n.pop();var o=new r(n).promise();return void 0!==e?o.spread(e):o}}},{"./util.js":38}],19:[function(e,t,r){"use strict";t.exports=function(t,r,o,i,n){function a(e,t,r,o){this.constructor$(e),this._promise._captureStackTrace();var i=d();this._callback=null===i?t:i.bind(t),this._preservedValues=o===n?new Array(this.length()):null,this._limit=r,this._inFlight=0,this._queue=r>=1?[]:g,c.invoke(l,this,void 0)}function l(){this._init$(void 0,-2)}function s(e,t,r,o){var i="object"==typeof r&&null!==r?r.concurrency:0;return i="number"==typeof i&&isFinite(i)&&i>=1?i:0,new a(e,t,i,o)}var d=t._getDomain,c=e("./async.js"),u=e("./util.js"),h=u.tryCatch,f=u.errorObj,p={},g=[];u.inherits(a,r),a.prototype._init=function(){},a.prototype._promiseFulfilled=function(e,r){var o=this._values,n=this.length(),a=this._preservedValues,l=this._limit;if(o[r]===p){if(o[r]=e,l>=1&&(this._inFlight--,this._drainQueue(),this._isResolved()))return}else{if(l>=1&&this._inFlight>=l)return o[r]=e,void this._queue.push(r);null!==a&&(a[r]=e);var s=this._callback,d=this._promise._boundValue();this._promise._pushContext();var c=h(s).call(d,e,r,n);if(this._promise._popContext(),c===f)return this._reject(c.e);var u=i(c,this._promise);if(u instanceof t){if(u=u._target(),u._isPending())return l>=1&&this._inFlight++,o[r]=p,u._proxyPromiseArray(this,r);if(!u._isFulfilled())return this._reject(u._reason());c=u._value()}o[r]=c}var g=++this._totalResolved;g>=n&&(null!==a?this._filter(o,a):this._resolve(o))},a.prototype._drainQueue=function(){for(var e=this._queue,t=this._limit,r=this._values;e.length>0&&this._inFlight<t;){if(this._isResolved())return;var o=e.pop();this._promiseFulfilled(r[o],o)}},a.prototype._filter=function(e,t){for(var r=t.length,o=new Array(r),i=0,n=0;r>n;++n)e[n]&&(o[i++]=t[n]);o.length=i,this._resolve(o)},a.prototype.preservedValues=function(){return this._preservedValues},t.prototype.map=function(e,t){return"function"!=typeof e?o("fn must be a function\n\n    See http://goo.gl/916lJJ\n"):s(this,e,t,null).promise()},t.map=function(e,t,r,i){return"function"!=typeof t?o("fn must be a function\n\n    See http://goo.gl/916lJJ\n"):s(e,t,r,i).promise()}}},{"./async.js":2,"./util.js":38}],20:[function(e,t,r){"use strict";t.exports=function(t,r,o,i){var n=e("./util.js"),a=n.tryCatch;t.method=function(e){if("function"!=typeof e)throw new t.TypeError("fn must be a function\n\n    See http://goo.gl/916lJJ\n");return function(){var o=new t(r);o._captureStackTrace(),o._pushContext();var i=a(e).apply(this,arguments);return o._popContext(),o._resolveFromSyncValue(i),o}},t.attempt=t["try"]=function(e,o,l){if("function"!=typeof e)return i("fn must be a function\n\n    See http://goo.gl/916lJJ\n");var s=new t(r);s._captureStackTrace(),s._pushContext();var d=n.isArray(o)?a(e).apply(l,o):a(e).call(l,o);return s._popContext(),s._resolveFromSyncValue(d),s},t.prototype._resolveFromSyncValue=function(e){e===n.errorObj?this._rejectCallback(e.e,!1,!0):this._resolveCallback(e,!0)}}},{"./util.js":38}],21:[function(e,t,r){"use strict";t.exports=function(t){function r(e,t){var r=this;if(!n.isArray(e))return o.call(r,e,t);var i=l(t).apply(r._boundValue(),[null].concat(e));i===s&&a.throwLater(i.e)}function o(e,t){var r=this,o=r._boundValue(),i=void 0===e?l(t).call(o,null):l(t).call(o,null,e);i===s&&a.throwLater(i.e)}function i(e,t){var r=this;if(!e){var o=r._target(),i=o._getCarriedStackTrace();i.cause=e,e=i}var n=l(t).call(r._boundValue(),e);n===s&&a.throwLater(n.e)}var n=e("./util.js"),a=e("./async.js"),l=n.tryCatch,s=n.errorObj;t.prototype.asCallback=t.prototype.nodeify=function(e,t){if("function"==typeof e){var n=o;void 0!==t&&Object(t).spread&&(n=r),this._then(n,i,void 0,this,e)}return this}}},{"./async.js":2,"./util.js":38}],22:[function(e,t,r){"use strict";t.exports=function(t,r){var o=e("./util.js"),i=e("./async.js"),n=o.tryCatch,a=o.errorObj;t.prototype.progressed=function(e){return this._then(void 0,void 0,e,void 0,void 0)},t.prototype._progress=function(e){this._isFollowingOrFulfilledOrRejected()||this._target()._progressUnchecked(e)},t.prototype._progressHandlerAt=function(e){return 0===e?this._progressHandler0:this[(e<<2)+e-5+2]},t.prototype._doProgressWith=function(e){var r=e.value,i=e.handler,l=e.promise,s=e.receiver,d=n(i).call(s,r);if(d===a){if(null!=d.e&&"StopProgressPropagation"!==d.e.name){var c=o.canAttachTrace(d.e)?d.e:new Error(o.toString(d.e));l._attachExtraTrace(c),l._progress(d.e)}}else d instanceof t?d._then(l._progress,null,null,l,void 0):l._progress(d)},t.prototype._progressUnchecked=function(e){for(var o=this._length(),n=this._progress,a=0;o>a;a++){var l=this._progressHandlerAt(a),s=this._promiseAt(a);if(s instanceof t)"function"==typeof l?i.invoke(this._doProgressWith,this,{handler:l,promise:s,receiver:this._receiverAt(a),value:e}):i.invoke(n,s,e);else{var d=this._receiverAt(a);"function"==typeof l?l.call(d,e,s):d instanceof r&&!d._isResolved()&&d._promiseProgressed(e,s)}}}}},{"./async.js":2,"./util.js":38}],23:[function(e,r,o){"use strict";r.exports=function(){function r(e){if("function"!=typeof e)throw new h("the promise constructor requires a resolver function\n\n    See http://goo.gl/EC22Yn\n");if(this.constructor!==r)throw new h("the promise constructor cannot be invoked directly\n\n    See http://goo.gl/KsIlge\n");this._bitField=0,this._fulfillmentHandler0=void 0,this._rejectionHandler0=void 0,this._progressHandler0=void 0,this._promise0=void 0,this._receiver0=void 0,this._settledValue=void 0,e!==f&&this._resolveFromResolver(e)}function o(e){var t=new r(f);t._fulfillmentHandler0=e,t._rejectionHandler0=e,t._progressHandler0=e,t._promise0=e,t._receiver0=e,t._settledValue=e}var i,n=function(){return new h("circular promise resolution chain\n\n    See http://goo.gl/LhFpo0\n")},a=function(){return new r.PromiseInspection(this._target())},l=function(e){return r.reject(new h(e))},s=e("./util.js");i=s.isNode?function(){var e=t.domain;return void 0===e&&(e=null),e}:function(){return null},s.notEnumerableProp(r,"_getDomain",i);var d={},c=e("./async.js"),u=e("./errors.js"),h=r.TypeError=u.TypeError;r.RangeError=u.RangeError,r.CancellationError=u.CancellationError,r.TimeoutError=u.TimeoutError,r.OperationalError=u.OperationalError,r.RejectionError=u.OperationalError,r.AggregateError=u.AggregateError;var f=function(){},p={},g={e:null},v=e("./thenables.js")(r,f),b=e("./promise_array.js")(r,f,v,l),C=e("./captured_trace.js")(),m=e("./debuggability.js")(r,C),y=e("./context.js")(r,C,m),T=e("./catch_filter.js")(g),S=e("./promise_resolver.js"),w=S._nodebackForPromise,_=s.errorObj,k=s.tryCatch;return r.prototype.toString=function(){return"[object Promise]"},r.prototype.caught=r.prototype["catch"]=function(e){var t=arguments.length;if(t>1){var o,i=new Array(t-1),n=0;for(o=0;t-1>o;++o){var a=arguments[o];if("function"!=typeof a)return r.reject(new h("Catch filter must inherit from Error or be a simple predicate function\n\n    See http://goo.gl/o84o68\n"));i[n++]=a}i.length=n,e=arguments[o];var l=new T(i,e,this);return this._then(void 0,l.doFilter,void 0,l,void 0)}return this._then(void 0,e,void 0,void 0,void 0)},r.prototype.reflect=function(){return this._then(a,a,void 0,this,void 0)},r.prototype.then=function(e,t,r){if(m()&&arguments.length>0&&"function"!=typeof e&&"function"!=typeof t){var o=".then() only accepts functions but was passed: "+s.classString(e);arguments.length>1&&(o+=", "+s.classString(t)),this._warn(o)}return this._then(e,t,r,void 0,void 0)},r.prototype.done=function(e,t,r){var o=this._then(e,t,r,void 0,void 0);o._setIsFinal()},r.prototype.spread=function(e,t){return this.all()._then(e,t,void 0,p,void 0)},r.prototype.isCancellable=function(){return!this.isResolved()&&this._cancellable()},r.prototype.toJSON=function(){
var e={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(e.fulfillmentValue=this.value(),e.isFulfilled=!0):this.isRejected()&&(e.rejectionReason=this.reason(),e.isRejected=!0),e},r.prototype.all=function(){return new b(this).promise()},r.prototype.error=function(e){return this.caught(s.originatesFromRejection,e)},r.is=function(e){return e instanceof r},r.fromNode=function(e){var t=new r(f),o=k(e)(w(t));return o===_&&t._rejectCallback(o.e,!0,!0),t},r.all=function(e){return new b(e).promise()},r.defer=r.pending=function(){var e=new r(f);return new S(e)},r.cast=function(e){var t=v(e);if(!(t instanceof r)){var o=t;t=new r(f),t._fulfillUnchecked(o)}return t},r.resolve=r.fulfilled=r.cast,r.reject=r.rejected=function(e){var t=new r(f);return t._captureStackTrace(),t._rejectCallback(e,!0),t},r.setScheduler=function(e){if("function"!=typeof e)throw new h("fn must be a function\n\n    See http://goo.gl/916lJJ\n");var t=c._schedule;return c._schedule=e,t},r.prototype._then=function(e,t,o,n,a){var l=void 0!==a,s=l?a:new r(f);l||(s._propagateFrom(this,5),s._captureStackTrace());var d=this._target();d!==this&&(void 0===n&&(n=this._boundTo),l||s._setIsMigrated());var u=d._addCallbacks(e,t,o,s,n,i());return d._isResolved()&&!d._isSettlePromisesQueued()&&c.invoke(d._settlePromiseAtPostResolution,d,u),s},r.prototype._settlePromiseAtPostResolution=function(e){this._isRejectionUnhandled()&&this._unsetRejectionIsUnhandled(),this._settlePromiseAt(e)},r.prototype._length=function(){return 131071&this._bitField},r.prototype._isFollowingOrFulfilledOrRejected=function(){return(939524096&this._bitField)>0},r.prototype._isFollowing=function(){return 536870912===(536870912&this._bitField)},r.prototype._setLength=function(e){this._bitField=-131072&this._bitField|131071&e},r.prototype._setFulfilled=function(){this._bitField=268435456|this._bitField},r.prototype._setRejected=function(){this._bitField=134217728|this._bitField},r.prototype._setFollowing=function(){this._bitField=536870912|this._bitField},r.prototype._setIsFinal=function(){this._bitField=33554432|this._bitField},r.prototype._isFinal=function(){return(33554432&this._bitField)>0},r.prototype._cancellable=function(){return(67108864&this._bitField)>0},r.prototype._setCancellable=function(){this._bitField=67108864|this._bitField},r.prototype._unsetCancellable=function(){this._bitField=-67108865&this._bitField},r.prototype._setIsMigrated=function(){this._bitField=4194304|this._bitField},r.prototype._unsetIsMigrated=function(){this._bitField=-4194305&this._bitField},r.prototype._isMigrated=function(){return(4194304&this._bitField)>0},r.prototype._receiverAt=function(e){var t=0===e?this._receiver0:this[5*e-5+4];if(t!==d)return void 0===t&&this._isBound()?this._boundValue():t},r.prototype._promiseAt=function(e){return 0===e?this._promise0:this[5*e-5+3]},r.prototype._fulfillmentHandlerAt=function(e){return 0===e?this._fulfillmentHandler0:this[5*e-5+0]},r.prototype._rejectionHandlerAt=function(e){return 0===e?this._rejectionHandler0:this[5*e-5+1]},r.prototype._boundValue=function(){var e=this._boundTo;return void 0!==e&&e instanceof r?e.isFulfilled()?e.value():void 0:e},r.prototype._migrateCallbacks=function(e,t){var o=e._fulfillmentHandlerAt(t),i=e._rejectionHandlerAt(t),n=e._progressHandlerAt(t),a=e._promiseAt(t),l=e._receiverAt(t);a instanceof r&&a._setIsMigrated(),void 0===l&&(l=d),this._addCallbacks(o,i,n,a,l,null)},r.prototype._addCallbacks=function(e,t,r,o,i,n){var a=this._length();if(a>=131066&&(a=0,this._setLength(0)),0===a)this._promise0=o,void 0!==i&&(this._receiver0=i),"function"!=typeof e||this._isCarryingStackTrace()||(this._fulfillmentHandler0=null===n?e:n.bind(e)),"function"==typeof t&&(this._rejectionHandler0=null===n?t:n.bind(t)),"function"==typeof r&&(this._progressHandler0=null===n?r:n.bind(r));else{var l=5*a-5;this[l+3]=o,this[l+4]=i,"function"==typeof e&&(this[l+0]=null===n?e:n.bind(e)),"function"==typeof t&&(this[l+1]=null===n?t:n.bind(t)),"function"==typeof r&&(this[l+2]=null===n?r:n.bind(r))}return this._setLength(a+1),a},r.prototype._setProxyHandlers=function(e,t){var r=this._length();if(r>=131066&&(r=0,this._setLength(0)),0===r)this._promise0=t,this._receiver0=e;else{var o=5*r-5;this[o+3]=t,this[o+4]=e}this._setLength(r+1)},r.prototype._proxyPromiseArray=function(e,t){this._setProxyHandlers(e,t)},r.prototype._resolveCallback=function(e,t){if(!this._isFollowingOrFulfilledOrRejected()){if(e===this)return this._rejectCallback(n(),!1,!0);var o=v(e,this);if(!(o instanceof r))return this._fulfill(e);var i=1|(t?4:0);this._propagateFrom(o,i);var a=o._target();if(a._isPending()){for(var l=this._length(),s=0;l>s;++s)a._migrateCallbacks(this,s);this._setFollowing(),this._setLength(0),this._setFollowee(a)}else a._isFulfilled()?this._fulfillUnchecked(a._value()):this._rejectUnchecked(a._reason(),a._getCarriedStackTrace())}},r.prototype._rejectCallback=function(e,t,r){r||s.markAsOriginatingFromRejection(e);var o=s.ensureErrorObject(e),i=o===e;this._attachExtraTrace(o,t?i:!1),this._reject(e,i?void 0:o)},r.prototype._resolveFromResolver=function(e){var t=this;this._captureStackTrace(),this._pushContext();var r=!0,o=k(e)(function(e){null!==t&&(t._resolveCallback(e),t=null)},function(e){null!==t&&(t._rejectCallback(e,r),t=null)});r=!1,this._popContext(),void 0!==o&&o===_&&null!==t&&(t._rejectCallback(o.e,!0,!0),t=null)},r.prototype._settlePromiseFromHandler=function(e,t,r,o){if(!o._isRejected()){o._pushContext();var i;if(i=t!==p||this._isRejected()?k(e).call(t,r):k(e).apply(this._boundValue(),r),o._popContext(),i===_||i===o||i===g){var a=i===o?n():i.e;o._rejectCallback(a,!1,!0)}else o._resolveCallback(i)}},r.prototype._target=function(){for(var e=this;e._isFollowing();)e=e._followee();return e},r.prototype._followee=function(){return this._rejectionHandler0},r.prototype._setFollowee=function(e){this._rejectionHandler0=e},r.prototype._cleanValues=function(){this._cancellable()&&(this._cancellationParent=void 0)},r.prototype._propagateFrom=function(e,t){(1&t)>0&&e._cancellable()&&(this._setCancellable(),this._cancellationParent=e),(4&t)>0&&e._isBound()&&this._setBoundTo(e._boundTo)},r.prototype._fulfill=function(e){this._isFollowingOrFulfilledOrRejected()||this._fulfillUnchecked(e)},r.prototype._reject=function(e,t){this._isFollowingOrFulfilledOrRejected()||this._rejectUnchecked(e,t)},r.prototype._settlePromiseAt=function(e){var t=this._promiseAt(e),o=t instanceof r;if(o&&t._isMigrated())return t._unsetIsMigrated(),c.invoke(this._settlePromiseAt,this,e);var i=this._isFulfilled()?this._fulfillmentHandlerAt(e):this._rejectionHandlerAt(e),n=this._isCarryingStackTrace()?this._getCarriedStackTrace():void 0,a=this._settledValue,l=this._receiverAt(e);this._clearCallbackDataAtIndex(e),"function"==typeof i?o?this._settlePromiseFromHandler(i,l,a,t):i.call(l,a,t):l instanceof b?l._isResolved()||(this._isFulfilled()?l._promiseFulfilled(a,t):l._promiseRejected(a,t)):o&&(this._isFulfilled()?t._fulfill(a):t._reject(a,n)),e>=4&&4===(31&e)&&c.invokeLater(this._setLength,this,0)},r.prototype._clearCallbackDataAtIndex=function(e){if(0===e)this._isCarryingStackTrace()||(this._fulfillmentHandler0=void 0),this._rejectionHandler0=this._progressHandler0=this._receiver0=this._promise0=void 0;else{var t=5*e-5;this[t+3]=this[t+4]=this[t+0]=this[t+1]=this[t+2]=void 0}},r.prototype._isSettlePromisesQueued=function(){return-1073741824===(-1073741824&this._bitField)},r.prototype._setSettlePromisesQueued=function(){this._bitField=-1073741824|this._bitField},r.prototype._unsetSettlePromisesQueued=function(){this._bitField=1073741823&this._bitField},r.prototype._queueSettlePromises=function(){c.settlePromises(this),this._setSettlePromisesQueued()},r.prototype._fulfillUnchecked=function(e){if(e===this){var t=n();return this._attachExtraTrace(t),this._rejectUnchecked(t,void 0)}this._setFulfilled(),this._settledValue=e,this._cleanValues(),this._length()>0&&this._queueSettlePromises()},r.prototype._rejectUncheckedCheckError=function(e){var t=s.ensureErrorObject(e);this._rejectUnchecked(e,t===e?void 0:t)},r.prototype._rejectUnchecked=function(e,t){if(e===this){var r=n();return this._attachExtraTrace(r),this._rejectUnchecked(r)}return this._setRejected(),this._settledValue=e,this._cleanValues(),this._isFinal()?void c.throwLater(function(e){throw"stack"in e&&c.invokeFirst(C.unhandledRejection,void 0,e),e},void 0===t?e:t):(void 0!==t&&t!==e&&this._setCarriedStackTrace(t),void(this._length()>0?this._queueSettlePromises():this._ensurePossibleRejectionHandled()))},r.prototype._settlePromises=function(){this._unsetSettlePromisesQueued();for(var e=this._length(),t=0;e>t;t++)this._settlePromiseAt(t)},s.notEnumerableProp(r,"_makeSelfResolutionError",n),e("./progress.js")(r,b),e("./method.js")(r,f,v,l),e("./bind.js")(r,f,v),e("./finally.js")(r,g,v),e("./direct_resolve.js")(r),e("./synchronous_inspection.js")(r),e("./join.js")(r,b,v,f),r.Promise=r,e("./map.js")(r,b,l,v,f),e("./cancel.js")(r),e("./using.js")(r,l,v,y),e("./generators.js")(r,l,f,v),e("./nodeify.js")(r),e("./call_get.js")(r),e("./props.js")(r,b,v,l),e("./race.js")(r,f,v,l),e("./reduce.js")(r,b,l,v,f),e("./settle.js")(r,b),e("./some.js")(r,b,l),e("./promisify.js")(r,f),e("./any.js")(r),e("./each.js")(r,f),e("./timers.js")(r,f),e("./filter.js")(r,f),s.toFastProperties(r),s.toFastProperties(r.prototype),o({a:1}),o({b:2}),o({c:3}),o(1),o(function(){}),o(void 0),o(!1),o(new r(f)),C.setBounds(c.firstLineError,s.lastLineError),r}},{"./any.js":1,"./async.js":2,"./bind.js":3,"./call_get.js":5,"./cancel.js":6,"./captured_trace.js":7,"./catch_filter.js":8,"./context.js":9,"./debuggability.js":10,"./direct_resolve.js":11,"./each.js":12,"./errors.js":13,"./filter.js":15,"./finally.js":16,"./generators.js":17,"./join.js":18,"./map.js":19,"./method.js":20,"./nodeify.js":21,"./progress.js":22,"./promise_array.js":24,"./promise_resolver.js":25,"./promisify.js":26,"./props.js":27,"./race.js":29,"./reduce.js":30,"./settle.js":32,"./some.js":33,"./synchronous_inspection.js":34,"./thenables.js":35,"./timers.js":36,"./using.js":37,"./util.js":38}],24:[function(e,t,r){"use strict";t.exports=function(t,r,o,i){function n(e){switch(e){case-2:return[];case-3:return{}}}function a(e){var o,i=this._promise=new t(r);e instanceof t&&(o=e,i._propagateFrom(o,5)),this._values=e,this._length=0,this._totalResolved=0,this._init(void 0,-2)}var l=e("./util.js"),s=l.isArray;return a.prototype.length=function(){return this._length},a.prototype.promise=function(){return this._promise},a.prototype._init=function d(e,r){var a=o(this._values,this._promise);if(a instanceof t){if(a=a._target(),this._values=a,!a._isFulfilled())return a._isPending()?void a._then(d,this._reject,void 0,this,r):void this._reject(a._reason());if(a=a._value(),!s(a)){var l=new t.TypeError("expecting an array, a promise or a thenable\n\n    See http://goo.gl/s8MMhc\n");return void this.__hardReject__(l)}}else if(!s(a))return void this._promise._reject(i("expecting an array, a promise or a thenable\n\n    See http://goo.gl/s8MMhc\n")._reason());if(0===a.length)return void(-5===r?this._resolveEmptyArray():this._resolve(n(r)));var c=this.getActualLength(a.length);this._length=c,this._values=this.shouldCopyValues()?new Array(c):this._values;for(var u=this._promise,h=0;c>h;++h){var f=this._isResolved(),p=o(a[h],u);p instanceof t?(p=p._target(),f?p._ignoreRejections():p._isPending()?p._proxyPromiseArray(this,h):p._isFulfilled()?this._promiseFulfilled(p._value(),h):this._promiseRejected(p._reason(),h)):f||this._promiseFulfilled(p,h)}},a.prototype._isResolved=function(){return null===this._values},a.prototype._resolve=function(e){this._values=null,this._promise._fulfill(e)},a.prototype.__hardReject__=a.prototype._reject=function(e){this._values=null,this._promise._rejectCallback(e,!1,!0)},a.prototype._promiseProgressed=function(e,t){this._promise._progress({index:t,value:e})},a.prototype._promiseFulfilled=function(e,t){this._values[t]=e;var r=++this._totalResolved;r>=this._length&&this._resolve(this._values)},a.prototype._promiseRejected=function(e,t){this._totalResolved++,this._reject(e)},a.prototype.shouldCopyValues=function(){return!0},a.prototype.getActualLength=function(e){return e},a}},{"./util.js":38}],25:[function(e,t,r){"use strict";function o(e){return e instanceof Error&&f.getPrototypeOf(e)===Error.prototype}function i(e){var t;if(o(e)){t=new u(e),t.name=e.name,t.message=e.message,t.stack=e.stack;for(var r=f.keys(e),i=0;i<r.length;++i){var n=r[i];p.test(n)||(t[n]=e[n])}return t}return l.markAsOriginatingFromRejection(e),e}function n(e){return function(t,r){if(null!==e){if(t){var o=i(s(t));e._attachExtraTrace(o),e._reject(o)}else if(arguments.length>2){for(var n=arguments.length,a=new Array(n-1),l=1;n>l;++l)a[l-1]=arguments[l];e._fulfill(a)}else e._fulfill(r);e=null}}}var a,l=e("./util.js"),s=l.maybeWrapAsError,d=e("./errors.js"),c=d.TimeoutError,u=d.OperationalError,h=l.haveGetters,f=e("./es5.js"),p=/^(?:name|message|stack|cause)$/;if(a=h?function(e){this.promise=e}:function(e){this.promise=e,this.asCallback=n(e),this.callback=this.asCallback},h){var g={get:function(){return n(this.promise)}};f.defineProperty(a.prototype,"asCallback",g),f.defineProperty(a.prototype,"callback",g)}a._nodebackForPromise=n,a.prototype.toString=function(){return"[object PromiseResolver]"},a.prototype.resolve=a.prototype.fulfill=function(e){if(!(this instanceof a))throw new TypeError("Illegal invocation, resolver resolve/reject must be called within a resolver context. Consider using the promise constructor instead.\n\n    See http://goo.gl/sdkXL9\n");this.promise._resolveCallback(e)},a.prototype.reject=function(e){if(!(this instanceof a))throw new TypeError("Illegal invocation, resolver resolve/reject must be called within a resolver context. Consider using the promise constructor instead.\n\n    See http://goo.gl/sdkXL9\n");this.promise._rejectCallback(e)},a.prototype.progress=function(e){if(!(this instanceof a))throw new TypeError("Illegal invocation, resolver resolve/reject must be called within a resolver context. Consider using the promise constructor instead.\n\n    See http://goo.gl/sdkXL9\n");this.promise._progress(e)},a.prototype.cancel=function(e){this.promise.cancel(e)},a.prototype.timeout=function(){this.reject(new c("timeout"))},a.prototype.isResolved=function(){return this.promise.isResolved()},a.prototype.toJSON=function(){return this.promise.toJSON()},t.exports=a},{"./errors.js":13,"./es5.js":14,"./util.js":38}],26:[function(e,t,r){"use strict";t.exports=function(t,r){function o(e){return!S.test(e)}function i(e){try{return e.__isPromisified__===!0}catch(t){return!1}}function n(e,t,r){var o=f.getDataPropertyOrDefault(e,t+r,y);return o?i(o):!1}function a(e,t,r){for(var o=0;o<e.length;o+=2){var i=e[o];if(r.test(i))for(var n=i.replace(r,""),a=0;a<e.length;a+=2)if(e[a]===n)throw new C("Cannot promisify an API that has normal methods with '%s'-suffix\n\n    See http://goo.gl/iWrZbw\n".replace("%s",t))}}function l(e,t,r,o){for(var l=f.inheritedDataKeys(e),s=[],d=0;d<l.length;++d){var c=l[d],u=e[c],h=o===w?!0:w(c,u,e);"function"!=typeof u||i(u)||n(e,c,t)||!o(c,u,e,h)||s.push(c,u)}return a(s,t,r),s}function s(e,o,i,n){function a(){var i=o;o===h&&(i=this);var n=new t(r);n._captureStackTrace();var a="string"==typeof s&&this!==l?this[s]:e,d=p(n);try{a.apply(i,g(arguments,d))}catch(c){n._rejectCallback(v(c),!0,!0)}return n}var l=function(){return this}(),s=e;return"string"==typeof s&&(e=n),f.notEnumerableProp(a,"__isPromisified__",!0),a}function d(e,t,r,o){for(var i=new RegExp(_(t)+"$"),n=l(e,t,i,r),a=0,s=n.length;s>a;a+=2){var d=n[a],c=n[a+1],u=d+t;if(o===k)e[u]=k(d,h,d,c,t);else{var p=o(c,function(){return k(d,h,d,c,t)});f.notEnumerableProp(p,"__isPromisified__",!0),e[u]=p}}return f.toFastProperties(e),e}function c(e,t){return k(e,t,void 0,e)}var u,h={},f=e("./util.js"),p=e("./promise_resolver.js")._nodebackForPromise,g=f.withAppended,v=f.maybeWrapAsError,b=f.canEvaluate,C=e("./errors").TypeError,m="Async",y={__isPromisified__:!0},T=["arity","length","name","arguments","caller","callee","prototype","__isPromisified__"],S=new RegExp("^(?:"+T.join("|")+")$"),w=function(e){return f.isIdentifier(e)&&"_"!==e.charAt(0)&&"constructor"!==e},_=function(e){return e.replace(/([$])/,"\\$")},k=b?u:s;t.promisify=function(e,t){if("function"!=typeof e)throw new C("fn must be a function\n\n    See http://goo.gl/916lJJ\n");if(i(e))return e;var r=c(e,arguments.length<2?h:t);return f.copyDescriptors(e,r,o),r},t.promisifyAll=function(e,t){if("function"!=typeof e&&"object"!=typeof e)throw new C("the target of promisifyAll must be an object or a function\n\n    See http://goo.gl/9ITlV0\n");t=Object(t);var r=t.suffix;"string"!=typeof r&&(r=m);var o=t.filter;"function"!=typeof o&&(o=w);var i=t.promisifier;if("function"!=typeof i&&(i=k),!f.isIdentifier(r))throw new RangeError("suffix must be a valid identifier\n\n    See http://goo.gl/8FZo5V\n");for(var n=f.inheritedDataKeys(e),a=0;a<n.length;++a){var l=e[n[a]];"constructor"!==n[a]&&f.isClass(l)&&(d(l.prototype,r,o,i),d(l,r,o,i))}return d(e,r,o,i)}}},{"./errors":13,"./promise_resolver.js":25,"./util.js":38}],27:[function(e,t,r){"use strict";t.exports=function(t,r,o,i){function n(e){for(var t=d.keys(e),r=t.length,o=new Array(2*r),i=0;r>i;++i){var n=t[i];o[i]=e[n],o[i+r]=n}this.constructor$(o)}function a(e){var r,a=o(e);return s(a)?(r=a instanceof t?a._then(t.props,void 0,void 0,void 0,void 0):new n(a).promise(),a instanceof t&&r._propagateFrom(a,4),r):i("cannot await properties of a non-object\n\n    See http://goo.gl/OsFKC8\n")}var l=e("./util.js"),s=l.isObject,d=e("./es5.js");l.inherits(n,r),n.prototype._init=function(){this._init$(void 0,-3)},n.prototype._promiseFulfilled=function(e,t){this._values[t]=e;var r=++this._totalResolved;if(r>=this._length){for(var o={},i=this.length(),n=0,a=this.length();a>n;++n)o[this._values[n+i]]=this._values[n];this._resolve(o)}},n.prototype._promiseProgressed=function(e,t){this._promise._progress({key:this._values[t+this.length()],value:e})},n.prototype.shouldCopyValues=function(){return!1},n.prototype.getActualLength=function(e){return e>>1},t.prototype.props=function(){return a(this)},t.props=function(e){return a(e)}}},{"./es5.js":14,"./util.js":38}],28:[function(e,t,r){"use strict";function o(e,t,r,o,i){for(var n=0;i>n;++n)r[n+o]=e[n+t],e[n+t]=void 0}function i(e){this._capacity=e,this._length=0,this._front=0}i.prototype._willBeOverCapacity=function(e){return this._capacity<e},i.prototype._pushOne=function(e){var t=this.length();this._checkCapacity(t+1);var r=this._front+t&this._capacity-1;this[r]=e,this._length=t+1},i.prototype._unshiftOne=function(e){var t=this._capacity;this._checkCapacity(this.length()+1);var r=this._front,o=(r-1&t-1^t)-t;this[o]=e,this._front=o,this._length=this.length()+1},i.prototype.unshift=function(e,t,r){this._unshiftOne(r),this._unshiftOne(t),this._unshiftOne(e)},i.prototype.push=function(e,t,r){var o=this.length()+3;if(this._willBeOverCapacity(o))return this._pushOne(e),this._pushOne(t),void this._pushOne(r);var i=this._front+o-3;this._checkCapacity(o);var n=this._capacity-1;this[i+0&n]=e,this[i+1&n]=t,this[i+2&n]=r,this._length=o},i.prototype.shift=function(){var e=this._front,t=this[e];return this[e]=void 0,this._front=e+1&this._capacity-1,this._length--,t},i.prototype.length=function(){return this._length},i.prototype._checkCapacity=function(e){this._capacity<e&&this._resizeTo(this._capacity<<1)},i.prototype._resizeTo=function(e){var t=this._capacity;this._capacity=e;var r=this._front,i=this._length,n=r+i&t-1;o(this,0,this,t,n)},t.exports=i},{}],29:[function(e,t,r){"use strict";t.exports=function(t,r,o,i){function n(e,n){var s=o(e);if(s instanceof t)return l(s);if(!a(e))return i("expecting an array, a promise or a thenable\n\n    See http://goo.gl/s8MMhc\n");var d=new t(r);void 0!==n&&d._propagateFrom(n,5);for(var c=d._fulfill,u=d._reject,h=0,f=e.length;f>h;++h){var p=e[h];(void 0!==p||h in e)&&t.cast(p)._then(c,u,void 0,d,null)}return d}var a=e("./util.js").isArray,l=function(e){return e.then(function(t){return n(t,e)})};t.race=function(e){return n(e,void 0)},t.prototype.race=function(){return n(this,void 0)}}},{"./util.js":38}],30:[function(e,t,r){"use strict";t.exports=function(t,r,o,i,n){function a(e,r,o,a){this.constructor$(e),this._promise._captureStackTrace(),this._preservedValues=a===n?[]:null,this._zerothIsAccum=void 0===o,this._gotAccum=!1,this._reducingIndex=this._zerothIsAccum?1:0,this._valuesPhase=void 0;var s=i(o,this._promise),u=!1,h=s instanceof t;h&&(s=s._target(),s._isPending()?s._proxyPromiseArray(this,-1):s._isFulfilled()?(o=s._value(),this._gotAccum=!0):(this._reject(s._reason()),u=!0)),h||this._zerothIsAccum||(this._gotAccum=!0);var f=d();this._callback=null===f?r:f.bind(r),this._accum=o,u||c.invoke(l,this,void 0)}function l(){this._init$(void 0,-5)}function s(e,t,r,i){if("function"!=typeof t)return o("fn must be a function\n\n    See http://goo.gl/916lJJ\n");var n=new a(e,t,r,i);return n.promise()}var d=t._getDomain,c=e("./async.js"),u=e("./util.js"),h=u.tryCatch,f=u.errorObj;u.inherits(a,r),a.prototype._init=function(){},a.prototype._resolveEmptyArray=function(){(this._gotAccum||this._zerothIsAccum)&&this._resolve(null!==this._preservedValues?[]:this._accum)},a.prototype._promiseFulfilled=function(e,r){var o=this._values;o[r]=e;var n,a=this.length(),l=this._preservedValues,s=null!==l,d=this._gotAccum,c=this._valuesPhase;if(!c)for(c=this._valuesPhase=new Array(a),n=0;a>n;++n)c[n]=0;if(n=c[r],0===r&&this._zerothIsAccum?(this._accum=e,this._gotAccum=d=!0,c[r]=0===n?1:2):-1===r?(this._accum=e,this._gotAccum=d=!0):0===n?c[r]=1:(c[r]=2,this._accum=e),d){for(var u,p=this._callback,g=this._promise._boundValue(),v=this._reducingIndex;a>v;++v)if(n=c[v],2!==n){if(1!==n)return;if(e=o[v],this._promise._pushContext(),s?(l.push(e),u=h(p).call(g,e,v,a)):u=h(p).call(g,this._accum,e,v,a),this._promise._popContext(),u===f)return this._reject(u.e);var b=i(u,this._promise);if(b instanceof t){if(b=b._target(),b._isPending())return c[v]=4,b._proxyPromiseArray(this,v);if(!b._isFulfilled())return this._reject(b._reason());u=b._value()}this._reducingIndex=v+1,this._accum=u}else this._reducingIndex=v+1;this._resolve(s?l:this._accum)}},t.prototype.reduce=function(e,t){return s(this,e,t,null)},t.reduce=function(e,t,r,o){return s(e,t,r,o)}}},{"./async.js":2,"./util.js":38}],31:[function(e,i,n){"use strict";var a,l=e("./util"),s=function(){throw new Error("No async scheduler available\n\n    See http://goo.gl/m3OTXk\n")};if(l.isNode&&"undefined"==typeof MutationObserver){var d=r.setImmediate,c=t.nextTick;a=l.isRecentNode?function(e){d.call(r,e)}:function(e){c.call(t,e)}}else"undefined"==typeof MutationObserver||"undefined"!=typeof window&&window.navigator&&window.navigator.standalone?a="undefined"!=typeof o?function(e){o(e)}:"undefined"!=typeof setTimeout?function(e){setTimeout(e,0)}:s:(a=function(e){var t=document.createElement("div"),r=new MutationObserver(e);return r.observe(t,{attributes:!0}),function(){t.classList.toggle("foo")}},a.isStatic=!0);i.exports=a},{"./util":38}],32:[function(e,t,r){"use strict";t.exports=function(t,r){function o(e){this.constructor$(e)}var i=t.PromiseInspection,n=e("./util.js");n.inherits(o,r),o.prototype._promiseResolved=function(e,t){this._values[e]=t;var r=++this._totalResolved;r>=this._length&&this._resolve(this._values)},o.prototype._promiseFulfilled=function(e,t){var r=new i;r._bitField=268435456,r._settledValue=e,this._promiseResolved(t,r)},o.prototype._promiseRejected=function(e,t){var r=new i;r._bitField=134217728,r._settledValue=e,this._promiseResolved(t,r)},t.settle=function(e){return new o(e).promise()},t.prototype.settle=function(){return new o(this).promise()}}},{"./util.js":38}],33:[function(e,t,r){"use strict";t.exports=function(t,r,o){function i(e){this.constructor$(e),this._howMany=0,this._unwrap=!1,this._initialized=!1}function n(e,t){if((0|t)!==t||0>t)return o("expecting a positive integer\n\n    See http://goo.gl/1wAmHx\n");var r=new i(e),n=r.promise();return r.setHowMany(t),r.init(),n}var a=e("./util.js"),l=e("./errors.js").RangeError,s=e("./errors.js").AggregateError,d=a.isArray;a.inherits(i,r),i.prototype._init=function(){if(this._initialized){if(0===this._howMany)return void this._resolve([]);this._init$(void 0,-5);var e=d(this._values);!this._isResolved()&&e&&this._howMany>this._canPossiblyFulfill()&&this._reject(this._getRangeError(this.length()))}},i.prototype.init=function(){this._initialized=!0,this._init()},i.prototype.setUnwrap=function(){this._unwrap=!0},i.prototype.howMany=function(){return this._howMany},i.prototype.setHowMany=function(e){this._howMany=e},i.prototype._promiseFulfilled=function(e){this._addFulfilled(e),this._fulfilled()===this.howMany()&&(this._values.length=this.howMany(),1===this.howMany()&&this._unwrap?this._resolve(this._values[0]):this._resolve(this._values))},i.prototype._promiseRejected=function(e){if(this._addRejected(e),this.howMany()>this._canPossiblyFulfill()){for(var t=new s,r=this.length();r<this._values.length;++r)t.push(this._values[r]);this._reject(t)}},i.prototype._fulfilled=function(){return this._totalResolved},i.prototype._rejected=function(){return this._values.length-this.length()},i.prototype._addRejected=function(e){this._values.push(e)},i.prototype._addFulfilled=function(e){this._values[this._totalResolved++]=e},i.prototype._canPossiblyFulfill=function(){return this.length()-this._rejected()},i.prototype._getRangeError=function(e){var t="Input array must contain at least "+this._howMany+" items but contains only "+e+" items";return new l(t)},i.prototype._resolveEmptyArray=function(){this._reject(this._getRangeError(0))},t.some=function(e,t){return n(e,t)},t.prototype.some=function(e){return n(this,e)},t._SomePromiseArray=i}},{"./errors.js":13,"./util.js":38}],34:[function(e,t,r){"use strict";t.exports=function(e){function t(e){void 0!==e?(e=e._target(),this._bitField=e._bitField,this._settledValue=e._settledValue):(this._bitField=0,this._settledValue=void 0)}t.prototype.value=function(){if(!this.isFulfilled())throw new TypeError("cannot get fulfillment value of a non-fulfilled promise\n\n    See http://goo.gl/hc1DLj\n");return this._settledValue},t.prototype.error=t.prototype.reason=function(){if(!this.isRejected())throw new TypeError("cannot get rejection reason of a non-rejected promise\n\n    See http://goo.gl/hPuiwB\n");return this._settledValue},t.prototype.isFulfilled=e.prototype._isFulfilled=function(){return(268435456&this._bitField)>0},t.prototype.isRejected=e.prototype._isRejected=function(){return(134217728&this._bitField)>0},t.prototype.isPending=e.prototype._isPending=function(){return 0===(402653184&this._bitField)},t.prototype.isResolved=e.prototype._isResolved=function(){return(402653184&this._bitField)>0},e.prototype.isPending=function(){return this._target()._isPending()},e.prototype.isRejected=function(){return this._target()._isRejected()},e.prototype.isFulfilled=function(){return this._target()._isFulfilled()},e.prototype.isResolved=function(){return this._target()._isResolved()},e.prototype._value=function(){return this._settledValue},e.prototype._reason=function(){return this._unsetRejectionIsUnhandled(),this._settledValue},e.prototype.value=function(){var e=this._target();if(!e.isFulfilled())throw new TypeError("cannot get fulfillment value of a non-fulfilled promise\n\n    See http://goo.gl/hc1DLj\n");return e._settledValue},e.prototype.reason=function(){var e=this._target();if(!e.isRejected())throw new TypeError("cannot get rejection reason of a non-rejected promise\n\n    See http://goo.gl/hPuiwB\n");return e._unsetRejectionIsUnhandled(),e._settledValue},e.PromiseInspection=t}},{}],35:[function(e,t,r){"use strict";t.exports=function(t,r){function o(e,o){if(d(e)){if(e instanceof t)return e;if(n(e)){var c=new t(r);return e._then(c._fulfillUnchecked,c._rejectUncheckedCheckError,c._progressUnchecked,c,null),c}var u=l.tryCatch(i)(e);if(u===s){o&&o._pushContext();var c=t.reject(u.e);return o&&o._popContext(),c}if("function"==typeof u)return a(e,u,o)}return e}function i(e){return e.then}function n(e){return c.call(e,"_promise0")}function a(e,o,i){function n(e){c&&(c._resolveCallback(e),c=null)}function a(e){c&&(c._rejectCallback(e,h,!0),c=null)}function d(e){c&&"function"==typeof c._progress&&c._progress(e)}var c=new t(r),u=c;i&&i._pushContext(),c._captureStackTrace(),i&&i._popContext();var h=!0,f=l.tryCatch(o).call(e,n,a,d);return h=!1,c&&f===s&&(c._rejectCallback(f.e,!0,!0),c=null),u}var l=e("./util.js"),s=l.errorObj,d=l.isObject,c={}.hasOwnProperty;return o}},{"./util.js":38}],36:[function(e,t,r){"use strict";t.exports=function(t,r){function o(e){var t=this;return t instanceof Number&&(t=+t),clearTimeout(t),e}function i(e){var t=this;throw t instanceof Number&&(t=+t),clearTimeout(t),e}var n=e("./util.js"),a=t.TimeoutError,l=function(e,t){if(e.isPending()){var r;!n.isPrimitive(t)&&t instanceof Error?r=t:("string"!=typeof t&&(t="operation timed out"),r=new a(t)),n.markAsOriginatingFromRejection(r),e._attachExtraTrace(r),e._cancel(r)}},s=function(e){return d(+this).thenReturn(e)},d=t.delay=function(e,o){if(void 0===o){o=e,e=void 0;var i=new t(r);return setTimeout(function(){i._fulfill()},o),i}return o=+o,t.resolve(e)._then(s,null,null,o,void 0)};t.prototype.delay=function(e){return d(this,e)},t.prototype.timeout=function(e,t){e=+e;var r=this.then().cancellable();r._cancellationParent=this;var n=setTimeout(function(){l(r,t)},e);return r._then(o,i,void 0,n,void 0)}}},{"./util.js":38}],37:[function(e,t,r){"use strict";t.exports=function(t,r,o,i){function n(e){for(var r=e.length,o=0;r>o;++o){var i=e[o];if(i.isRejected())return t.reject(i.error());e[o]=i._settledValue}return e}function a(e){setTimeout(function(){throw e},0)}function l(e){var t=o(e);return t!==e&&"function"==typeof e._isDisposable&&"function"==typeof e._getDisposer&&e._isDisposable()&&t._setDisposable(e._getDisposer()),t}function s(e,r){function i(){if(n>=s)return d.resolve();var c=l(e[n++]);if(c instanceof t&&c._isDisposable()){try{c=o(c._getDisposer().tryDispose(r),e.promise)}catch(u){return a(u)}if(c instanceof t)return c._then(i,a,null,null,null)}i()}var n=0,s=e.length,d=t.defer();return i(),d.promise}function d(e){var t=new v;return t._settledValue=e,t._bitField=268435456,s(this,t).thenReturn(e)}function c(e){var t=new v;return t._settledValue=e,t._bitField=134217728,s(this,t).thenThrow(e)}function u(e,t,r){this._data=e,this._promise=t,this._context=r}function h(e,t,r){this.constructor$(e,t,r)}function f(e){return u.isDisposer(e)?(this.resources[this.index]._setDisposable(e),e.promise()):e}var p=e("./errors.js").TypeError,g=e("./util.js").inherits,v=t.PromiseInspection;u.prototype.data=function(){return this._data},u.prototype.promise=function(){return this._promise},u.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():null},u.prototype.tryDispose=function(e){var t=this.resource(),r=this._context;void 0!==r&&r._pushContext();var o=null!==t?this.doDispose(t,e):null;return void 0!==r&&r._popContext(),this._promise._unsetDisposable(),this._data=null,o},u.isDisposer=function(e){return null!=e&&"function"==typeof e.resource&&"function"==typeof e.tryDispose},g(h,u),h.prototype.doDispose=function(e,t){var r=this.data();return r.call(e,e,t)},t.using=function(){var e=arguments.length;if(2>e)return r("you must pass at least 2 arguments to Promise.using");var i=arguments[e-1];if("function"!=typeof i)return r("fn must be a function\n\n    See http://goo.gl/916lJJ\n");var a,l=!0;2===e&&Array.isArray(arguments[0])?(a=arguments[0],e=a.length,l=!1):(a=arguments,e--);for(var s=new Array(e),h=0;e>h;++h){var p=a[h];if(u.isDisposer(p)){var g=p;p=p.promise(),p._setDisposable(g)}else{var v=o(p);v instanceof t&&(p=v._then(f,null,null,{resources:s,index:h},void 0))}s[h]=p}var b=t.settle(s).then(n).then(function(e){b._pushContext();var t;try{t=l?i.apply(void 0,e):i.call(void 0,e)}finally{
b._popContext()}return t})._then(d,c,void 0,s,void 0);return s.promise=b,b},t.prototype._setDisposable=function(e){this._bitField=262144|this._bitField,this._disposer=e},t.prototype._isDisposable=function(){return(262144&this._bitField)>0},t.prototype._getDisposer=function(){return this._disposer},t.prototype._unsetDisposable=function(){this._bitField=-262145&this._bitField,this._disposer=void 0},t.prototype.disposer=function(e){if("function"==typeof e)return new h(e,this,i());throw new p}}},{"./errors.js":13,"./util.js":38}],38:[function(e,r,o){"use strict";function i(){try{var e=P;return P=null,e.apply(this,arguments)}catch(t){return x.e=t,x}}function n(e){return P=e,i}function a(e){return null==e||e===!0||e===!1||"string"==typeof e||"number"==typeof e}function l(e){return!a(e)}function s(e){return a(e)?new Error(b(e)):e}function d(e,t){var r,o=e.length,i=new Array(o+1);for(r=0;o>r;++r)i[r]=e[r];return i[r]=t,i}function c(e,t,r){if(!w.isES5)return{}.hasOwnProperty.call(e,t)?e[t]:void 0;var o=Object.getOwnPropertyDescriptor(e,t);return null!=o?null==o.get&&null==o.set?o.value:r:void 0}function u(e,t,r){if(a(e))return e;var o={value:r,configurable:!0,enumerable:!1,writable:!0};return w.defineProperty(e,t,o),e}function h(e){throw e}function f(e){try{if("function"==typeof e){var t=w.names(e.prototype),r=w.isES5&&t.length>1,o=t.length>0&&!(1===t.length&&"constructor"===t[0]),i=F.test(e+"")&&w.names(e).length>0;if(r||o||i)return!0}return!1}catch(n){return!1}}function p(e){function t(){}t.prototype=e;for(var r=8;r--;)new t;return e}function g(e){return A.test(e)}function v(e,t,r){for(var o=new Array(e),i=0;e>i;++i)o[i]=t+i+r;return o}function b(e){try{return e+""}catch(t){return"[no string representation]"}}function C(e){try{u(e,"isOperational",!0)}catch(t){}}function m(e){return null==e?!1:e instanceof Error.__BluebirdErrorTypes__.OperationalError||e.isOperational===!0}function y(e){return e instanceof Error&&w.propertyIsWritable(e,"stack")}function T(e){return{}.toString.call(e)}function S(e,t,r){for(var o=w.names(e),i=0;i<o.length;++i){var n=o[i];if(r(n))try{w.defineProperty(t,n,w.getDescriptor(e,n))}catch(a){}}}var w=e("./es5.js"),_="undefined"==typeof navigator,k=function(){try{var e={};return w.defineProperty(e,"f",{get:function(){return 3}}),3===e.f}catch(t){return!1}}(),x={e:{}},P,E=function(e,t){function r(){this.constructor=e,this.constructor$=t;for(var r in t.prototype)o.call(t.prototype,r)&&"$"!==r.charAt(r.length-1)&&(this[r+"$"]=t.prototype[r])}var o={}.hasOwnProperty;return r.prototype=t.prototype,e.prototype=new r,e.prototype},R=function(){var e=[Array.prototype,Object.prototype,Function.prototype],t=function(t){for(var r=0;r<e.length;++r)if(e[r]===t)return!0;return!1};if(w.isES5){var r=Object.getOwnPropertyNames;return function(e){for(var o=[],i=Object.create(null);null!=e&&!t(e);){var n;try{n=r(e)}catch(a){return o}for(var l=0;l<n.length;++l){var s=n[l];if(!i[s]){i[s]=!0;var d=Object.getOwnPropertyDescriptor(e,s);null!=d&&null==d.get&&null==d.set&&o.push(s)}}e=w.getPrototypeOf(e)}return o}}var o={}.hasOwnProperty;return function(r){if(t(r))return[];var i=[];e:for(var n in r)if(o.call(r,n))i.push(n);else{for(var a=0;a<e.length;++a)if(o.call(e[a],n))continue e;i.push(n)}return i}}(),F=/this\s*\.\s*\S+\s*=/,A=/^[a-z$_][a-z$_0-9]*$/i,D=function(){return"stack"in new Error?function(e){return y(e)?e:new Error(b(e))}:function(e){if(y(e))return e;try{throw new Error(b(e))}catch(t){return t}}}(),L={isClass:f,isIdentifier:g,inheritedDataKeys:R,getDataPropertyOrDefault:c,thrower:h,isArray:w.isArray,haveGetters:k,notEnumerableProp:u,isPrimitive:a,isObject:l,canEvaluate:_,errorObj:x,tryCatch:n,inherits:E,withAppended:d,maybeWrapAsError:s,toFastProperties:p,filledRange:v,toString:b,canAttachTrace:y,ensureErrorObject:D,originatesFromRejection:m,markAsOriginatingFromRejection:C,classString:T,copyDescriptors:S,hasDevTools:"undefined"!=typeof chrome&&chrome&&"function"==typeof chrome.loadTimes,isNode:"undefined"!=typeof t&&"[object process]"===T(t).toLowerCase()};L.isRecentNode=L.isNode&&function(){var e=t.versions.node.split(".").map(Number);return 0===e[0]&&e[1]>10||e[0]>0}(),L.isNode&&L.toFastProperties(t);try{throw new Error}catch(M){L.lastLineError=M}r.exports=L},{"./es5.js":14}]},{},[4])(4)}),"undefined"!=typeof window&&null!==window?window.P=window.Promise:"undefined"!=typeof self&&null!==self&&(self.P=self.Promise)}).call(t,r(1),function(){return this}(),r(2).setImmediate)},function(e,t,r){function o(){return"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31}function i(){var e=arguments,r=this.useColors;if(e[0]=(r?"%c":"")+this.namespace+(r?" %c":" ")+e[0]+(r?"%c ":" ")+"+"+t.humanize(this.diff),!r)return e;var o="color: "+this.color;e=[e[0],o,"color: inherit"].concat(Array.prototype.slice.call(e,1));var i=0,n=0;return e[0].replace(/%[a-z%]/g,function(e){"%%"!==e&&(i++,"%c"===e&&(n=i))}),e.splice(n,0,o),e}function n(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function a(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(r){}}function l(){var e;try{e=t.storage.debug}catch(r){}return e}function s(){try{return window.localStorage}catch(e){}}t=e.exports=r(8),t.log=n,t.formatArgs=i,t.save=a,t.load=l,t.useColors=o,t.storage="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:s(),t.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],t.formatters.j=function(e){return JSON.stringify(e)},t.enable(l())},function(e,t,r){function o(){return t.colors[c++%t.colors.length]}function i(e){function r(){}function i(){var e=i,r=+new Date,n=r-(d||r);e.diff=n,e.prev=d,e.curr=r,d=r,null==e.useColors&&(e.useColors=t.useColors()),null==e.color&&e.useColors&&(e.color=o());var a=Array.prototype.slice.call(arguments);a[0]=t.coerce(a[0]),"string"!=typeof a[0]&&(a=["%o"].concat(a));var l=0;a[0]=a[0].replace(/%([a-z%])/g,function(r,o){if("%%"===r)return r;l++;var i=t.formatters[o];if("function"==typeof i){var n=a[l];r=i.call(e,n),a.splice(l,1),l--}return r}),"function"==typeof t.formatArgs&&(a=t.formatArgs.apply(e,a));var s=i.log||t.log||console.log.bind(console);s.apply(e,a)}r.enabled=!1,i.enabled=!0;var n=t.enabled(e)?i:r;return n.namespace=e,n}function n(e){t.save(e);for(var r=(e||"").split(/[\s,]+/),o=r.length,i=0;o>i;i++)r[i]&&(e=r[i].replace(/\*/g,".*?"),"-"===e[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")))}function a(){t.enable("")}function l(e){var r,o;for(r=0,o=t.skips.length;o>r;r++)if(t.skips[r].test(e))return!1;for(r=0,o=t.names.length;o>r;r++)if(t.names[r].test(e))return!0;return!1}function s(e){return e instanceof Error?e.stack||e.message:e}t=e.exports=i,t.coerce=s,t.disable=a,t.enable=n,t.enabled=l,t.humanize=r(9),t.names=[],t.skips=[],t.formatters={};var d,c=0},function(e,t){function r(e){if(e=""+e,!(e.length>1e4)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(t){var r=parseFloat(t[1]),o=(t[2]||"ms").toLowerCase();switch(o){case"years":case"year":case"yrs":case"yr":case"y":return r*c;case"days":case"day":case"d":return r*d;case"hours":case"hour":case"hrs":case"hr":case"h":return r*s;case"minutes":case"minute":case"mins":case"min":case"m":return r*l;case"seconds":case"second":case"secs":case"sec":case"s":return r*a;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r}}}}function o(e){return e>=d?Math.round(e/d)+"d":e>=s?Math.round(e/s)+"h":e>=l?Math.round(e/l)+"m":e>=a?Math.round(e/a)+"s":e+"ms"}function i(e){return n(e,d,"day")||n(e,s,"hour")||n(e,l,"minute")||n(e,a,"second")||e+" ms"}function n(e,t,r){return t>e?void 0:1.5*t>e?Math.floor(e/t)+" "+r:Math.ceil(e/t)+" "+r+"s"}var a=1e3,l=60*a,s=60*l,d=24*s,c=365.25*d;e.exports=function(e,t){return t=t||{},"string"==typeof e?r(e):t["long"]?i(e):o(e)}},function(e,t,r){"use strict";function o(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function i(){}var n="function"!=typeof Object.create?"~":!1;i.prototype._events=void 0,i.prototype.listeners=function(e,t){var r=n?n+e:e,o=this._events&&this._events[r];if(t)return!!o;if(!o)return[];if(o.fn)return[o.fn];for(var i=0,a=o.length,l=new Array(a);a>i;i++)l[i]=o[i].fn;return l},i.prototype.emit=function(e,t,r,o,i,a){var l=n?n+e:e;if(!this._events||!this._events[l])return!1;var s,d,c=this._events[l],u=arguments.length;if("function"==typeof c.fn){switch(c.once&&this.removeListener(e,c.fn,void 0,!0),u){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,t),!0;case 3:return c.fn.call(c.context,t,r),!0;case 4:return c.fn.call(c.context,t,r,o),!0;case 5:return c.fn.call(c.context,t,r,o,i),!0;case 6:return c.fn.call(c.context,t,r,o,i,a),!0}for(d=1,s=new Array(u-1);u>d;d++)s[d-1]=arguments[d];c.fn.apply(c.context,s)}else{var h,f=c.length;for(d=0;f>d;d++)switch(c[d].once&&this.removeListener(e,c[d].fn,void 0,!0),u){case 1:c[d].fn.call(c[d].context);break;case 2:c[d].fn.call(c[d].context,t);break;case 3:c[d].fn.call(c[d].context,t,r);break;default:if(!s)for(h=1,s=new Array(u-1);u>h;h++)s[h-1]=arguments[h];c[d].fn.apply(c[d].context,s)}}return!0},i.prototype.on=function(e,t,r){var i=new o(t,r||this),a=n?n+e:e;return this._events||(this._events=n?{}:Object.create(null)),this._events[a]?this._events[a].fn?this._events[a]=[this._events[a],i]:this._events[a].push(i):this._events[a]=i,this},i.prototype.once=function(e,t,r){var i=new o(t,r||this,!0),a=n?n+e:e;return this._events||(this._events=n?{}:Object.create(null)),this._events[a]?this._events[a].fn?this._events[a]=[this._events[a],i]:this._events[a].push(i):this._events[a]=i,this},i.prototype.removeListener=function(e,t,r,o){var i=n?n+e:e;if(!this._events||!this._events[i])return this;var a=this._events[i],l=[];if(t)if(a.fn)(a.fn!==t||o&&!a.once||r&&a.context!==r)&&l.push(a);else for(var s=0,d=a.length;d>s;s++)(a[s].fn!==t||o&&!a[s].once||r&&a[s].context!==r)&&l.push(a[s]);return l.length?this._events[i]=1===l.length?l[0]:l:delete this._events[i],this},i.prototype.removeAllListeners=function(e){return this._events?(e?delete this._events[n?n+e:e]:this._events=n?{}:Object.create(null),this):this},i.prototype.off=i.prototype.removeListener,i.prototype.addListener=i.prototype.on,i.prototype.setMaxListeners=function(){return this},i.prefixed=n,e.exports=i},function(e,t){function r(e,t){function r(){e.Request.apply(this,arguments)}r.prototype=Object.create(e.Request.prototype),r.prototype.end=function(r){var o=e.Request.prototype.end,i=this;return new t(function(e,t){o.call(i,function(o,i){r&&r(o,i),o?(o.response=i,t(o)):e(i)})})},r.prototype.then=function(r,o){var i=e.Request.prototype.end,n=this;return new t(function(e,t){i.call(n,function(r,o){r?(r.response=o,t(r)):e(o)})}).then(r,o)};var o=function(e,t){return new r(e,t)};return o.options=function(e){return o("OPTIONS",e)},o.head=function(e,t){var r=o("HEAD",e);return t&&r.send(t),r},o.get=function(e,t){var r=o("GET",e);return t&&r.query(t),r},o.post=function(e,t){var r=o("POST",e);return t&&r.send(t),r},o.put=function(e,t){var r=o("PUT",e);return t&&r.send(t),r},o.patch=function(e,t){var r=o("PATCH",e);return t&&r.send(t),r},o.del=function(e){return o("DELETE",e)},o}e.exports=r},function(e,t,r){function o(){}function i(e){var t={}.toString.call(e);switch(t){case"[object File]":case"[object Blob]":case"[object FormData]":return!0;default:return!1}}function n(e){return e===Object(e)}function a(e){if(!n(e))return e;var t=[];for(var r in e)null!=e[r]&&l(t,r,e[r]);return t.join("&")}function l(e,t,r){return Array.isArray(r)?r.forEach(function(r){l(e,t,r)}):void e.push(encodeURIComponent(t)+"="+encodeURIComponent(r))}function s(e){for(var t,r,o={},i=e.split("&"),n=0,a=i.length;a>n;++n)r=i[n],t=r.split("="),o[decodeURIComponent(t[0])]=decodeURIComponent(t[1]);return o}function d(e){var t,r,o,i,n=e.split(/\r?\n/),a={};n.pop();for(var l=0,s=n.length;s>l;++l)r=n[l],t=r.indexOf(":"),o=r.slice(0,t).toLowerCase(),i=y(r.slice(t+1)),a[o]=i;return a}function c(e){return/[\/+]json\b/.test(e)}function u(e){return e.split(/ *; */).shift()}function h(e){return m(e.split(/ *; */),function(e,t){var r=t.split(/ *= */),o=r.shift(),i=r.shift();return o&&i&&(e[o]=i),e},{})}function f(e,t){t=t||{},this.req=e,this.xhr=this.req.xhr,this.text="HEAD"!=this.req.method&&(""===this.xhr.responseType||"text"===this.xhr.responseType)||"undefined"==typeof this.xhr.responseType?this.xhr.responseText:null,this.statusText=this.req.xhr.statusText,this.setStatusProperties(this.xhr.status),this.header=this.headers=d(this.xhr.getAllResponseHeaders()),this.header["content-type"]=this.xhr.getResponseHeader("content-type"),this.setHeaderProperties(this.header),this.body="HEAD"!=this.req.method?this.parseBody(this.text?this.text:this.xhr.response):null}function p(e,t){var r=this;C.call(this),this._query=this._query||[],this.method=e,this.url=t,this.header={},this._header={},this.on("end",function(){var e=null,t=null;try{t=new f(r)}catch(o){return e=new Error("Parser is unable to parse the response"),e.parse=!0,e.original=o,e.rawResponse=r.xhr&&r.xhr.responseText?r.xhr.responseText:null,r.callback(e)}if(r.emit("response",t),e)return r.callback(e,t);if(t.status>=200&&t.status<300)return r.callback(e,t);var i=new Error(t.statusText||"Unsuccessful HTTP response");i.original=e,i.response=t,i.status=t.status,r.callback(i,t)})}function g(e,t){return"function"==typeof t?new p("GET",e).end(t):1==arguments.length?new p("GET",e):new p(e,t)}function v(e,t){var r=g("DELETE",e);return t&&r.end(t),r}var b,C=r(13),m=r(14);b="undefined"!=typeof window?window:"undefined"!=typeof self?self:this,g.getXHR=function(){if(!(!b.XMLHttpRequest||b.location&&"file:"==b.location.protocol&&b.ActiveXObject))return new XMLHttpRequest;try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(e){}return!1};var y="".trim?function(e){return e.trim()}:function(e){return e.replace(/(^\s*|\s*$)/g,"")};g.serializeObject=a,g.parseString=s,g.types={html:"text/html",json:"application/json",xml:"application/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded"},g.serialize={"application/x-www-form-urlencoded":a,"application/json":JSON.stringify},g.parse={"application/x-www-form-urlencoded":s,"application/json":JSON.parse},f.prototype.get=function(e){return this.header[e.toLowerCase()]},f.prototype.setHeaderProperties=function(e){var t=this.header["content-type"]||"";this.type=u(t);var r=h(t);for(var o in r)this[o]=r[o]},f.prototype.parseBody=function(e){var t=g.parse[this.type];return t&&e&&(e.length||e instanceof Object)?t(e):null},f.prototype.setStatusProperties=function(e){1223===e&&(e=204);var t=e/100|0;this.status=this.statusCode=e,this.statusType=t,this.info=1==t,this.ok=2==t,this.clientError=4==t,this.serverError=5==t,this.error=4==t||5==t?this.toError():!1,this.accepted=202==e,this.noContent=204==e,this.badRequest=400==e,this.unauthorized=401==e,this.notAcceptable=406==e,this.notFound=404==e,this.forbidden=403==e},f.prototype.toError=function(){var e=this.req,t=e.method,r=e.url,o="cannot "+t+" "+r+" ("+this.status+")",i=new Error(o);return i.status=this.status,i.method=t,i.url=r,i},g.Response=f,C(p.prototype),p.prototype.use=function(e){return e(this),this},p.prototype.timeout=function(e){return this._timeout=e,this},p.prototype.clearTimeout=function(){return this._timeout=0,clearTimeout(this._timer),this},p.prototype.abort=function(){return this.aborted?void 0:(this.aborted=!0,this.xhr.abort(),this.clearTimeout(),this.emit("abort"),this)},p.prototype.set=function(e,t){if(n(e)){for(var r in e)this.set(r,e[r]);return this}return this._header[e.toLowerCase()]=t,this.header[e]=t,this},p.prototype.unset=function(e){return delete this._header[e.toLowerCase()],delete this.header[e],this},p.prototype.getHeader=function(e){return this._header[e.toLowerCase()]},p.prototype.type=function(e){return this.set("Content-Type",g.types[e]||e),this},p.prototype.parse=function(e){return this._parser=e,this},p.prototype.accept=function(e){return this.set("Accept",g.types[e]||e),this},p.prototype.auth=function(e,t){var r=btoa(e+":"+t);return this.set("Authorization","Basic "+r),this},p.prototype.query=function(e){return"string"!=typeof e&&(e=a(e)),e&&this._query.push(e),this},p.prototype.field=function(e,t){return this._formData||(this._formData=new b.FormData),this._formData.append(e,t),this},p.prototype.attach=function(e,t,r){return this._formData||(this._formData=new b.FormData),this._formData.append(e,t,r),this},p.prototype.send=function(e){var t=n(e),r=this.getHeader("Content-Type");if(t&&n(this._data))for(var o in e)this._data[o]=e[o];else"string"==typeof e?(r||this.type("form"),r=this.getHeader("Content-Type"),"application/x-www-form-urlencoded"==r?this._data=this._data?this._data+"&"+e:e:this._data=(this._data||"")+e):this._data=e;return!t||i(e)?this:(r||this.type("json"),this)},p.prototype.callback=function(e,t){var r=this._callback;this.clearTimeout(),r(e,t)},p.prototype.crossDomainError=function(){var e=new Error("Request has been terminated\nPossible causes: the network is offline, Origin is not allowed by Access-Control-Allow-Origin, the page is being unloaded, etc.");e.crossDomain=!0,e.status=this.status,e.method=this.method,e.url=this.url,this.callback(e)},p.prototype.timeoutError=function(){var e=this._timeout,t=new Error("timeout of "+e+"ms exceeded");t.timeout=e,this.callback(t)},p.prototype.withCredentials=function(){return this._withCredentials=!0,this},p.prototype.end=function(e){var t=this,r=this.xhr=g.getXHR(),n=this._query.join("&"),a=this._timeout,l=this._formData||this._data;this._callback=e||o,r.onreadystatechange=function(){if(4==r.readyState){var e;try{e=r.status}catch(o){e=0}if(0==e){if(t.timedout)return t.timeoutError();if(t.aborted)return;return t.crossDomainError()}t.emit("end")}};var s=function(e){e.total>0&&(e.percent=e.loaded/e.total*100),t.emit("progress",e)};this.hasListeners("progress")&&(r.onprogress=s);try{r.upload&&this.hasListeners("progress")&&(r.upload.onprogress=s)}catch(d){}if(a&&!this._timer&&(this._timer=setTimeout(function(){t.timedout=!0,t.abort()},a)),n&&(n=g.serializeObject(n),this.url+=~this.url.indexOf("?")?"&"+n:"?"+n),r.open(this.method,this.url,!0),this._withCredentials&&(r.withCredentials=!0),"GET"!=this.method&&"HEAD"!=this.method&&"string"!=typeof l&&!i(l)){var u=this.getHeader("Content-Type"),h=this._parser||g.serialize[u?u.split(";")[0]:""];!h&&c(u)&&(h=g.serialize["application/json"]),h&&(l=h(l))}for(var f in this.header)null!=this.header[f]&&r.setRequestHeader(f,this.header[f]);return this.emit("request",this),r.send("undefined"!=typeof l?l:null),this},p.prototype.then=function(e,t){return this.end(function(r,o){r?t(r):e(o)})},g.Request=p,g.get=function(e,t,r){var o=g("GET",e);return"function"==typeof t&&(r=t,t=null),t&&o.query(t),r&&o.end(r),o},g.head=function(e,t,r){var o=g("HEAD",e);return"function"==typeof t&&(r=t,t=null),t&&o.send(t),r&&o.end(r),o},g.del=v,g["delete"]=v,g.patch=function(e,t,r){var o=g("PATCH",e);return"function"==typeof t&&(r=t,t=null),t&&o.send(t),r&&o.end(r),o},g.post=function(e,t,r){var o=g("POST",e);return"function"==typeof t&&(r=t,t=null),t&&o.send(t),r&&o.end(r),o},g.put=function(e,t,r){var o=g("PUT",e);return"function"==typeof t&&(r=t,t=null),t&&o.send(t),r&&o.end(r),o},e.exports=g},function(e,t){function r(e){return e?o(e):void 0}function o(e){for(var t in r.prototype)e[t]=r.prototype[t];return e}e.exports=r,r.prototype.on=r.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks[e]=this._callbacks[e]||[]).push(t),this},r.prototype.once=function(e,t){function r(){o.off(e,r),t.apply(this,arguments)}var o=this;return this._callbacks=this._callbacks||{},r.fn=t,this.on(e,r),this},r.prototype.off=r.prototype.removeListener=r.prototype.removeAllListeners=r.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var r=this._callbacks[e];if(!r)return this;if(1==arguments.length)return delete this._callbacks[e],this;for(var o,i=0;i<r.length;i++)if(o=r[i],o===t||o.fn===t){r.splice(i,1);break}return this},r.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),r=this._callbacks[e];if(r){r=r.slice(0);for(var o=0,i=r.length;i>o;++o)r[o].apply(this,t)}return this},r.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks[e]||[]},r.prototype.hasListeners=function(e){return!!this.listeners(e).length}},function(e,t){e.exports=function(e,t,r){for(var o=0,i=e.length,n=3==arguments.length?r:e[o++];i>o;)n=t.call(null,n,e[o],++o,e);return n}},function(e,t){function r(e,t,r){var o;return o=t?new i(e,t):new i(e)}var o=function(){return this}(),i=o.WebSocket||o.MozWebSocket;e.exports=i?r:null,i&&(r.prototype=i.prototype)},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}},function(e,t){e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},function(e,t,r){(function(e,o){function i(e,r){var o={seen:[],stylize:a};return arguments.length>=3&&(o.depth=arguments[2]),arguments.length>=4&&(o.colors=arguments[3]),g(r)?o.showHidden=r:r&&t._extend(o,r),T(o.showHidden)&&(o.showHidden=!1),T(o.depth)&&(o.depth=2),T(o.colors)&&(o.colors=!1),T(o.customInspect)&&(o.customInspect=!0),o.colors&&(o.stylize=n),s(o,e,o.depth)}function n(e,t){var r=i.styles[t];return r?"["+i.colors[r][0]+"m"+e+"["+i.colors[r][1]+"m":e}function a(e,t){return e}function l(e){var t={};return e.forEach(function(e,r){t[e]=!0}),t}function s(e,r,o){if(e.customInspect&&r&&x(r.inspect)&&r.inspect!==t.inspect&&(!r.constructor||r.constructor.prototype!==r)){var i=r.inspect(o,e);return m(i)||(i=s(e,i,o)),i}var n=d(e,r);if(n)return n;var a=Object.keys(r),g=l(a);if(e.showHidden&&(a=Object.getOwnPropertyNames(r)),k(r)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return c(r);if(0===a.length){if(x(r)){var v=r.name?": "+r.name:"";return e.stylize("[Function"+v+"]","special")}if(S(r))return e.stylize(RegExp.prototype.toString.call(r),"regexp");if(_(r))return e.stylize(Date.prototype.toString.call(r),"date");if(k(r))return c(r)}var b="",C=!1,y=["{","}"];if(p(r)&&(C=!0,y=["[","]"]),x(r)){var T=r.name?": "+r.name:"";b=" [Function"+T+"]"}if(S(r)&&(b=" "+RegExp.prototype.toString.call(r)),_(r)&&(b=" "+Date.prototype.toUTCString.call(r)),k(r)&&(b=" "+c(r)),0===a.length&&(!C||0==r.length))return y[0]+b+y[1];if(0>o)return S(r)?e.stylize(RegExp.prototype.toString.call(r),"regexp"):e.stylize("[Object]","special");e.seen.push(r);var w;return w=C?u(e,r,o,g,a):a.map(function(t){return h(e,r,o,g,t,C)}),e.seen.pop(),f(w,b,y)}function d(e,t){if(T(t))return e.stylize("undefined","undefined");if(m(t)){var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(r,"string")}return C(t)?e.stylize(""+t,"number"):g(t)?e.stylize(""+t,"boolean"):v(t)?e.stylize("null","null"):void 0}function c(e){return"["+Error.prototype.toString.call(e)+"]"}function u(e,t,r,o,i){for(var n=[],a=0,l=t.length;l>a;++a)A(t,String(a))?n.push(h(e,t,r,o,String(a),!0)):n.push("");return i.forEach(function(i){i.match(/^\d+$/)||n.push(h(e,t,r,o,i,!0))}),n}function h(e,t,r,o,i,n){var a,l,d;if(d=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]},d.get?l=d.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):d.set&&(l=e.stylize("[Setter]","special")),A(o,i)||(a="["+i+"]"),l||(e.seen.indexOf(d.value)<0?(l=v(r)?s(e,d.value,null):s(e,d.value,r-1),l.indexOf("\n")>-1&&(l=n?l.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+l.split("\n").map(function(e){return"   "+e}).join("\n"))):l=e.stylize("[Circular]","special")),T(a)){if(n&&i.match(/^\d+$/))return l;a=JSON.stringify(""+i),a.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+l}function f(e,t,r){var o=0,i=e.reduce(function(e,t){return o++,t.indexOf("\n")>=0&&o++,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0);return i>60?r[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+r[1]:r[0]+t+" "+e.join(", ")+" "+r[1]}function p(e){return Array.isArray(e)}function g(e){return"boolean"==typeof e}function v(e){return null===e}function b(e){return null==e}function C(e){return"number"==typeof e}function m(e){return"string"==typeof e}function y(e){return"symbol"==typeof e}function T(e){return void 0===e}function S(e){return w(e)&&"[object RegExp]"===E(e)}function w(e){return"object"==typeof e&&null!==e}function _(e){return w(e)&&"[object Date]"===E(e)}function k(e){return w(e)&&("[object Error]"===E(e)||e instanceof Error)}function x(e){return"function"==typeof e}function P(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||"undefined"==typeof e}function E(e){return Object.prototype.toString.call(e)}function R(e){return 10>e?"0"+e.toString(10):e.toString(10)}function F(){var e=new Date,t=[R(e.getHours()),R(e.getMinutes()),R(e.getSeconds())].join(":");return[e.getDate(),j[e.getMonth()],t].join(" ")}function A(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var D=/%[sdj%]/g;t.format=function(e){if(!m(e)){for(var t=[],r=0;r<arguments.length;r++)t.push(i(arguments[r]));return t.join(" ")}for(var r=1,o=arguments,n=o.length,a=String(e).replace(D,function(e){if("%%"===e)return"%";if(r>=n)return e;switch(e){case"%s":return String(o[r++]);case"%d":return Number(o[r++]);case"%j":try{return JSON.stringify(o[r++])}catch(t){return"[Circular]"}default:return e}}),l=o[r];n>r;l=o[++r])a+=v(l)||!w(l)?" "+l:" "+i(l);return a},t.deprecate=function(r,i){function n(){if(!a){if(o.throwDeprecation)throw new Error(i);o.traceDeprecation?console.trace(i):console.error(i),a=!0}return r.apply(this,arguments)}if(T(e.process))return function(){return t.deprecate(r,i).apply(this,arguments)};if(o.noDeprecation===!0)return r;var a=!1;return n};var L,M={};t.debuglog=function(e){if(T(L)&&(L=o.env.NODE_DEBUG||""),e=e.toUpperCase(),!M[e])if(new RegExp("\\b"+e+"\\b","i").test(L)){var r=o.pid;M[e]=function(){var o=t.format.apply(t,arguments);console.error("%s %d: %s",e,r,o)}}else M[e]=function(){};return M[e]},t.inspect=i,i.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},i.styles={special:"cyan",number:"yellow","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=p,t.isBoolean=g,t.isNull=v,t.isNullOrUndefined=b,t.isNumber=C,t.isString=m,t.isSymbol=y,t.isUndefined=T,t.isRegExp=S,t.isObject=w,t.isDate=_,t.isError=k,t.isFunction=x,t.isPrimitive=P,t.isBuffer=r(17);var j=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];t.log=function(){console.log("%s - %s",F(),t.format.apply(t,arguments))},t.inherits=r(16),t._extend=function(e,t){if(!t||!w(t))return e;for(var r=Object.keys(t),o=r.length;o--;)e[r[o]]=t[r[o]];return e}}).call(t,function(){return this}(),r(1))},function(e,t){function r(e,t,r){var o;return o=t?new i(e,t):new i(e)}var o=function(){return this}(),i=o.WebSocket||o.MozWebSocket;e.exports=i?r:null,i&&(r.prototype=i.prototype)}]);
//# sourceMappingURL=gauges.js.map